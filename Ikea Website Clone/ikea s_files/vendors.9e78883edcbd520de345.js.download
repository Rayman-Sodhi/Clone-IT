/*! For license information please see vendors.9e78883edcbd520de345.js.LICENSE.txt */
(self.webpackChunkeditorial_server=self.webpackChunkeditorial_server||[]).push([[216],{6031:e=>{e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},9930:e=>{function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t.apply(this,arguments)}e.exports=t},7437:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const i=(o={},function(e){return void 0===o[e]&&(o[e]=(t=e,n.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91)),o[e];var t});var o},2284:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(7721);var n,i=r(9798),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(1121)),a=(n=r(863))&&n.__esModule?n:{default:n};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}const u=e=>{const{prefix:t,children:r,className:n,collapsible:s,padded:u,...c}=e,d=(0,a.default)(`${t}accordion`,u&&`${t}accordion--padded`,n),f=o.Children.toArray(r),p=(0,o.useRef)(null),[h,v]=(0,o.useState)(-1),g={},_=[];f.forEach(((e,t)=>{g[e.props.id]=!!e.props.open,_[t]=e.props.disabled}));const[y,m]=(0,o.useState)(g),[E,b]=(0,o.useState)(_),I=(0,o.useMemo)((()=>({focusRef:p,selected:h,setSelected:v,openedItems:y,setOpenedItems:m,disabledItems:E,setDisabledItems:b,collapsible:s})),[y,E,h,v]);return o.default.createElement("ul",l({className:d},c),o.default.createElement(i.AccordionProvider,{value:I},f.filter((e=>e)).map(((e,t)=>(0,o.cloneElement)(e,{index:t,key:e.key||t})))))};u.defaultProps={collapsible:!0,prefix:"",padded:!1};var c=u;t.default=c},9798:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AccordionProvider=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(1121)),i=(r(7721),r(8347));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}const a=(0,n.createContext)({});t.AccordionProvider=e=>{let{value:t,children:r}=e;const{focusRef:o,selected:s,setSelected:l,openedItems:u,setOpenedItems:c,disabledItems:d,setDisabledItems:f,collapsible:p}=t;return n.default.createElement(a.Provider,{value:{disabledItems:d,setDisabledItems:f,focusRef:o,selected:s,setSelected:l,openedItems:u,setOpenedItems:c,onNavigation:i.onNavigation,onHeadingClick:p?i.onToggleMulti:i.onToggleSingle}},r)};var s=a;t.default=s},5110:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(7721);var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(1121)),i=l(r(863)),o=l(r(6272)),a=l(r(4521)),s=l(r(9798));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}const d=(0,n.forwardRef)(((e,t)=>{const{id:r,prefix:l,className:u,title:d,disabled:f,children:p,onHeadingClick:h,onHeadingClicked:v,small:g,subtitle:_,caption:y,open:m,ariaLevel:E,index:b,...I}=e,O=(0,n.useContext)(s.default),[N,R]=(0,n.useState)(m),T=(0,n.useRef)(),S=(0,i.default)(N&&!f&&`${l}accordion__item--active`,g&&`${l}accordion__item--small`,`${l}accordion__item`,u),A=(0,i.default)(N&&!f&&"rotate-180");return(0,n.useEffect)((()=>{b===O.selected&&T.current&&T.current.focus()}),[b,O.selected]),(0,n.useEffect)((()=>{let e=O.disabledItems;e[b]=f,O.setDisabledItems(e)}),[f]),(0,n.useEffect)((()=>{R(O.openedItems[r])}),[O.openedItems]),n.default.createElement("li",c({className:S,onKeyDown:e=>{["ArrowUp","ArrowDown","Home","End"].includes(e.key)&&(e.preventDefault(),O.onNavigation(O.setSelected,O.disabledItems,e.which,O.focusRef))},id:r,ref:t},I),n.default.createElement("div",{role:"heading","aria-level":E},n.default.createElement(a.default,{className:`${l}accordion__heading`,prefix:l,onClick:e=>{O.onHeadingClick(r,O.openedItems,O.setOpenedItems),v&&v(e)},"aria-controls":`SEC_${r}`,disabled:f,title:d,small:g,subtitle:y||(N?"":_),ssrIcon:o.default,iconState:A,"aria-expanded":!!N,onFocus:()=>{O.focusRef.current=b},onBlur:()=>{O.focusRef.current=null},ref:T})),n.default.createElement("div",{id:`SEC_${r}`,className:`${l}accordion__content`,"aria-labelledby":r,role:"region"},p))}));d.defaultProps={ariaLevel:"2",title:"Title",open:!1,onHeadingClick:()=>{},prefix:""};var f=d;t.default=f},4521:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(9024)),i=l(r(2857)),o=l(r(863)),a=(r(7721),function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(1121)));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}const c=(0,a.forwardRef)(((e,t)=>{const{prefix:r,ssrIcon:i,iconState:s,small:l,title:c,subtitle:d,onClick:f,disabled:p,className:h,onFocus:v,onBlur:g,..._}=e,y=(0,o.default)(h,`${r}accordion-item-header`,l&&`${r}accordion-item-header--small`);return a.default.createElement("button",u({type:"button",disabled:p,className:y,onClick:f,onFocus:v,onBlur:g,ref:t},_),a.default.createElement("span",{className:`${r}accordion-item-header__title-wrapper`},a.default.createElement("span",{className:`${r}accordion-item-header__title`},c),d&&a.default.createElement("span",{className:`${r}accordion-item-header__subtitle`},d)),a.default.createElement(n.default,{prefix:r,className:`${r}accordion-item-header__icon`,paths:i,modifier:s}))}));c.defaultProps={title:"",subtitle:"",prefix:"",ssrIcon:i.default};var d=c;t.default=d},7990:(e,t,r)=>{"use strict";Object.defineProperty(t,"Qd",{enumerable:!0,get:function(){return i.default}}),t.ZP=void 0;var n=o(r(2284)),i=o(r(5110));function o(e){return e&&e.__esModule?e:{default:e}}var a=n.default;t.ZP=a},8347:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onToggleSingle=t.onToggleMulti=t.onNavigation=void 0;const r=(e,t)=>{const r=e;Object.keys(r).forEach((e=>{r[e]=!1})),t({...e,...r})};t.onToggleMulti=(e,t,n)=>{t[e]?r(t,n):(r(t,n),n({...t,[e]:!t[e]}))},t.onToggleSingle=(e,t,r)=>{r({...t,[e]:!t[e]})},t.onNavigation=(e,t,r,n)=>{switch(r){case 40:e(((e,t)=>{const r=t.length-1;let n=-1,i=!1,o=e>=r?0:e+1;for(;!i;)t[o]?o=o>=r?0:o+1:(n=o,i=!0);return n})(n.current,t));break;case 38:e(((e,t)=>{const r=t.length-1;let n=-1,i=!1,o=e<=0?r:e-1;for(;!i;)t[o]?o=o<=0?r:o-1:(n=o,i=!0);return n})(n.current,t));break;case 36:e((e=>{let t=-1,r=!1,n=0;for(;!r;)e[n]||(t=n,r=!0),n++;return t})(t));break;case 35:e((e=>{let t=-1,r=!1,n=e.length-1;for(;!r;)e[n]||(t=n,r=!0),n--;return t})(t))}}},5783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(1121)),i=(r(7721),o(r(863)));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}const s=e=>{let{prefix:t,className:r,ratio:o,children:s,...l}=e;const u=(0,i.default)(`${t}aspect-ratio-box`,o&&`${t}aspect-ratio-box--${o}`,r);return n.default.createElement("span",a({className:`${u}`},l),s)};s.defaultProps={prefix:"",ratio:"standard"};var l=s;t.default=l},6630:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(5783))&&n.__esModule?n:{default:n}).default;t.default=i},2465:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(7721),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(1121)),o=l(r(9024)),a=l(r(863)),s=l(r(4524));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}const d=["primary","emphasised","secondary","tertiary"],f={children:(0,n.oneOfType)([(0,n.arrayOf)(n.node),n.node]),className:n.string,disabled:n.bool,expanding:n.bool,fluid:n.bool,href:n.string,htmlType:n.string,iconOnly:n.bool,iconPosition:(0,n.oneOf)(["leading","trailing"]),inverseTheme:(e,t,r)=>-1===d.indexOf(e.type)&&e.inverseTheme?new Error(`The property: 'inverseTheme' provided to Button is not applicable to the Button of the type '${e.type}'. Please remove it or set it to false`):(0,n.checkPropTypes)({inverseTheme:n.bool},e,"prop",r),loading:n.bool,loadingSrText:(0,n.oneOfType)([n.string,n.element]),newWindow:n.bool,onClick:n.func,prefix:n.string,small:n.bool,ssrIcon:n.func,text:(0,n.oneOfType)([n.string,n.element]),type:(0,n.oneOf)(["primary","emphasised","secondary","tertiary","danger","plain","image-overlay"]),xsmallIconOnly:n.bool,expandedOnTouchDevice:n.bool},p=(0,i.forwardRef)(((e,t)=>{const{small:r,xsmallIconOnly:n,href:l,newWindow:u,loadingSrText:f,ssrIcon:p,iconOnly:h,prefix:v,htmlType:g,disabled:_,className:y,onClick:m,text:E,type:b,expanding:I,loading:O,iconPosition:N,fluid:R,inverseTheme:T,children:S,expandedOnTouchDevice:A,...L}=e;let P=b||"secondary";h&&p&&(P=`icon-${P}`),T&&d.indexOf(b)>-1&&(P=`${P}-inverse`);const x=(0,a.default)(`${v}btn__inner`);let M;const C=`${v}btn__icon`,w="danger"===b?s.default:p;w&&(M=i.default.createElement(o.default,{className:C,prefix:v,paths:w}));const D=(0,a.default)(`${v}btn`,O&&`${v}btn--loading`,r&&`${v}btn--small`,h&&n&&`${v}btn--xsmall`,!h&&w&&N&&`${v}${N}-icon`,b&&`${v}btn--${P}`,R&&!h&&`${v}btn--fluid`,I&&`${v}btn--expanding`,I&&A&&`${v}btn--touch-device-expanded`,y),k=l?"a":"button",U="a"===k?function(e){if(O||" "!==e.key)return!0;e.target.click()}:null,V=l?"button":null,F={...l&&{href:l},...u&&{target:"_blank"}};return i.default.createElement(k,c({ref:t,"aria-disabled":O,type:l?null:g,role:V,disabled:_,className:D,onClick:m,onKeyUp:U},F,L),i.default.createElement("span",{className:x},M,E&&i.default.createElement("span",{className:`${v}btn__label`},E),S,O&&i.default.createElement("span",{className:`${v}btn__loader`},f)))}));p.defaultProps={text:"",disabled:!1,htmlType:"button",type:"secondary",prefix:"",iconOnly:!1,iconPosition:"leading",loadingSrText:"Loadingâ€¦"},p.propTypes=f;var h=p;t.default=h},4161:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(2465))&&n.__esModule?n:{default:n}).default;t.default=i},9472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=(e,t)=>{let r;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];clearTimeout(r),r=setTimeout((()=>{e(...i)}),t)}}},1846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollLeftPrevCustom=t.scrollLeftNextCustom=t.scrollLeftDirection=void 0,t.scrollLeftDirection=()=>{document.body.insertAdjacentHTML("beforeend","<div style='direction: rtl;       position: absolute; left: 0; top: 0; overflow: hidden; width: 1px;       height: 1px;'><div style='width: 2px; height: 1px;'></div></div>");const e=document.body.lastElementChild,t=e.scrollLeft>0;e.scrollLeft=-1;const r=e.scrollLeft<0,n=r||t,i=r;return document.body.removeChild(e),n&&i?"negative":n&&!i?"reversed":"positive"},t.scrollLeftNextCustom=(e,t,r,n)=>{if(!e)return r.offsetLeft;switch(t){case"negative":return r.offsetLeft-n.offsetWidth+r.getBoundingClientRect().width;case"reversed":return n.scrollWidth-2*n.offsetWidth+r.offsetLeft+r.getBoundingClientRect().width;default:return n.offsetWidth-r.offsetLeft-r.getBoundingClientRect().width}},t.scrollLeftPrevCustom=(e,t,r,n)=>{if(!e)return r.offsetLeft+r.getBoundingClientRect().width-n.offsetWidth;switch(t){case"negative":return r.offsetLeft;case"reversed":return n.scrollWidth-n.offsetWidth+r.offsetLeft;default:return-r.offsetLeft}}},6309:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:200,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>{};const a=Date.now(),s=e[t],l=r-s;let u=!1;const c=()=>{const d=Date.now()-a;if(!u){if(d/i>1)return e[t]=r,f(),void o();e[t]=n(d,s,l,i),requestAnimationFrame(c)}},d=()=>{u=!0,f(),o()},f=()=>{e.removeEventListener("wheel",d),e.removeEventListener("touchstart",d)};return e.addEventListener("wheel",d,{passive:!0}),e.addEventListener("touchstart",d,{passive:!0}),c(),d}},5773:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(1121)),i=(r(7721),f(r(4161))),o=f(r(6963)),a=f(r(9524)),s=f(r(1570)),l=f(r(6309)),u=f(r(3854)),c=f(r(9472)),d=f(r(863));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}class v extends n.Component{constructor(e){super(e),this.state={isScrolling:!1,currentIndex:e.slideIndex,visibleSlides:[],partiallyVisibleSlides:[],targetScroll:0,currentScroll:0,initialized:!1,draggable:!1,prevPosition:0,prevSliderPosition:0,slideShowDragging:!1,intersectionObserverDisabled:!1},"default"!==e.id?(this.skipButtonId=`${e.prefix}-carousel__${e.id}-skip-btn`,this.previousBtnId=`${e.prefix}-carousel__${e.id}-prev-btn`,this.nextBtnId=`${e.prefix}-carousel__${e.id}-next-btn`):(this.skipButtonId=`${e.prefix}carousel-${Math.random().toString(36).substring(2)}__skip-btn`,this.previousBtnId=`${e.prefix}carousel-${Math.random().toString(36).substring(2)}__prev-btn`,this.nextBtnId=`${e.prefix}carousel-${Math.random().toString(36).substring(2)}__next-btn`),this._visibleSlides=[],this._partiallyVisibleSlides=[],this._visibleSlidesLength=null,this.onKeyUp=this.onKeyUp.bind(this),this.observeSlides=this.observeSlides.bind(this),this.setScrollState=this.setScrollState.bind(this),this.onScrollIndicatorClick=this.onScrollIndicatorClick.bind(this),this.slideRefs=[],this.onButtonClick=this.onButtonClick.bind(this),this.handleScrollBarMouseMove=this.handleScrollBarMouseMove.bind(this),this.handleScrollBarMouseDown=this.handleScrollBarMouseDown.bind(this),this.handleScrollBarMouseUp=this.handleScrollBarMouseUp.bind(this),this.handleSwipe=this.handleSwipe.bind(this),n.createRef&&(this.component=(0,n.createRef)(),this.container=(0,n.createRef)(),this.scroller=(0,n.createRef)(),this.slider=(0,n.createRef)(),this.scrollIndicator=(0,n.createRef)())}clamp(e,t,r){return e<=t?t:e>=r?r:e}setScrollState(){this.setState({currentScroll:this.scroller.scrollLeft})}observeSlides(e,t){e.forEach((e=>{const r=t&&t.thresholds;r&&e.intersectionRatio>=t.thresholds[1]?-1===this._visibleSlides.indexOf(e.target)&&this._visibleSlides.push(e.target):this._visibleSlides=this._visibleSlides.filter((t=>t!==e.target)),r&&e.intersectionRatio>=t.thresholds[0]?-1===this._partiallyVisibleSlides.indexOf(e.target)&&this._partiallyVisibleSlides.push(e.target):this._partiallyVisibleSlides=this._partiallyVisibleSlides.filter((t=>t!==e.target)),this.debouncedSetVisibilityState(this._visibleSlides),this.setState({partiallyVisibleSlides:this._partiallyVisibleSlides}),this.partiallyVisibleIndexes=this._partiallyVisibleSlides.map((e=>this.slideRefs.indexOf(e)))}))}_getVisibleMinMax(e,t){return void 0===e||0===e.length?null:Math[t].apply(Math,e)}get maxVisible(){return this._getVisibleMinMax(this.visibleIndexes,"max")}get maxPartiallyVisible(){return this._getVisibleMinMax(this.partiallyVisibleIndexes,"max")}get minVisible(){return this._getVisibleMinMax(this.visibleIndexes,"min")}get minPartiallyVisible(){return this._getVisibleMinMax(this.partiallyVisibleIndexes,"min")}get firstSlide(){return this.slideRefs.length>0?this.slideRefs[0]:null}get lastSlide(){return this.slideRefs.length>0?this.slideRefs[this.lastSlideIndex]:null}get isFirstSlideVisible(){return(0,c.default)((()=>{if(0===this.state.currentScroll)return!0}),100),this._visibleSlides.indexOf(this.firstSlide)>-1}get isLastSlideVisible(){return(0,c.default)((()=>{if(this.state.currentScroll===this.maxScrollWidth)return!0}),100),this._visibleSlides.indexOf(this.lastSlide)>-1}get allSlidesVisible(){return this.isFirstSlideVisible&&this.isLastSlideVisible}get lastSlideIndex(){return this.slideRefs.length-1}get nextSlide(){return null===this.maxVisible?this.maxPartiallyVisible:this.maxVisible+1}get prevSlide(){return null===this.minVisible?this.minPartiallyVisible:this.minVisible-1}get visibleSlidesLength(){return this._visibleSlidesLength?this._visibleSlidesLength:this.clamp(this.state.visibleSlides.length,1,1/0)}get scrollWidth(){return this.scroller?this.scroller.scrollWidth:1/0}get maxScrollWidth(){return this.scroller?this.scrollWidth-this.scroller.offsetWidth:1/0}getPreviousScroll(e){return!this.props.isSlideShow&&this.props.rtl?e.offsetLeft:e.offsetLeft+e.getBoundingClientRect().width-this.scroller.offsetWidth}getNextScroll(e){return!this.props.isSlideShow&&this.props.rtl?e.offsetLeft-this.scroller.offsetWidth+e.getBoundingClientRect().width:e.offsetLeft}onButtonClick(e){if(this.state.isScrolling)return;const t=this.clamp("right"===e?this.nextSlide:this.prevSlide,0,this.lastSlideIndex);this.goToIndex(t,e),"right"===e&&this.props.onBtnRightClick&&this.props.onBtnRightClick(),"left"===e&&this.props.onBtnLeftClick&&this.props.onBtnLeftClick()}goToIndex(e,t){e=this.clamp(e,0,this.lastSlideIndex);const r=this.slideRefs[e];if(!r)return void this.scrollTo(0);let n="right"===t?this.getNextScroll(r):this.getPreviousScroll(r);0===e&&(n=0),this.scrollTo(n)}easing(e,t,r,n){return r*(0,u.default)(.4,0,.4,1)(e/n)+t}scrollTo(e){if(this.setState({targetScroll:e}),this.stopObservingSlides(),!this.state.initialized||window.matchMedia("(prefers-reduced-motion: reduce)").matches)return this.scroller.scrollLeft=e,this.startObservingSlides(),void(this.state.initialized||this.setState({initialized:!0}));this.setState({isScrolling:!0}),(0,l.default)(this.scroller,"scrollLeft",e,this.easing,200,(()=>{this.setState({isScrolling:!1}),this.startObservingSlides()}))}startObservingSlides(){this.setState({slideShowDragging:!1}),"IntersectionObserver"in window&&"IntersectionObserverEntry"in window?(this.visibleSlideObserver=new IntersectionObserver(this.observeSlides,{root:this.scroller,threshold:[.99,.001],margin:"1px"}),this.slideRefs.forEach((e=>!!e&&this.visibleSlideObserver.observe(e))),this.setState({intersectionObserverDisabled:!1})):this.setState({intersectionObserverDisabled:!0})}stopObservingSlides(){this.visibleSlideObserver&&this.visibleSlideObserver.disconnect()}onKeyUp(e){let t;if("ArrowLeft"===e.key||"ArrowRight"===e.key){switch(e.preventDefault(),e.key){case"ArrowLeft":t=this.props.rtl?"right":"left";break;case"ArrowRight":t=this.props.rtl?"left":"right";break;default:return}this.onButtonClick(t)}}onScrollIndicatorClick(e){if(!this.scrollIndicator)return;const{children:t,isSlideShow:r}=this.props,n=t.length;if(e.target===this.scrollIndicator.childNodes[0])return;const i=this.scrollIndicator.getBoundingClientRect().left,o=this.scrollIndicator.getBoundingClientRect().width,a=100*(e.clientX-i)/o*this.maxScrollWidth/100;if(r){const e=this.maxScrollWidth/(n-1),t=this.maxScrollWidth/n;let r=Math.round(a/e)*e;a<t?r=0:a>t*(n-1)&&(r=this.maxScrollWidth),this.scrollTo(this.props.rtl?r-this.maxScrollWidth:r)}else this.scrollTo(this.props.rtl?a-this.maxScrollWidth:a)}adjustSliderPosition(){this.goToIndex(this.state.currentIndex)}handleSwipe(){this.state.slideShowDragging&&requestAnimationFrame((()=>{this.setState({slideShowDragging:!1})}))}handleScrollBarMouseDown(e){this.setState({draggable:!0,prevPosition:e.pageX,prevSliderPosition:this.scroller.scrollLeft,slideShowDragging:!0})}handleScrollBarMouseUp(){this.setState({draggable:!1})}handleScrollBarMouseMove(e){if(!this.state.draggable)return;const t=this.scrollWidth/this.scrollIndicator.scrollWidth;this.scroller.scrollLeft=this.state.prevSliderPosition+(e.pageX-this.state.prevPosition)*t}componentDidMount(){this.resizeEventCallback=(0,c.default)((()=>{this._visibleSlidesLength=this._visibleSlides?this._visibleSlides.length:null,this.props.onResize&&this.props.onResize(),this.stopObservingSlides(),this.startObservingSlides(),this.slideRefs[0]&&this.slideRefs[0].getBoundingClientRect().width*this.slideRefs.length<=this.scroller.offsetWidth&&this.adjustSliderPosition()}),250),window.addEventListener("mousemove",this.handleScrollBarMouseMove),window.addEventListener("mouseup",this.handleScrollBarMouseUp),window.addEventListener("resize",this.resizeEventCallback),this.scroller.addEventListener("wheel",this.handleSwipe),this.scroller.addEventListener("scroll",this.setScrollState),this.debouncedSetVisibilityState=(0,c.default)((e=>{this._visibleSlidesLength||(this._visibleSlidesLength=e.length),this.setState({visibleSlides:e}),this.visibleIndexes=e.map((e=>this.slideRefs.indexOf(e)))}),100),this.startObservingSlides(),this.adjustSliderPosition()}componentWillUnmount(){window.removeEventListener("mousemove",this.handleScrollBarMouseMove),window.removeEventListener("mouseup",this.handleScrollBarMouseUp),window.removeEventListener("resize",this.resizeEventCallback),this.scroller.removeEventListener("wheel",this.handleSwipe),this.scroller.removeEventListener("scroll",this.setScrollState),this.stopObservingSlides()}componentDidUpdate(e,t){this.props.slideIndex!==e.slideIndex&&this.goToIndex(this.props.slideIndex,t.currentIndex)}render(){const{id:e,slideIndex:t,hasNoControls:r,children:l,prefix:u,rtl:c,ariaLabelLeftBtn:f,ariaLabelRightBtn:p,controlBtnType:v,onBtnRightClick:g,onBtnLeftClick:_,onResize:y,itemClass:m,contentClass:E,bodyWrapperClass:b,isSlideShow:I,hasNoScrollbar:O,className:N,skipButtonText:R,...T}=this.props,{currentScroll:S,isScrolling:A,slideShowDragging:L,draggable:P}=this.state,x=this.isLastSlideVisible,M=this.isFirstSlideVisible,C=this.allSlidesVisible,w=S/this.maxScrollWidth*100,D=this.scroller.offsetWidth/this.scroller.scrollWidth*100;let k=n.default.Children.toArray(l).filter((e=>e)).map(((t,r)=>n.default.createElement("div",{ref:e=>this.slideRefs[r]=e,className:(0,d.default)(`${u}carousel-slide`,m),key:`${e}-${r}`},t)));const U=(0,d.default)(`${u}carousel`,N,I&&`${u}carousel__slide-show`,this.state.intersectionObserverDisabled&&`${u}carousel--intersection-observer-disabled`,P&&`${u}carousel--dragging`),V=(0,d.default)(`${u}carousel__content`,E,!A&&`${u}carousel__content--snap-slide`,L&&`${u}carousel__content--drag-slide`,C&&`${u}carousel__content--single-slide`),F=(0,d.default)(`${u}carousel__body`,I&&`${u}carousel__body--slide-show`);return n.default.createElement("div",h({className:U,tabIndex:"-1",ref:this.component},T,{onKeyUp:this.onKeyUp}),n.default.createElement("a",{href:`#${this.skipButtonId}`,className:`${u}btn--primary-inverse ${u}carousel__skip-button`},R),n.default.createElement("div",{className:`${u}carousel__wrapper`,ref:this.container},!r&&n.default.createElement(i.default,{id:this.previousBtnId,"aria-controls":`${u}carousel__${e}`,prefix:u,small:!0,iconOnly:!0,ssrIcon:a.default,type:v,"aria-label":f,className:(0,d.default)(`${u}carousel__button`,M&&`${u}carousel__button--hidden`),onClick:()=>this.onButtonClick("left")}),n.default.createElement("div",{className:V,ref:e=>this.scroller=e},n.default.createElement("div",{className:(0,d.default)(`${u}carousel__body-wrapper`,b)},n.default.createElement("div",{id:`${u}carousel__${e}`,className:F,ref:this.slider},k))),!r&&n.default.createElement(i.default,{id:this.nextBtnId,"aria-controls":`${u}carousel__${e}`,prefix:u,small:!0,iconOnly:!0,ssrIcon:o.default,type:v,"aria-label":p,className:(0,d.default)(`${u}carousel__button`,`${u}carousel__button--right`,x&&`${u}carousel__button--hidden`),onClick:()=>this.onButtonClick("right")})),!C&&!O&&n.default.createElement(s.default,{prefix:u,"aria-controls":`${u}carousel__${e}`,"aria-orientation":"horizontal","aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":Math.floor(w),barPosition:w,barWidth:D,ref:e=>this.scrollIndicator=e,onClick:this.onScrollIndicatorClick,onMouseDown:this.handleScrollBarMouseDown,draggable:this.state.draggable}),n.default.createElement("div",{id:this.skipButtonId,tabIndex:"-1"}))}}v.defaultProps={id:"default",slideIndex:0,hasNoControls:!1,children:[],prefix:"",ariaLabelLeftBtn:"See previous items",ariaLabelRightBtn:"See next items",controlBtnType:"primary",skipButtonText:"Skip listing",onBtnRightClick:()=>{},onBtnLeftClick:()=>{},contentClass:"",bodyWrapperClass:"",itemClass:""};var g=v;t.default=g},8055:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OverflowCarousel=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(1121)),i=(r(7721),f(r(4161))),o=f(r(2857)),a=f(r(7316)),s=f(r(863)),l=f(r(3854)),u=f(r(9472)),c=f(r(6309)),d=r(1846);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}const h=(e,t)=>void 0===e||0===e.length?null:Math[t].apply(Math,e),v=e=>{const{children:t,prefix:r="",id:f="default",className:p,hasNoControls:v,controlBtnType:g,ariaLabelRightBtn:_,ariaLabelLeftBtn:y,onBtnRightClick:m,onBtnLeftClick:E,rtl:b,slideIndex:I=null}=e,O=(0,n.useRef)(null),N=n.default.useRef([]),[R,T]=(0,n.useState)(!0),[S,A]=(0,n.useState)(!0),[L,P]=(0,n.useState)(!1),[x,M]=(0,n.useState)(null),[C,w]=(0,n.useState)(!1),[D,k]=(0,n.useState)(!1),[U,V]=(0,n.useState)(!1),[F,j]=(0,n.useState)({visibleIndexes:[],visibleSlides:[],partiallyVisibleIndexes:[],partiallyVisibleSlides:[]}),[B,$]=(0,n.useState)([]),K=`${r}overflow-carousel__${f}-prev-btn`,G=`${r}overflow-carousel__${f}-next-btn`;let H=[],z=[];const W=()=>(b?"reversed"===x&&O.current.scrollLeft===X():0===O.current.scrollLeft)||F.visibleSlides.indexOf(B[0])>-1,Y=()=>F.visibleSlides.indexOf(q)>-1||(b?"reversed"===x&&0===O.current.scrollLeft:O.current.scrollLeft===X()),q=B[B.length-1],X=()=>O.current?O.current.scrollWidth-O.current.offsetWidth:1/0,Z=e=>(0,d.scrollLeftPrevCustom)(b,x,e,O.current),J=e=>(0,d.scrollLeftNextCustom)(b,x,e,O.current),Q=(e,t,r,n)=>r*(0,l.default)(.4,0,.4,1)(e/n)+t,ee=(0,n.useCallback)(((e,t)=>{e.forEach((e=>{const r=t&&t.thresholds;r&&e.intersectionRatio>=t.thresholds[1]?-1===H.indexOf(e.target)&&H.push(e.target):H=H.filter((t=>t!==e.target)),r&&e.intersectionRatio>=t.thresholds[0]?-1===z.indexOf(e.target)&&z.push(e.target):z=z.filter((t=>t!==e.target))})),j({visibleIndexes:H.map((e=>B.indexOf(e))),visibleSlides:H,partiallyVisibleIndexes:z.map((e=>B.indexOf(e))),partiallyVisibleSlides:z})})),te=(0,n.useCallback)((e=>{P(!0),(0,c.default)(O.current,"scrollLeft",e,Q,200,(()=>{P(!1)}))}),[]),re=(0,n.useCallback)((e=>{if(L)return;const t="right"===e?J((()=>{if(0===F.visibleIndexes.length&&F.partiallyVisibleIndexes){const e=h(F.partiallyVisibleIndexes,"max")+1;return e>B.length-1?B[e-1]:B[e]}return null===B[h(F.visibleIndexes,"max")]?B[h(F.partiallyVisibleIndexes,"max")]:B[h(F.visibleIndexes,"max")+1]})()):Z((()=>{if(0===F.visibleIndexes.length&&F.partiallyVisibleIndexes){const e=h(F.partiallyVisibleIndexes,"min")-1;return e<0?B[0]:B[e]}return null===B[h(F.visibleIndexes,"min")]?B[h(F.partiallyVisibleIndexes,"min")]:B[h(F.visibleIndexes,"min")-1]})());te(t),"right"===e&&m&&m(),"left"===e&&E&&E()})),ne=(0,n.useCallback)((e=>{D||(k(!0),e.target.parentNode.classList.contains(`${r}overflow-carousel__button`)||w(!0))})),ie=(0,n.useCallback)((0,u.default)((()=>{void 0!==F.partiallyVisibleSlides&&0!==F.partiallyVisibleSlides.length&&(T(W),A(Y))}),250));(0,n.useEffect)((()=>{const e=O.current.parentNode;return e.addEventListener("touchstart",ne),()=>{e.removeEventListener("touchstart",ne)}}),[D]),(0,n.useEffect)((()=>{void 0!==F.partiallyVisibleSlides&&0!==F.partiallyVisibleSlides.length&&(T(W),A(Y))}),[F,b]);const oe=(0,n.useCallback)((e=>{let t;j((e=>(t=e,e))),N.current=t}),[]),ae=(0,n.useCallback)((e=>{if(N.current.visibleSlides&&-1!==N.current.visibleSlides.indexOf(e.target))return;const t="Tab"!==e.key||e.shiftKey?Z(e.target):J(e.target);te(t)}),[]);(0,n.useEffect)((()=>{const e=[].slice.call(O.current.children);return e.forEach((e=>!!e&&e.addEventListener("keyup",ae))),e.forEach((e=>!!e&&e.addEventListener("keydown",oe))),$(e),window.addEventListener("resize",ie),()=>{window.removeEventListener("resize",ie),e.forEach((e=>!!e&&e.removeEventListener("keyup",ae))),e.forEach((e=>!!e&&e.removeEventListener("keydown",oe)))}}),[n.default.Children.toArray(t).length]),(0,n.useEffect)((()=>{if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window){const e=new IntersectionObserver(ee,{root:O.current,threshold:[.99,.001],margin:"1px"});return B.forEach((t=>!!t&&e.observe(t))),V(!1),()=>{e.disconnect()}}V(!0)}),[B]),(0,n.useEffect)((()=>{M((0,d.scrollLeftDirection)())}),[b]),(0,n.useEffect)((()=>{if(0===B.length||null===I)return;const e=J(B[I]);te(e)}),[B,I,b]);const se=`${r}overflow-carousel`;return n.default.createElement("div",{className:(0,s.default)(se,U&&`${se}--intersection-observer-disabled`,p)},!v&&!C&&n.default.createElement(i.default,{id:K,"aria-controls":`${se}__${f}-prev-btn`,prefix:r,xsmallIconOnly:!0,iconOnly:!0,inverseTheme:!0,ssrIcon:a.default,type:g,"aria-label":y,className:(0,s.default)(`${se}__button`,R&&`${se}__button--hidden`),onClick:()=>re("left")}),n.default.createElement("div",{className:`${se}__content`,ref:O},t),!v&&!C&&n.default.createElement(i.default,{id:G,"aria-controls":`${se}__${f}-next-btn`,prefix:r,xsmallIconOnly:!0,iconOnly:!0,inverseTheme:!0,ssrIcon:o.default,type:g,"aria-label":_,className:(0,s.default)(`${se}__button`,`${se}__button--right`,S&&`${se}__button--hidden`),onClick:()=>re("right")}))};t.OverflowCarousel=v,v.defaultProps={id:"default",hasNoControls:!1,prefix:"",slideIndex:null,ariaLabelLeftBtn:"See previous items",ariaLabelRightBtn:"See next items",controlBtnType:"primary",onBtnRightClick:()=>{},onBtnLeftClick:()=>{}}},1570:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(1121)),i=(r(7721),o(r(863)));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}var s=n.default.forwardRef(((e,t)=>{let{prefix:r,barPosition:o,barWidth:s,onClick:l,onMouseDown:u,draggable:c,...d}=e;const f=100/s*(o-s*o/100),p=(0,i.default)(`${r}scroll-indicator__bar`,c&&`${r}scroll-indicator__bar-dragging`),h=(0,i.default)(`${r}scroll-indicator`,c&&`${r}scroll-indicator--dragging`);return n.default.createElement("div",a({className:h,onClick:e=>l(e),tabIndex:"0",role:"scrollbar"},d),s>0&&n.default.createElement("span",{className:`${r}scroll-indicator__bar-wrapper`,ref:t},n.default.createElement("span",{className:p,style:{width:`${s}%`,transform:`translateX(${f}%)`},onMouseDown:e=>u(e)})))}));t.default=s},1423:(e,t,r)=>{"use strict";t.ZP=void 0;var n,i=(n=r(5773))&&n.__esModule?n:{default:n},o=(r(8055),i.default);t.ZP=o},4881:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(7721);var n=a(r(1121)),i=a(r(1589)),o=a(r(863));function a(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}const l=e=>{let{className:t,subtle:r,list:a,prefix:l,describedById:u,name:c,...d}=e;const f=(0,o.default)(`${l}checkbox-group`,t);return n.default.createElement("fieldset",s({className:f,role:"group"},d),n.default.createElement("legend",null,c),a.map(((e,t)=>n.default.createElement(i.default,s({key:t,prefix:l},e,{subtle:r})))))};l.defaultProps={name:"Group name",subtle:!1,prefix:""};var u=l;t.default=u},7473:(e,t,r)=>{"use strict";var n;t.Z=void 0;var i=((n=r(4881))&&n.__esModule?n:{default:n}).default;t.Z=i},6917:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(7721);var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(1121)),i=s(r(5198)),o=s(r(863)),a=r(8722);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}const c=(0,n.forwardRef)(((e,t)=>{const{className:r,prefix:s,id:l,label:c,name:d,value:f,onChange:p,disabled:h,describedById:v,required:g,subtle:_,...y}=e,m=(0,o.default)(_&&`${s}checkbox--subtle`,`${s}checkbox`,r),{shouldValidate:E,valid:b}=(0,n.useContext)(a.FormFieldContext);return n.default.createElement("div",{className:m},n.default.createElement("input",u({ref:t,type:"checkbox",value:f,name:d,id:l,disabled:h,onChange:p,"aria-describedby":v,required:g,"aria-invalid":E?!b:null},y)),n.default.createElement("span",{className:`${s}checkbox__symbol`}),c&&n.default.createElement("span",{className:`${s}checkbox__label`},n.default.createElement(i.default,{prefix:s,htmlFor:l,label:c})))}));c.defaultProps={name:"checkboxname",disabled:!1,prefix:"",subtle:!1};var d=c;t.default=d},1589:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(6917))&&n.__esModule?n:{default:n}).default;t.default=i},4513:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(7721);var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(1121)),i=c(r(863)),o=c(r(204)),a=r(3087),s=c(r(2770)),l=c(r(9944)),u=c(r(9024));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}const p=e=>{let{prefix:t,characterLimit:r,children:c,validation:d,fieldHelper:p,shouldValidate:h,valid:v,className:g,disabled:_,...y}=e;const m=h&&!v,{id:E,msg:b,linkText:I,link:O,...N}=m?d:p;let R=m?d.type:p.type;!R&&m&&(R="error");const T=`${t}form-field`,S=(0,i.default)(`${T}`,R&&`${T}--${R}`,r&&`${T}--with-character-limit`,_&&`${t}disabled`,g);let A=null;h&&v?A=l.default:h&&!v&&(A=s.default);const L=n.default.createElement("span",f({id:E,"aria-hidden":_,className:`${T}__message-wrapper`},N),!_&&A&&R&&n.default.createElement("span",{className:`${T}__icon-wrapper`},n.default.createElement(u.default,{className:`${T}__icon`,prefix:t,paths:A})),n.default.createElement("span",{className:`${T}__message`},b),I&&O&&n.default.createElement(o.default,{prefix:t,url:O,text:I})),P=E,[x,M]=(0,n.useState)(0),C=(0,i.default)(`${T}__character-limit`,x>r&&`${T}__character-limit--error`),w=0!==r&&r>0;return n.default.createElement(a.FormFieldProvider,{valid:v,shouldValidate:h,setCharacterCount:M},n.default.createElement("div",f({className:S},y),n.default.Children.map(c,(e=>{if(e.props.list)return e;const t={describedById:b?P:null};return n.default.cloneElement(e,t)})),(b||w)&&n.default.createElement("div",{className:`${T}__content`},L,w&&n.default.createElement("span",{className:C},x,"/",r))))};p.defaultProps={fieldHelper:{},validation:{type:"error"},shouldValidate:!1,prefix:""};var h=p;t.default=h},3087:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormFieldProvider=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(1121));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}r(7721);const o=(0,n.createContext)({});t.FormFieldProvider=e=>{let{children:t,shouldValidate:r,setCharacterCount:i,valid:a,...s}=e;return n.default.createElement(o.Provider,{value:{shouldValidate:r,setCharacterCount:i,valid:a}},t)};var a=o;t.default=a},8722:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FormFieldContext",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"FormFieldProvider",{enumerable:!0,get:function(){return o.FormFieldProvider}}),t.default=void 0;var n,i=(n=r(4513))&&n.__esModule?n:{default:n},o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(3087));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}var s=i.default;t.default=s},4898:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(1121)),o=(r(7721),(n=r(863))&&n.__esModule?n:{default:n});function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}const l=(0,i.forwardRef)(((e,t)=>{const{prefix:r,children:n,text:a,url:l,subtle:u,disabled:c,button:d,colour:f,className:p,onClick:h,newWindow:v,ariaControls:g,..._}=e,y=(0,o.default)(p,`${r}link`,f&&`${r}link--${f}`,u&&`${r}link--subtle`,c&&`${r}link--disabled`);return i.default.createElement("a",s({ref:t,target:v?"_blank":null},_,{href:l,className:y,role:d?"button":null,"aria-disabled":d&&c?`${c}`:null,"aria-controls":g||null,onClick:d&&c?function(e){e.preventDefault()}:h}),a&&a.length>0?a:"",a&&n?" ":null,n)}));l.defaultProps={className:"",disabled:!1,url:"#",button:!1,newWindow:!1,prefix:""};var u=l;t.default=u},204:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(4898))&&n.__esModule?n:{default:n}).default;t.default=i},4519:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(1121)),i=(r(7721),l(r(9024))),o=l(r(8685)),a=l(r(5591)),s=l(r(863));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}const d=e=>{let{src:t,alt:r,className:l,prefix:u,srcSet:d,sizes:f,loading:p,fallback:h,...v}=e;const[g,_]=(0,n.useState)(!1),y=(0,s.default)(`${u}image`,(g||h)&&`${u}image--fallback`,l);(0,n.useEffect)((()=>{t&&_(!1)}),[t]);let m=a.default;g&&(m=o.default);const E=n.default.createElement("img",c({className:g||h?void 0:y,onError:()=>{_(!0)},alt:r,src:t,srcSet:d,sizes:f,loading:p},v));return g||h?n.default.createElement("span",{className:y},n.default.createElement(i.default,{paths:m,className:`${u}image__icon`,prefix:u}),E):E};d.defaultProps={prefix:"",loading:"lazy"};var f=d;t.default=f},5371:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(4519))&&n.__esModule?n:{default:n}).default;t.default=i},4385:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}r(7721);const a=e=>{let{prefix:t,label:r,reqText:n,htmlFor:a,className:s,...l}=e;return i.default.createElement("label",o({htmlFor:a,className:s},l),r,n&&i.default.createElement("em",{className:`${t}required`}," ",n))};a.defaultProps={label:"Label",className:"",prefix:""};var s=a;t.default=s},5198:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(4385))&&n.__esModule?n:{default:n}).default;t.default=i},2423:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(7721);var n=s(r(1121)),i=s(r(2001)),o=s(r(863)),a=s(r(1041));function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}const u=e=>{const t=document.body;if(a.default.pop(),0===a.default.length&&t.classList.toString().indexOf(`${e}prevent-scroll-y`)>-1){const r=t.getAttribute("data-skapa--scroll"),n=t.getAttribute("data-skapa--pad");t.classList.remove(`${e}prevent-scroll-y`),t.style.paddingRight=n,window.scrollTo(0,r),t.style.top="",t.removeAttribute("data-skapa--scroll"),t.removeAttribute("data-skapa--pad"),t.style.length||t.removeAttribute("style")}return!0},c=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.map((e=>e&&e(...r)))}},d=e=>{let{className:t,visible:r,prefix:s,children:d,handleCloseBtn:f,focusLockProps:p,keepContentMounted:h,escapable:v,onModalClosed:g,onModalOpened:_,scrollLock:y,...m}=e;const[E,b]=n.default.useState(r),[I,O]=n.default.useState(!1),N=n.default.useRef(-1),R=`${s}modal-wrapper`,T=()=>{b(!1),O(!0)},S=()=>{b(!0),y&&(e=>{const t=document.body;if(a.default.push(!0),-1===t.classList.toString().indexOf(`${e}prevent-scroll-y`)){const r=window.pageYOffset||window.scrollY;t.setAttribute("data-skapa--scroll",r);const n=t.style.paddingRight;t.setAttribute("data-skapa--pad",n);let i=t.clientWidth;t.classList.add(`${e}prevent-scroll-y`),i=t.clientWidth-i,t.style.top=`-${r}px`,i&&(t.style.paddingRight=`calc(${n||"0px"} + ${i}px)`),window.scrollTo(0,0)}})(s)};n.default.useEffect((()=>{r!==E&&(r?S:T)()}),[r]),n.default.useEffect((()=>(r&&S(),()=>{y&&u(s),cancelAnimationFrame(N.current)})),[]);const A=(0,o.default)(R,E?`${R}--open`:`${R}--close`,t),L=(0,o.default)(`${R}__backdrop`,`${R}__backdrop--dark`),P=n.default.Children.map(d,(e=>n.default.cloneElement(e,{open:E,closeBtnClick:f,prefix:s})));return n.default.createElement("div",l({},m,{onKeyDown:c(m.onKeyDown,(e=>{(!e.target.closest||e.target.closest(`.${R}`)===e.currentTarget)&&v&&"Escape"===e.key&&(f?f(e):T())})),className:A,tabIndex:"-1",onAnimationEnd:e=>{cancelAnimationFrame(N.current),E?_&&(N.current=requestAnimationFrame(_)):I&&(y&&u(s),O(!1),g&&(N.current=requestAnimationFrame(g)))}}),n.default.createElement("div",{className:L,onMouseDown:e=>{v&&e.target===e.currentTarget&&f(e)}}),(h||E||I)&&n.default.createElement(i.default,l({returnFocus:!0,autoFocus:!0},p,{children:P})))};d.defaultProps={prefix:"",focusLockProps:{},keepContentMounted:!1,escapable:!0,scrollLock:!0};var f=d;t.default=f},105:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(1121)),i=(r(7721),o(r(863)));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}const s=e=>{let{prefix:t,children:r,className:o,...s}=e;return n.default.createElement("div",a({},s,{className:(0,i.default)(`${t}modal-body`,o)}),r)};s.defaultProps={prefix:""};var l=s;t.default=l},2375:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(1121)),i=(o(r(4161)),r(7721),o(r(863)));function o(e){return e&&e.__esModule?e:{default:e}}const a=e=>{let{prefix:t,children:r,closeBtnClick:o,compact:a,renderBorder:s,className:l}=e;const u=n.default.useRef(),c=()=>!!u.current&&Number(u.current.getBoundingClientRect().width)<600,d=n.default.useRef(),[f,p]=n.default.useState(c()),h=()=>{clearTimeout(d.current),d.current=setTimeout((()=>p(c())),40)},v=n.default.Children.toArray(r);n.default.useEffect((()=>(a&&v.length&&window.addEventListener("resize",h),()=>window.removeEventListener("resize",h))),[a,r]),n.default.useLayoutEffect((()=>{p(c())}),[a,r]);const g=(0,i.default)(`${t}modal-footer`,a&&`${t}modal-footer--compact`,!s&&`${t}modal-footer--borderless`,l);return n.default.createElement("div",{className:g,ref:u},v.map(((e,r)=>{const i=e.props.onClick?t=>e.props.onClick(t,o):()=>o();return n.default.cloneElement(e,{prefix:t,key:r,onClick:i,small:a&&f&&v.length>1})})))};a.defaultProps={prefix:"",compact:!1,renderBorder:!0};var s=a;t.default=s},2302:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(1121)),i=(r(7721),l(r(863))),o=l(r(4161)),a=l(r(7537)),s=l(r(5528));function l(e){return e&&e.__esModule?e:{default:e}}const u=e=>{const{title:t,prefix:r,className:l,closeBtnClick:u,ariaCloseTxt:c,backBtnClick:d,ariaBackBtnTxt:f,floating:p}=e,h=(0,i.default)(`${r}modal-header__title-wrapper`,!d&&`${r}modal-header__title-wrapper--padded`),v=(0,i.default)(`${r}modal-header`,p&&`${r}modal-header--floating-header`,l);return n.default.createElement("div",{className:v},n.default.createElement(o.default,{prefix:r,type:"primary",inverseTheme:!0,small:!0,iconOnly:!0,ssrIcon:a.default,onClick:u,className:`${r}modal-header__close`,"aria-label":c}),!p&&t&&n.default.createElement("div",{className:h},n.default.createElement("span",{className:`${r}modal-header__title`},t)),d&&n.default.createElement(o.default,{prefix:r,type:"primary",inverseTheme:!0,small:!0,iconOnly:!0,ssrIcon:s.default,onClick:d,className:`${r}modal-header__back-button`,"aria-label":f}))};u.defaultProps={prefix:"",floating:!1,ariaBackBtnTxt:"Back"};var c=u;t.default=c},5758:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ModalBody",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ModalFooter",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"ModalHeader",{enumerable:!0,get:function(){return i.default}});var n=a(r(2375)),i=a(r(2302)),o=a(r(105));function a(e){return e&&e.__esModule?e:{default:e}}},3916:(e,t,r)=>{"use strict";Object.defineProperty(t,"fe",{enumerable:!0,get:function(){return i.ModalBody}}),Object.defineProperty(t,"mz",{enumerable:!0,get:function(){return i.ModalFooter}}),Object.defineProperty(t,"Ji",{enumerable:!0,get:function(){return o.Sheets}}),t.ZP=void 0;var n,i=r(5758),o=r(4238),a=((n=r(2423))&&n.__esModule?n:{default:n}).default;t.ZP=a},1041:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=[]},4238:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Sheets",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Theatre",{enumerable:!0,get:function(){return o.default}});var n=a(r(9218)),i=a(r(5145)),o=a(r(707));function a(e){return e&&e.__esModule?e:{default:e}}},5145:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(7721);var n=o(r(1121)),i=o(r(863));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}const s=e=>{let{className:t,prefix:r,children:o,open:s,closeBtnClick:l,title:u,footer:c,...d}=e;const f=(0,i.default)(`${r}prompt`,s?`${r}prompt--enter`:`${r}prompt--close`,t),p=c&&n.default.cloneElement(c,{prefix:r,closeBtnClick:l,renderBorder:!1})||null;return n.default.createElement("div",a({},d,{className:f,"aria-modal":"true",role:"dialog",tabIndex:"-1"}),n.default.createElement("div",{className:`${r}prompt__content-wrapper`},n.default.createElement("div",{tabIndex:"0",className:`${r}prompt__content`},n.default.createElement("h2",{className:`${r}prompt__heading`},u),o),p))};s.defaultProps={open:!1,prefix:""};var l=s;t.default=l},9218:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(7721);var n=a(r(1121)),i=a(r(863)),o=r(5758);function a(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}const l=e=>{let{className:t,prefix:r,children:a,open:l,closeBtnClick:u,header:c,alignment:d,preserveAlignment:f,footer:p,size:h,ariaCloseTxt:v,...g}=e;const _=(0,i.default)(`${r}sheets`,`${r}sheets--${h}`,"left"===d&&`${r}sheets--mirrored`,f&&`${r}sheets--preserve-alignment`,l?`${r}sheets--enter`:`${r}sheets--close`,t),y=n.default.cloneElement(c||n.default.createElement(o.ModalHeader,null),{closeBtnClick:u,prefix:r,ariaCloseTxt:v}),m=p&&n.default.cloneElement(p,{prefix:r,closeBtnClick:u})||null,E=n.default.Children.map(a,(e=>e.props?n.default.cloneElement(e,{prefix:r}):e)),b=n.default.useRef(null),[I,O]=n.default.useState(void 0);return n.default.useEffect((()=>{if(b.current){const e=b.current;Boolean(e.querySelectorAll("*[data-autofocus],*[autofocus]").length)||O(!0)}}),[]),n.default.createElement("div",s({},g,{className:_,"aria-modal":"true",role:"dialog",tabIndex:"-1"}),!y.props.floating&&y,n.default.createElement("div",{className:`${r}sheets__content-wrapper`,tabIndex:"0",ref:b,"data-autofocus":I},n.default.createElement("div",null," ",y.props.floating&&y,E)),m)};l.defaultProps={open:!1,prefix:"",ariaCloseTxt:"Close modal",size:"small",alignment:"right",preserveAlignment:!1};var u=l;t.default=u},707:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(7721);var n=a(r(1121)),i=a(r(863)),o=r(5758);function a(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}const l=e=>{let{className:t,prefix:r,children:a,open:l,closeBtnClick:u,header:c,ariaCloseTxt:d,...f}=e;const p=(0,i.default)(`${r}theatre`,l?`${r}theatre--enter`:`${r}theatre--close`,t),h=n.default.cloneElement(c||n.default.createElement(o.ModalHeader,null),{closeBtnClick:u,prefix:r,ariaCloseTxt:d}),v=n.default.Children.map(a,(e=>e.props?n.default.cloneElement(e,{prefix:r}):e));return n.default.createElement("div",s({},f,{className:p,"aria-modal":"true",role:"dialog",tabIndex:"-1"}),n.default.createElement("div",{className:`${r}theatre__content-wrapper`},h,v))};l.defaultProps={open:!1,prefix:"",ariaCloseTxt:"Close modal"};var u=l;t.default=u},2424:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1121)),i=a(r(863)),o=a(r(9024));function a(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}r(7721);const l=e=>{let{prefix:t,iconOnly:r,label:a,selected:l,disabled:u,small:c,thumbnail:d,ssrIcon:f,iconPosition:p,thumbnailAlt:h,className:v,onClick:g,..._}=e;const y=`${t}pill`,m=(0,i.default)(`${y}`,c&&`${y}--small`,r&&f&&!d&&`${y}--icon`,!r&&f&&!d&&`${t}${p}-icon`,d&&`${y}--thumbnail`,l&&!u&&`${y}--active`,v);return n.default.createElement("button",s({className:m,disabled:u,"aria-pressed":l?"true":"false",onClick:g},_),d&&n.default.createElement("img",{className:`${y}__thumbnail`,src:d,alt:h}),f&&!d&&n.default.createElement(o.default,{prefix:t,paths:f,className:`${y}__icon`}),a&&n.default.createElement("span",{className:`${y}__label`},a))};l.defaultProps={prefix:"",iconPosition:"leading"};var u=l;t.default=u},74:(e,t,r)=>{"use strict";var n;t.Z=void 0;var i=((n=r(2424))&&n.__esModule?n:{default:n}).default;t.Z=i},6116:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(1121)),i=(r(7721),d(r(863))),o=d(r(6630)),a=d(r(2210)),s=d(r(4161)),l=d(r(5371)),u=r(3618),c=r(1394);function d(e){return e&&e.__esModule?e:{default:e}}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}const p={standard:4/3,portrait:3/4,square:1,wide:16/9,semiportrait:6/7},h=["sm","md","lg","xl"],v=e=>{let{prefix:t,className:r,products:d,markersHidden:v,onImageClick:g,ratio:_,imageProps:y,categoryUrl:m,dotAriaLabel:E,withShopAll:b,onShopAllButtonClick:I,shopAllButtonLabel:O,rawImageAspect:N,shopAllButtonProps:R,...T}=e;const S=d?d.indexOf(d.find((e=>e.isPrimary))):-1,[A,L]=n.default.useState(S),[P,x]=n.default.useState(v?null:S),[M,C]=n.default.useState(null),[w,D]=n.default.useState(null),k=n.default.useRef(),[U,V]=n.default.useState(N||null),F=n.default.useRef(null),[j,B]=n.default.useState(!v),$=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"standard";const[,t,r,n,i,o]=e.match(/([^-]+)(?:-to-([^-]+)-from-([^-]+))?(?:-to-([^-]+)-from-([^-]+))?/);return{base:t,to:r,when:n,to2:i,when2:o}}(_),K=((e,t)=>{let{base:r,to:n,when:i,to2:o,when2:a}=e;const s=h.indexOf(t);return o&&s>=h.indexOf(a)?p[o]:n&&h.indexOf(t)>=h.indexOf(i)?p[n]:p[r]})($,(0,u.useBreakpoint)($.when,$.when2)),G=n.default.useRef({}),H=n.default.useRef(-1),z=n.default.useRef(0),[W,Y]=n.default.useState("undefined"==typeof window&&N&&!$.to&&(e=>{let{products:t,rawImageAspect:r,displayedImageAspect:n,lastVisibleIndex:i,firstVisibleIndex:o,primaryTagIndexInit:a}=e;return(0,c.calculateVisibility)({lastVisibleIndex:i,firstVisibleIndex:o,primaryTagIndexInit:a,products:(0,c.calculateDotPositions)({displayedImageAspect:n,rawImageAspect:r,products:t})})})({products:d,displayedImageAspect:K,lastVisibleIndex:H,firstVisibleIndex:z,rawImageAspect:N,primaryTagIndexInit:S})||d||[]),q=(0,u.useWindowSize)(!v||M),X=`${t}shoppable-image`,Z=()=>{x(A),C(!1),B(!v)},J=e=>(0,c.calculateVisibility)({imageRef:F,sizeBuffer:G,lastVisibleIndex:H,firstVisibleIndex:z,products:e,withShopAll:b,primaryTagIndexInit:S});n.default.useEffect((()=>(M&&window.addEventListener("mousemove",Z),()=>window.removeEventListener("mousemove",Z))),[M]),n.default.useEffect((()=>{if(d.length&&k.current){const e=[...k.current.querySelectorAll(`.${X}__tag a,.${X}__tag button`)];e.length>0&&e.forEach((e=>{e.tabIndex=-1}))}W.forEach(((e,t)=>{e.isPrimary&&(L(t),e.hidden||x(v?null:t))}))}),[d]),n.default.useEffect((()=>{U&&j&&(G.current.width=-1,Y(J((0,c.calculateDotPositions)({displayedImageAspect:K,rawImageAspect:U,products:d,withShopAll:b}))))}),[d,U,j,K,b]),n.default.useEffect((()=>{U&&j&&Y(J)}),[q]),n.default.useEffect((()=>{j||B(!v)}),[v]);const Q=()=>{j?U&&Y(J):B(!0)},ee=(0,i.default)(r,X,(M||!v)&&!w&&`${X}--visible-dots`,w&&`${X}--hidden-dots`),te=b&&n.default.createElement(s.default,f({},R,{prefix:t,className:`${X}__button`,ssrIcon:a.default,expandedOnTouchDevice:!0,small:!0,expanding:!0,text:O,onClick:e=>{I&&I(e)},type:"image-overlay"}));return n.default.createElement("div",{ref:k,className:ee,onMouseOver:Q,onTouchStart:Q,onKeyUp:Q,onMouseLeave:Z},n.default.createElement("a",{className:`${X}__category-link`,href:m,onClick:m?g:e=>{e.preventDefault(),e.stopPropagation(),v||D((e=>!e)),g&&g(e)},onKeyUp:v&&(e=>{let{key:t}=e;return"Tab"===t&&C(!0)})||null,onKeyDown:e=>{let{key:t,shiftKey:r}=e;((P===z.current||P===A)&&"Tab"===t&&r||"Tab"===t&&-1===H.current)&&Z()}},n.default.createElement(o.default,{prefix:t,ratio:_},n.default.createElement(l.default,f({prefix:t},y,{onLoad:e=>{let{target:t}=e;const{naturalWidth:r,naturalHeight:n}=t;V(r/n),F.current=t}})))),n.default.createElement(o.default,{prefix:t,className:`${X}__aspect-constraint`,ratio:_},W.map(((e,t)=>{const r=(0,i.default)(`${X}__tag`,`${X}__tag--${e.tagPosition}`),o=(0,i.default)(`${X}__dot`),a=(0,i.default)(`${X}__area`,(e.hidden||void 0===e.hidden)&&`${X}__area--hidden`,t===P&&`${X}__area--active`),s=e.id?`${X}-${e.id}`:`${X}-${e.href.replace(/[^0-9 ]/g,"").replace(/\s/g,"-")}-${e.dotCoordinates.x}-${e.dotCoordinates.y}-${t}`,l=n.default.createElement("a",{onMouseOver:T.onDotMouseOver&&(e=>T.onDotMouseOver(e,d[t])),onClick:T.onDotClick&&(e=>{e.stopPropagation(),T.onDotClick(e,d[t])}),onTouchEnd:!v&&(e=>((e,t)=>{t.preventDefault(),x(P!==e?e:null),T.onDotTouchEnd&&T.onDotTouchEnd(t,d[e])})(t,e))||null,onKeyUp:e=>((e,t)=>{"Tab"===t.key&&x(e)})(t,e),onKeyDown:e=>((e,t)=>{"Tab"!==t.key||t.shiftKey||e!==H.current||Z(),T.onDotKeyDown&&T.onDotKeyDown(t,d[e])})(t,e),className:o,href:e.href,"aria-labelledby":`${s}`});return n.default.createElement("div",{key:t,className:a,"aria-hidden":e.hidden||void 0===e.hidden,onClick:T.onProductClick&&(t=>T.onProductClick(t,e)),onMouseOver:()=>x(t),onMouseLeave:()=>x(null),style:{top:`${e.dotCoordinates.y}%`,left:`${e.dotCoordinates.x}%`}},l,n.default.createElement("div",{"aria-hidden":P!==t,role:"tooltip",id:`${s}`,className:r},n.default.createElement("div",{className:`${X}__tag-inner`},"string"==typeof e.pricePackage?n.default.createElement("div",{dangerouslySetInnerHTML:{__html:e.pricePackage}}):e.pricePackage,n.default.createElement("span",{className:`${X}__sr-description`},E))))})),te))};v.defaultProps={prefix:"",dotAriaLabel:"go to product page",imageProps:{},shopAllButtonProps:{}};var g=v;t.default=g},2708:(e,t,r)=>{"use strict";var n;t.Z=void 0;var i=((n=r(6116))&&n.__esModule?n:{default:n}).default;t.Z=i},1394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateVisibility=t.calculateDotPositions=void 0;var n,i=(n=r(820))&&n.__esModule?n:{default:n};t.calculateVisibility=e=>{let{imageRef:t,sizeBuffer:r,lastVisibleIndex:n,firstVisibleIndex:o,products:a,withShopAll:s,primaryTagIndexInit:l}=e;if(t&&t.current){if(r.current.width===t.current.clientWidth)return a;r.current.width=t.current.clientWidth}return((e,t,r)=>{r.current=-1,t.current=-1;for(let n=0;n<e.length;n++)e[n].hidden||(-1===t.current&&(t.current=n),r.current=n);return e})((0,i.default)((e=>{let{products:t,withShopAll:r,imageRef:n}=e,i=0,o=0,a=0;if(n&&n.current){const{clientWidth:e,clientHeight:t}=n.current;i=2e3/e,o=2e3/t,a=r?5800/t:0}return t.map((e=>{const{x:t,y:r}=e.dotCoordinates;return e.hidden=t<i||t+i>100||r<o||r+o+a>100,e}))})({products:a,withShopAll:s,imageRef:t}),t,l),o,n)},t.calculateDotPositions=e=>{let{displayedImageAspect:t,rawImageAspect:r,products:n}=e,i=1,o=1;t>r?o=t/r:i=r/t;const a=50*(1-1/i),s=50*(1-1/o),l=e=>{let{x:t,y:r}=e;return{x:(t-a)*i,y:(r-s)*o}};return n.map((e=>({...e,dotCoordinates:l(e.dotCoordinates)})))}},820:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const r=(e,t,r,n)=>{let{x:i,y:o}=e,{x:a,y:s}=t;return!(a>i+r||i>a+r||s>o+n||o>s+n)};t.default=(e,t,n)=>{if(!t||!t.current)return e;const i=4400/t.current.clientWidth,o=4400/t.current.clientHeight;let a=e;n>-1&&(a=[e[n],...e.slice(0,n),...e.slice(n+1)]);for(let e=0;e<a.length;e++){const t=a[e];if(!t.hidden)for(let n=e+1;n<a.length;n++){const e=a[n];r(t.dotCoordinates,e.dotCoordinates,i,o)&&(e.hidden=!0)}}return e}},9341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(1121)),i=(r(7721),l(r(863))),o=l(r(8658)),a=l(r(9977)),s=l(r(4161));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}const d=e=>{let{prefix:t,customOnClickAriaLabel:r,descriptionId:l,descriptionBody:u,onClick:d,className:f,playAriaLabel:p,pauseAriaLabel:h,videoNotSupportedTxt:v,...g}=e;const[_,y]=(0,n.useState)(!0),m=(0,n.useRef)();(0,n.useEffect)((()=>{window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches&&y(!1)}),[]);const E=()=>{_?m.current.pause():m.current.play(),y(!_)},b=`${t}simple-video`,I=(0,i.default)(`${b}`,f),O=(0,i.default)(`${b}__video-action`,d&&`${b}__video-action--custom-click`),N=_?h:p;return n.default.createElement(n.default.Fragment,null,n.default.createElement("video",c({"data-object-fit":"cover",ref:m,className:I,playsInline:!0,"aria-describedby":l,onKeyUp:function(e){if("Spacebar"!==e.key&&"Enter"!==e.key&&" "!==e.key)return!0;e.target.click()},muted:!0,loop:!0,autoPlay:_},g),v),n.default.createElement("button",{className:O,"aria-label":d?r:N,onClick:d||E}),n.default.createElement(s.default,{"aria-hidden":!d,tabIndex:d?0:-1,onClick:E,prefix:t,small:!0,ssrIcon:_?o.default:a.default,className:`${b}__button`,text:N,iconOnly:!0,type:"image-overlay"}),n.default.createElement("div",{id:l,className:`${b}__description`},u))};d.defaultProps={prefix:"",playAriaLabel:"play",pauseAriaLabel:"pause",customOnClickAriaLabel:"Video action",videoNotSupportedTxt:"Sorry, your browser doesnâ€™t support embedded videos."};var f=d;t.default=f},9493:(e,t,r)=>{"use strict";var n;t.Z=void 0;var i=((n=r(9341))&&n.__esModule?n:{default:n}).default;t.Z=i},6275:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(1121)),i=(r(7721),o(r(863)));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}const s=e=>{let{prefix:t,viewBox:r,paths:o,colour:s,className:l,size:u,modifier:c,alt:d,ariaHidden:f,...p}=e;const h=(0,i.default)(`${t}svg-icon`,l,s&&`${t}svg-icon--${s}`,u&&`${t}svg-icon--${u}`,c&&`${t}svg-icon--${c}`);return o?n.default.createElement("svg",a({focusable:"false",viewBox:r},p,{className:h,"aria-hidden":f}),o().map(((e,t)=>n.default.cloneElement(e,{key:t})))):null};s.defaultProps={prefix:"",viewBox:"0 0 24 24",ariaHidden:!0};var l=s;t.default=l},9024:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(6275))&&n.__esModule?n:{default:n}).default;t.default=i},3672:(e,t,r)=>{"use strict";t.Z=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.Z=function(){return[i.default.createElement("path",{d:"M11.9989 18.001 3.9982 9.9998l1.4143-1.4142 5.5865 5.5869V2.0001h2v12.1727l5.5869-5.5861L20 10.001l-8.0011 8zM2 22.001h20v-2H2v2z"})]}},5528:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.default=function(){return[i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m3.999 11.9997 8 8.0011 1.4143-1.4141-5.5859-5.5866H20v-2H7.8273l5.5871-5.5868-1.4142-1.4143-8.0012 8.0007z"})]}},1960:(e,t,r)=>{"use strict";t.Z=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.Z=function(){return[i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m20.0008 12.0001-8-8.001-1.4143 1.414L16.1727 11H4v2h12.1723l-5.5868 5.5866 1.4141 1.4142 8.0012-8.0007z"})]}},9944:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.default=function(){return[i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m11.0001 12.5859 4.2929-4.293 1.4142 1.4143-5.7071 5.7071-3.7071-3.7071 1.4142-1.4142L11 12.5859z"})]}},6272:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.default=function(){return[i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.0003 15.5996-5.7857-5.785 1.414-1.4143 4.3717 4.3711 4.3717-4.3711 1.4141 1.4143-5.7858 5.785z"})]}},6727:(e,t,r)=>{"use strict";t.Z=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.Z=function(){return[i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9999 17.0605 3.9992 9.0593l1.4142-1.4141L12 14.2322l6.5869-6.586 1.4141 1.4143-8.0011 8z"})]}},7316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.default=function(){return[i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m8.4004 12.0007 5.785 5.7857 1.4143-1.4141-4.3711-4.3716 4.3711-4.3717-1.4143-1.4142-5.785 5.7859z"})]}},9524:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.default=function(){return[i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m7 12.0009 8.0012-8.0007 1.4142 1.4142-6.587 6.5866 6.5859 6.5868L15 20.002l-8-8.0011z"})]}},2857:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.default=function(){return[i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m15.5996 12.0007-5.785 5.7857-1.4143-1.4141 4.3711-4.3716L8.4003 7.629l1.4143-1.4142 5.785 5.7859z"})]}},6963:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.default=function(){return[i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m16.415 12.0011-8.0012 8.0007-1.4141-1.4143 6.587-6.5866-6.586-6.5868L8.415 4l8 8.0011z"})]}},9397:(e,t,r)=>{"use strict";t.Z=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.Z=function(){return[i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.0001 6.9394 8.0007 8.0013-1.4142 1.4141L12 9.7678l-6.5869 6.586-1.414-1.4143 8.001-8z"})]}},7537:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.default=function(){return[i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m11.9997 13.4149 4.9498 4.9497 1.4142-1.4142-4.9498-4.9497 4.9498-4.9498-1.4142-1.4142-4.9498 4.9498L7.05 5.6367 5.6357 7.051l4.9498 4.9498-4.9497 4.9497L7.05 18.3646l4.9497-4.9497z"})]}},8685:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.default=function(){return[i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m2.3979 2.414 19.1846 19.1907-1.3978 1.3965-3.0002-3.0011H3V5.8113L1 3.8106l1.3979-1.3965zM15.185 18.0002l-1.9994-2H6.5l2.6748-4.0122L5 7.8119V18h10.1851z"}),i.default.createElement("path",{d:"m6.8114 4.0001 1.9994 2H19v10.1924l2 2.0006V4.0001H6.8114z"}),i.default.createElement("path",{d:"M14 9.5001c0 .8284.6716 1.5 1.5 1.5s1.5-.6716 1.5-1.5-.6716-1.5-1.5-1.5-1.5.6716-1.5 1.5z"})]}},5591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.default=function(){return[i.default.createElement("path",{d:"M15.5 11c-.8284 0-1.5-.6716-1.5-1.5S14.6716 8 15.5 8s1.5.6716 1.5 1.5-.6716 1.5-1.5 1.5zM13 15.25l-3-4.5L6.5 16h11L15 12.25l-2 3z"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 4v16h18V4H3zm2 14V6h14v12H5z"})]}},2770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.default=function(){return[i.default.createElement("path",{d:"M12.9482 13.1025h-2.0035v-6h2l.0035 6zm-2.25 2.75c0-.6903.5597-1.25 1.25-1.25.6904 0 1.25.5597 1.25 1.25 0 .6904-.5596 1.25-1.25 1.25-.6903 0-1.25-.5596-1.25-1.25z"})]}},8658:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.default=function(){return[i.default.createElement("path",{d:"M5.998 4.996h4v14.0001h-4v-14zm8 0h4v14.0001h-4v-14z"})]}},9977:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.default=function(){return[i.default.createElement("path",{d:"M19 12 7 19V5l12 7z"})]}},2210:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.default=function(){return[i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1426 2.9502 4.2037 4.2037l-1.2535 7.9389 10.3866 10.3866 9.1924-9.1924L12.1426 2.9502zm-2.1134 7.0791c.5858-.5858.5858-1.5356 0-2.1214-.5857-.5857-1.5355-.5857-2.1213 0-.5858.5858-.5858 1.5356 0 2.1214.5858.5857 1.5356.5857 2.1213 0z"})]}},4524:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};t.default=function(){return[i.default.createElement("path",{d:"M11.0036 14.1337h2v-6h-2v6zm1 1.5c-.6904 0-1.25.5597-1.25 1.25 0 .6904.5596 1.25 1.25 1.25.6903 0 1.25-.5596 1.25-1.25 0-.6903-.5597-1.25-1.25-1.25z"}),i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m1.1152 20.418 10-19h1.7699l10 19-.8849 1.4657h-20l-.885-1.4657zm2.5413-.5343h16.6873L12.0002 4.0308 3.6565 19.8837z"})]}},5347:e=>{e.exports={colourCampaignSustainability:"rgba(0, 133, 62, 1)",colourIconFavourite:"rgba(224, 7, 81, 1)",colourIconDefault:"rgba(17, 17, 17, 1)",colourIconLight:"rgba(146, 146, 146, 1)",colourIconInverse:"rgba(255, 255, 255, 1)",colourDisabledUi:"rgba(223, 223, 223, 1)",colourBorderDark:"rgba(17, 17, 17, 1)",colourBorderDefault:"rgba(146, 146, 146, 1)",colourBorderLight:"rgba(223, 223, 223, 1)",colourBorderInverse:"rgba(255, 255, 255, 1)",colourTextDark:"rgba(17, 17, 17, 1)",colourTextDefault:"rgba(72, 72, 72, 1)",colourTextLightest:"rgba(118, 118, 118, 1)",colourTextInverse:"rgba(255, 255, 255, 1)",colourBgAccent:"rgba(0, 88, 163, 1)",colourBgInverse:"rgba(17, 17, 17, 1)",colourBgAlternative:"rgba(245, 245, 245, 1)",colourBgDefault:"rgba(255, 255, 255, 1)",colourCmsgBtiRed:"rgba(204, 0, 8, 1)",colourCmsgBtiYellow:"rgba(255, 219, 0, 1)",colourCmsgIkeaFamily:"rgba(0, 124, 193, 1)",colourCmsgNlp:"rgba(204, 0, 8, 1)",colourCmsgNew:"rgba(202, 80, 8, 1)",colourSemanticInformative:"rgba(0, 88, 163, 1)",colourSemanticPositive:"rgba(10, 138, 0, 1)",colourSemanticCaution:"rgba(255, 165, 36, 1)",colourSemanticNegative:"rgba(224, 7, 81, 1)",colourButtonPrimaryEmphasisedPress:"rgba(0, 62, 114, 1)",colourButtonPrimaryEmphasisedHover:"rgba(0, 79, 147, 1)",colourButtonPrimaryEmphasisedDefault:"rgba(0, 88, 163, 1)",colourButtonInverseDisabledLight:"rgba(255, 255, 255, 0.15)",colourButtonInverseBorderDefault:"rgba(255, 255, 255, 0.15)",colourButtonInverseBorderHover:"rgba(255, 255, 255, 0.3)",colourButtonInverseBorderPress:"rgba(255, 255, 255, 1)",colourButtonTertiaryInversePress:"rgba(255, 255, 255, 0.3)",colourSwitchOffHover:"rgba(128, 128, 128, 1)",colourSwitchOffPressed:"rgba(128, 128, 128, 1)",colourTransparent:"rgba(255, 255, 255, 0)",colourBackdropLight:"rgba(0, 0, 0, 0.15)",colourBackdropDark:"rgba(0, 0, 0, 0.7)",colourButtonInverseDisabledDark:"rgba(17, 17, 17, 0.15)",colourButtonPrimaryPress:"rgba(0, 0, 0, 1)",colourButtonPrimaryHover:"rgba(51, 51, 51, 1)",colourButtonPrimaryDefault:"rgba(17, 17, 17, 1)",colourButtonDangerPress:"rgba(184, 0, 41, 1)",colourButtonDangerHover:"rgba(204, 0, 61, 1)",colourButtonDangerDefault:"rgba(224, 7, 81, 1)",colourNeutralGrey900:"rgba(17, 17, 17, 1)",colourNeutralGrey700:"rgba(72, 72, 72, 1)",colourNeutralGrey500:"rgba(146, 146, 146, 1)",colourNeutralGrey300:"rgba(204, 204, 204, 1)",colourNeutralGrey200:"rgba(223, 223, 223, 1)",colourNeutralGrey100:"rgba(245, 245, 245, 1)",colourNeutralWhite:"rgba(255, 255, 255, 1)",colourPrimaryAccentDarker:"rgba(0, 62, 114, 1)",colourPrimaryAccentDark:"rgba(0, 79, 147, 1)",colourPrimaryAccent:"rgba(0, 88, 163, 1)",colourBrandRed:"rgba(204, 0, 8, 1)",colourBrandYellow:"rgba(255, 219, 0, 1)",colourBrandBlue:"rgba(0, 88, 163, 1)",fontSize1500:"5rem",fontSize1400:"4.5rem",fontSize1300:"4rem",fontSize1200:"3.5rem",fontSize1100:"3.125rem",fontSize1000:"2.875rem",fontSize900:"2.5rem",fontSize800:"2.25rem",fontSize700:"2rem",fontSize600:"1.75rem",fontSize500:"1.5rem",fontSize400:"1.375rem",fontSize300:"1.25rem",fontSize200:"1.125rem",fontSize100:"1rem",fontSize75:"0.875rem",fontSize50:"0.75rem",fontSize25:"0.6875rem",fontWeightRegular:400,fontWeightBold:700,thicknessThick:"2px",thicknessThin:"1px",radiusCap:"64px",radiusXl:"20px",radiusL:"12px",radiusM:"8px",radiusS:"4px",radiusNone:"0px",space1350:"13.5rem",space1000:"10rem",space750:"7.5rem",space550:"5.5rem",space400:"4rem",space300:"3rem",space250:"2.5rem",space200:"2rem",space150:"1.5rem",space125:"1.25rem",space100:"1rem",space75:"0.75rem",space50:"0.5rem",space25:"0.25rem",shadowSizeDefault:"0px 4px 16px rgba(0, 0, 0, 0.1)",durationInstantWeb:0,durationInstantMobileNative:0,durationInstantXlScreen:0,durationQuickWeb:"100ms",durationQuickMobileNative:"150ms",durationQuickXlScreen:"300ms",durationStandardWeb:"200ms",durationStandardMobileNative:"300ms",durationStandardXlScreen:"600ms",durationSlowWeb:"250ms",durationSlowMobileNative:"400ms",durationSlowXlScreen:"800ms",easeEasy:"cubic-bezier(0.4, 0.0, 0.4, 1.0)",easeExpressive:"cubic-bezier(0.8, 0.0, 0.0, 1.0)",easeEnter:"cubic-bezier(0.0, 0.0, 0.1, 1.0)",easeExit:"cubic-bezier(0.9, 0.0, 1.0, 1.0)",easeBob:"cubic-bezier(0.45, 1.45, 0.65, 1.0)",easeLinear:"cubic-bezier(0,0,1,1)",delayTight:"33ms",delayStandard:"100ms",delayEmphasised:"150ms",breakpointM:"37.5em",breakpointL:"56.25em",breakpointXl:"75em",lineHeight1100Long:"1.520",lineHeight1100Short:"1.320",lineHeight1200Long:"1.500",lineHeight1200Short:"1.357",lineHeight1300Long:"1.500",lineHeight1300Short:"1.300",lineHeight1400Long:"1.500",lineHeight1400Short:"1.280",lineHeight1500Long:"1.500",lineHeight1500Short:"1.300",lineHeight1000Long:"1.460",lineHeight1000Short:"1.300",lineHeight900Long:"1.500",lineHeight900Short:"1.300",lineHeight800Long:"1.500",lineHeight800Short:"1.333",lineHeight700Long:"1.500",lineHeight700Short:"1.375",lineHeight600Long:"1.570",lineHeight600Short:"1.357",lineHeight500Long:"1.670",lineHeight500Short:"1.450",lineHeight400Long:"1.545",lineHeight400Short:"1.364",lineHeight300Long:"1.600",lineHeight300Short:"1.400",lineHeight200Long:"1.555",lineHeight200Short:"1.444",lineHeight100Long:"1.625",lineHeight100Short:"1.500",lineHeight75Long:"1.571",lineHeight75Short:"1.571",lineHeight50Long:"1.500",lineHeight50Short:"1.500",lineHeight25Long:"1.450",lineHeight25Short:"1.450",letterSpacing1500:"-0.014em",letterSpacing1400:"-0.0124em",letterSpacing1300:"-0.011em",letterSpacing1200:"-0.0098em",letterSpacing1100:"-0.0087em",letterSpacing1000:"-0.0078em",letterSpacing900:"-0.007em",letterSpacing800:"-0.0063em",letterSpacing700:"-0.0056em",letterSpacing600:"-0.0049em",letterSpacing500:"-0.0042em",letterSpacing400:"-0.0039em",letterSpacing300:"0em",letterSpacing200:"0em",letterSpacing100:"0em",letterSpacing75:"0em",letterSpacing50:"0em",letterSpacing25:"0em"}},154:e=>{e.exports={}},4980:(e,t,r)=>{var n=r(5347),i=r(154);function o(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}var a={};o(n,a),o({"$body-line-height":"1.7142","$body-line-height-s":"1.5","$border-colour-focus":"#4595ff","$border-colour-hover":"#484848","$border-colour-idle":"#929292","$colour-blue-hover":"#004f93","$colour-blue-idle":"#0058a3","$colour-blue-pressed":"#003e72","$colour-brand-blue":"#0058a3","$colour-brand-yellow":"#ffdb00","$colour-semantic-positive":"#0a8a00","$colour-semantic-negative":"#e00751","$colour-feedback-focus":"#4595ff","$colour-semantic-informative":"#4595ff","$colour-semantic-caution":"#ffa524","$colour-green-hover":"#3BA133","$colour-green-idle":"#0a8a00","$colour-green-pressed":"#086E00","$colour-grey-disabled":"#dfdfdf","$colour-ikea-coworker-blue":"#151e44","$colour-ikea-coworker-yellow":"#ffcd3f","$colour-cmsg-ikea-family":"#0077c1","$colour-launch-aqua-300":"#95ebd5","$colour-launch-aqua-500":"#7ae6ca","$colour-launch-aqua-700":"#62b8a2","$colour-launch-green-300":"#c6ed9e","$colour-launch-green-500":"#d1f1b1","$colour-launch-green-700":"#93ba6b","$colour-launch-lightblue-300":"#8fc3ff","$colour-launch-lightblue-500":"#73b4ff","$colour-launch-lightblue-700":"#5c90cc","$colour-launch-purple-300":"#a56dc9","$colour-launch-purple-500":"#8e48bb","$colour-launch-purple-700":"#723a96","$colour-neutral-black":"#000000","$colour-neutral-grey-100":"#f5f5f5","$colour-neutral-grey-200":"#dfdfdf","$colour-neutral-grey-300":"#cccccc","$colour-neutral-grey-500":"#929292","$colour-neutral-grey-700":"#484848","$colour-neutral-grey-800":"#333333","$colour-neutral-grey-900":"#111111","$colour-neutral-white":"#ffffff","$colour-orange-hover":"#FFB750","$colour-orange-idle":"#ffa524","$colour-orange-pressed":"#CC841D","$colour-cmsg-bti-red":"#ef4123","$colour-cmsg-bti-yellow":"#ffdb00","$colour-cmsg-new":"#ca5008","$colour-cmsg-nlp":"#ed022a","$colour-cmsg-nlp":"#cc0008","$colour-red-hover":"#E63974","$colour-red-idle":"#e00751","$colour-red-pressed":"#B30641","$colour-white-hover":"#dfdfdf","$colour-white-idle":"#ffffff","$colour-white-pressed":"#cccccc","$colour-yellow-hover":"#FFE233","$colour-yellow-idle":"#ffdb00","$colour-yellow-pressed":"#CCAF00","$divider-colour-horizontal":"#cccccc","$divider-colour-horizontal-heading":"#484848","$divider-colour-vertical":"#cccccc","$divider-colour-vertical-scroll":"#484848","$font-family-arabic":'"Noto IKEA", "Noto IKEA Arabic", "Roboto", "Open Sans", -apple-system, sans-serif',"$font-family-japanese":'"Noto IKEA", "Noto Sans", "Noto Sans JP", "Roboto", "Open Sans", -apple-system, sans-serif',"$font-family-korean":'"Noto IKEA", "Noto Sans", "Noto Sans KR", "Roboto", "Open Sans", -apple-system, sans-serif',"$font-family-latin":'"Noto IKEA", "Noto Sans", "Roboto", "Open Sans", -apple-system, sans-serif',"$font-family-sc":'"Noto IKEA", "Noto Sans", "Noto Sans SC", "Roboto", "Open Sans", -apple-system, sans-serif',"$font-family-text":'"Noto IKEA", "Noto Sans", "Roboto", "Open Sans", -apple-system, sans-serif',"$font-family-thai":'"Noto IKEA", "Noto Sans", "Noto Sans Thai UI", "Roboto", "Open Sans", -apple-system, sans-serif',"$font-weight-bold":"700","$font-weight-regular":"400","$form-input-label-offset":"1.4375rem","$form-input-label-size-default":"1rem","$form-input-label-size-small":".75rem","$grid-max-width":"112rem","$layer-1":"100","$layer-2":"200","$layer-3":"300","$layer-4":"400","$thickness-thick-rem":".125rem","$thickness-thin-rem":".0625rem"},a),o(i,a),e.exports=a},3618:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useBreakpoint",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"useWindowSize",{enumerable:!0,get:function(){return i.default}});var n=o(r(9303)),i=o(r(3962));function o(e){return e&&e.__esModule?e:{default:e}}},9303:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mediaWidth=t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n},o=r(4980);if(!o.breakpointM||!o.breakpointL||!o.breakpointXl)throw Error("Undefined essential design tokens! Check breakpoint references at @ingka/variables");const a={},s=[],l=()=>{let e;return e=a.large.matches?d.XLARGE:a.medium.matches?d.LARGE:a.small.matches?d.MEDIUM:d.SMALL,e},u=e=>f.indexOf(e),c=()=>{let e=l();s.forEach((({current:{breakpointStateSetter:t,triggerPoints:r}})=>t((t=>r.find((r=>u(t)<u(r)!=u(e)<u(r)))?e:t))))},d={SMALL:"sm",MEDIUM:"md",LARGE:"lg",XLARGE:"xl"};t.mediaWidth=d;const f=[d.SMALL,d.MEDIUM,d.LARGE,d.XLARGE];t.default=(...e)=>{const[t,r]=i.default.useState(),n=i.default.useRef();return i.default.useEffect((()=>(n.current={breakpointStateSetter:r,triggerPoints:e},e.length&&(s.push(n),1===s.length&&(a.small||(a.small=window.matchMedia(`(min-width: ${o.breakpointM})`),a.medium=window.matchMedia(`(min-width: ${o.breakpointL})`),a.large=window.matchMedia(`(min-width: ${o.breakpointXl})`),a.all=[a.small,a.medium,a.large]),a.all.forEach((e=>e.addEventListener("change",c)))),r(l())),()=>{s.indexOf(n)>-1&&s.splice(s.indexOf(n),1),0===s.length&&(a.all.forEach((e=>e.removeEventListener("change",c))),a.all.length=0,delete a.all,Object.keys(a).map((e=>delete a[e])))})),e),t}},3962:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1121))&&n.__esModule?n:{default:n};const o=()=>({w:window.innerWidth,h:window.innerHeight}),a=[];let s;const l=()=>{clearTimeout(s),s=setTimeout((()=>{const e=o();a.forEach((t=>t(e)))}),40)},u=()=>{clearTimeout(l),window.removeEventListener("resize",l)};t.default=e=>{const[t,r]=i.default.useState(e&&"undefined"!=typeof window&&o());return i.default.useEffect((()=>(e&&(a.push(r),1===a.length&&(u(),window.addEventListener("resize",l))),()=>{let e=a.indexOf(r);e>-1&&a.splice(e,1),0===a.length&&u()})),[e]),t}},3366:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.handleError=function(e){},e}();t.NoopErrorHandler=r;var n=new r;t.setErrorHandler=function(e){n=e},t.getErrorHandler=function(){return n},t.resetErrorHandler=function(){n=new r}},6288:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(3366)),n(r(1334)),n(r(5998))},5998:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3366),i=r(420),o=r(1334),a={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4};function s(e){return"string"!=typeof e?e:("WARN"===(e=e.toUpperCase())&&(e="WARNING"),a[e]?a[e]:e)}var l=function(){function e(){this.defaultLoggerFacade=new f,this.loggers={}}return e.prototype.getLogger=function(e){return e?(this.loggers[e]||(this.loggers[e]=new f({messagePrefix:e})),this.loggers[e]):this.defaultLoggerFacade},e}(),u=function(){function e(e){void 0===e&&(e={}),this.logLevel=o.LogLevel.NOTSET,void 0!==e.logLevel&&i.isValidEnum(o.LogLevel,e.logLevel)&&this.setLogLevel(e.logLevel),this.logToConsole=void 0===e.logToConsole||!!e.logToConsole,this.prefix=void 0!==e.prefix?e.prefix:"[OPTIMIZELY]"}return e.prototype.log=function(e,t){if(this.shouldLog(e)&&this.logToConsole){var r=this.prefix+" - "+this.getLogLevelName(e)+" "+this.getTime()+" "+t;this.consoleLog(e,[r])}},e.prototype.setLogLevel=function(e){e=s(e),i.isValidEnum(o.LogLevel,e)&&void 0!==e?this.logLevel=e:this.logLevel=o.LogLevel.ERROR},e.prototype.getTime=function(){return(new Date).toISOString()},e.prototype.shouldLog=function(e){return e>=this.logLevel},e.prototype.getLogLevelName=function(e){switch(e){case o.LogLevel.DEBUG:return"DEBUG";case o.LogLevel.INFO:return"INFO ";case o.LogLevel.WARNING:return"WARN ";case o.LogLevel.ERROR:return"ERROR";default:return"NOTSET"}},e.prototype.consoleLog=function(e,t){switch(e){case o.LogLevel.DEBUG:console.log.apply(console,t);break;case o.LogLevel.INFO:console.info.apply(console,t);break;case o.LogLevel.WARNING:console.warn.apply(console,t);break;case o.LogLevel.ERROR:console.error.apply(console,t);break;default:console.log.apply(console,t)}},e}();t.ConsoleLogHandler=u;var c=o.LogLevel.NOTSET,d=null,f=function(){function e(e){void 0===e&&(e={}),this.messagePrefix="",e.messagePrefix&&(this.messagePrefix=e.messagePrefix)}return e.prototype.log=function(e,t){this.internalLog(s(e),{message:t,splat:[]})},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.namedLog(o.LogLevel.INFO,e,t)},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.namedLog(o.LogLevel.DEBUG,e,t)},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.namedLog(o.LogLevel.WARNING,e,t)},e.prototype.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.namedLog(o.LogLevel.ERROR,e,t)},e.prototype.format=function(e){return(this.messagePrefix?this.messagePrefix+": ":"")+i.sprintf.apply(void 0,[e.message].concat(e.splat))},e.prototype.internalLog=function(e,t){d&&(e<c||(d.log(e,this.format(t)),t.error&&t.error instanceof Error&&n.getErrorHandler().handleError(t.error)))},e.prototype.namedLog=function(e,t,r){var n;if(t instanceof Error)return t=(n=t).message,void this.internalLog(e,{error:n,message:t,splat:r});if(0!==r.length){var i=r[r.length-1];i instanceof Error&&(n=i,r.splice(-1)),this.internalLog(e,{message:t,error:n,splat:r})}else this.internalLog(e,{message:t,splat:r})},e}(),p=new l;t.getLogger=function(e){return p.getLogger(e)},t.setLogHandler=function(e){d=e},t.setLogLevel=function(e){e=s(e),c=i.isValidEnum(o.LogLevel,e)&&void 0!==e?e:o.LogLevel.ERROR},t.getLogLevel=function(){return c},t.resetLogger=function(){p=new l,c=o.LogLevel.NOTSET}},1334:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.LogLevel||(t.LogLevel={}))[r.NOTSET=0]="NOTSET",r[r.DEBUG=1]="DEBUG",r[r.INFO=2]="INFO",r[r.WARNING=3]="WARNING",r[r.ERROR=4]="ERROR"},420:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8556);function i(e){return Object.keys(e).map((function(t){return e[t]}))}t.getTimestamp=function(){return(new Date).getTime()},t.generateUUID=function(){return n.v4()},t.isValidEnum=function(e,t){for(var r=!1,n=Object.keys(e),i=0;i<n.length;i++)if(t===e[n[i]]){r=!0;break}return r},t.groupBy=function(e,t){var r={};return e.forEach((function(e){var n=t(e);r[n]=r[n]||[],r[n].push(e)})),i(r)},t.objectValues=i,t.find=function(e,t){for(var r,n=0,i=e;n<i.length;n++){var o=i[n];if(t(o)){r=o;break}}return r},t.keyBy=function(e,t){var r={};return e.forEach((function(e){var n=t(e);r[n]=e})),r},t.sprintf=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=0;return e.replace(/%s/g,(function(){var e=t[n++],r=typeof e;return"function"===r?e():"string"===r?e:String(e)}))}},3435:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(6910),o=r(3440),a=r(1105),s=(n=r(2689))&&"object"==typeof n&&"default"in n?n.default:n,l=r(6494),u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function c(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}var d={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},f={CONDITION_EVALUATOR_ERROR:"%s: Error evaluating audience condition of type %s: %s",DATAFILE_AND_SDK_KEY_MISSING:"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely",EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_CONFIG:"%s: Provided Optimizely config is in an invalid format.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},p={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EVENT_KEY_NOT_FOUND:"%s: Event key %s is not in datafile.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_DEFAULT_DECIDE_OPTIONS:"%s: Provided default decide options is not an array.",INVALID_DECIDE_OPTIONS:"%s: Provided decide options is not an array. Using default decide options.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is not in "Running" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",UNRECOGNIZED_DECIDE_OPTION:"%s: Unrecognized decide option %s provided.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned bucket %s to user with bucketing ID %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Feature "%s" is not enabled for user %s. Returning the default variable value "%s".',VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Variable "%s" is not used in variation "%s". Returning default value.',USER_RECEIVED_VARIABLE_VALUE:'%s: Got variable value "%s" for variable "%s" of feature flag "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for %s "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for %s %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",UPDATED_OPTIMIZELY_CONFIG:"%s: Updated Optimizely config to revision %s (project id %s)",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].',UNABLE_TO_ATTACH_UNLOAD:'%s: unable to bind optimizely.close() to page unload event: "%s"'},h={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent",FORCED_DECISION_NULL_RULE_KEY:"$opt_null_rule_key"},v=a.NOTIFICATION_TYPES,g={AB_TEST:"ab-test",FEATURE:"feature",FEATURE_TEST:"feature-test",FEATURE_VARIABLE:"feature-variable",ALL_FEATURE_VARIABLES:"all-feature-variables",FLAG:"flag"},_={FEATURE_TEST:"feature-test",ROLLOUT:"rollout",EXPERIMENT:"experiment"},y={RULE:"rule",EXPERIMENT:"experiment"},m={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string",JSON:"json"},E={V2:"2",V3:"3",V4:"4"},b={SDK_NOT_READY:"Optimizely SDK not configured properly yet.",FLAG_KEY_INVALID:'No flag was found for key "%s".',VARIABLE_VALUE_INVALID:'Variable value for key "%s" is invalid or wrong type.'},I=Object.freeze({__proto__:null,LOG_LEVEL:d,ERROR_MESSAGES:f,LOG_MESSAGES:p,CONTROL_ATTRIBUTES:h,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",REACT_CLIENT_ENGINE:"react-sdk",REACT_NATIVE_CLIENT_ENGINE:"react-native-sdk",REACT_NATIVE_JS_CLIENT_ENGINE:"react-native-js-sdk",NODE_CLIENT_VERSION:"4.8.0",NOTIFICATION_TYPES:v,DECISION_NOTIFICATION_TYPES:g,DECISION_SOURCES:_,AUDIENCE_EVALUATION_TYPES:y,FEATURE_VARIABLE_TYPES:m,DATAFILE_VERSIONS:E,DECISION_MESSAGES:b}),O="CONFIG_VALIDATOR",N=[E.V2,E.V3,E.V4],R=function(e){if("object"==typeof e&&null!==e){var t=e,r=t.errorHandler,n=t.eventDispatcher,i=t.logger;if(r&&"function"!=typeof r.handleError)throw new Error(a.sprintf(f.INVALID_ERROR_HANDLER,O));if(n&&"function"!=typeof n.dispatchEvent)throw new Error(a.sprintf(f.INVALID_EVENT_DISPATCHER,O));if(i&&"function"!=typeof i.log)throw new Error(a.sprintf(f.INVALID_LOGGER,O));return!0}throw new Error(a.sprintf(f.INVALID_CONFIG,O))},T={handleError:function(){}},S={dispatchEvent:function(e,t){var r,n=e.params,i=e.url;"POST"===e.httpVerb?((r=new XMLHttpRequest).open("POST",i,!0),r.setRequestHeader("Content-Type","application/json"),r.onreadystatechange=function(){if(4===r.readyState&&t&&"function"==typeof t)try{t({statusCode:r.status})}catch(e){}},r.send(JSON.stringify(n))):(i+="?wxhr=true",n&&(i+="&"+function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}(n)),(r=new XMLHttpRequest).open("GET",i,!0),r.onreadystatechange=function(){if(4===r.readyState&&t&&"function"==typeof t)try{t({statusCode:r.status})}catch(e){}},r.send())}},A=function(){function e(){}return e.prototype.log=function(){},e}();function L(e){return new i.ConsoleLogHandler(e)}var P,x,M=Object.freeze({__proto__:null,NoOpLogger:A,createLogger:L,createNoOpLogger:function(){return new A}});function C(e,t,r){return{variationKey:null,enabled:!1,variables:{},ruleKey:null,flagKey:e,userContext:t,reasons:r}}!function(e){e.BOOLEAN="boolean",e.DOUBLE="double",e.INTEGER="integer",e.STRING="string",e.JSON="json"}(P||(P={})),(x=t.OptimizelyDecideOption||(t.OptimizelyDecideOption={})).DISABLE_DECISION_EVENT="DISABLE_DECISION_EVENT",x.ENABLED_FLAGS_ONLY="ENABLED_FLAGS_ONLY",x.IGNORE_USER_PROFILE_SERVICE="IGNORE_USER_PROFILE_SERVICE",x.INCLUDE_REASONS="INCLUDE_REASONS",x.EXCLUDE_VARIABLES="EXCLUDE_VARIABLES";var w=i.getLogger(),D=function(){function e(e){var t,r=e.optimizely,n=e.userId,i=e.attributes;this.optimizely=r,this.userId=n,this.attributes=null!==(t=u({},i))&&void 0!==t?t:{},this.forcedDecisionsMap={}}return e.prototype.setAttribute=function(e,t){this.attributes[e]=t},e.prototype.getUserId=function(){return this.userId},e.prototype.getAttributes=function(){return u({},this.attributes)},e.prototype.getOptimizely=function(){return this.optimizely},e.prototype.decide=function(e,t){return void 0===t&&(t=[]),this.optimizely.decide(this.cloneUserContext(),e,t)},e.prototype.decideForKeys=function(e,t){return void 0===t&&(t=[]),this.optimizely.decideForKeys(this.cloneUserContext(),e,t)},e.prototype.decideAll=function(e){return void 0===e&&(e=[]),this.optimizely.decideAll(this.cloneUserContext(),e)},e.prototype.trackEvent=function(e,t){this.optimizely.track(e,this.userId,this.attributes,t)},e.prototype.setForcedDecision=function(e,t){var r;if(!this.optimizely.isValidInstance())return w.error(b.SDK_NOT_READY),!1;var n=e.flagKey,i=null!==(r=e.ruleKey)&&void 0!==r?r:h.FORCED_DECISION_NULL_RULE_KEY,o={variationKey:t.variationKey};return this.forcedDecisionsMap[n]||(this.forcedDecisionsMap[n]={}),this.forcedDecisionsMap[n][i]=o,!0},e.prototype.getForcedDecision=function(e){return this.optimizely.isValidInstance()?this.findForcedDecision(e):(w.error(b.SDK_NOT_READY),null)},e.prototype.removeForcedDecision=function(e){var t;if(!this.optimizely.isValidInstance())return w.error(b.SDK_NOT_READY),!1;var r=null!==(t=e.ruleKey)&&void 0!==t?t:h.FORCED_DECISION_NULL_RULE_KEY,n=e.flagKey,i=!1;return this.forcedDecisionsMap.hasOwnProperty(n)&&(this.forcedDecisionsMap[n].hasOwnProperty(r)&&(delete this.forcedDecisionsMap[n][r],i=!0),0===Object.keys(this.forcedDecisionsMap[n]).length&&delete this.forcedDecisionsMap[n]),i},e.prototype.removeAllForcedDecisions=function(){return this.optimizely.isValidInstance()?(this.forcedDecisionsMap={},!0):(w.error(b.SDK_NOT_READY),!1)},e.prototype.findForcedDecision=function(e){var t,r=null!==(t=e.ruleKey)&&void 0!==t?t:h.FORCED_DECISION_NULL_RULE_KEY,n=e.flagKey;if(this.forcedDecisionsMap.hasOwnProperty(e.flagKey)){var i=this.forcedDecisionsMap[n];if(i.hasOwnProperty(r))return{variationKey:i[r].variationKey}}return null},e.prototype.findValidatedForcedDecision=function(e,t){var r,n=[],i=this.findForcedDecision({flagKey:e,ruleKey:t}),o=null;return i&&(r=i.variationKey,(o=this.optimizely.getFlagVariationByKey(e,r))?t?(w.info(p.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,r,e,t,this.userId),n.push([p.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,r,e,t,this.userId])):(w.info(p.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,r,e,this.userId),n.push([p.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,r,e,this.userId])):t?(w.info(p.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,e,t,this.userId),n.push([p.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,e,t,this.userId])):(w.info(p.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,e,this.userId),n.push([p.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,e,this.userId]))),{result:o,reasons:n}},e.prototype.cloneUserContext=function(){var t=new e({optimizely:this.getOptimizely(),userId:this.getUserId(),attributes:this.getAttributes()});return Object.keys(this.forcedDecisionsMap).length>0&&(t.forcedDecisionsMap=u({},this.forcedDecisionsMap)),t},e}(),k=["and","or","not"];function U(e,t){if(Array.isArray(e)){var r=e[0],n=e.slice(1);switch("string"==typeof r&&-1===k.indexOf(r)&&(r="or",n=e),r){case"and":return function(e,t){var r=!1;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var i=U(e[n],t);if(!1===i)return!1;null===i&&(r=!0)}return!r||null}return null}(n,t);case"not":return function(e,t){if(Array.isArray(e)&&e.length>0){var r=U(e[0],t);return null===r?null:!r}return null}(n,t);default:return function(e,t){var r=!1;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var i=U(e[n],t);if(!0===i)return!0;null===i&&(r=!0)}return!!r&&null}return null}(n,t)}}return t(e)}var V=function(){function e(t,r){var n,i;this.sdkKey=null!==(n=t.sdkKey)&&void 0!==n?n:"",this.environmentKey=null!==(i=t.environmentKey)&&void 0!==i?i:"",this.attributes=t.attributes,this.audiences=e.getAudiences(t),this.events=t.events,this.revision=t.revision;var o=(t.featureFlags||[]).reduce((function(e,t){return e[t.id]=t.variables,e}),{}),a=e.getExperimentsMapById(t,o);this.experimentsMap=e.getExperimentsKeyMap(a),this.featuresMap=e.getFeaturesMap(t,o,a),this.datafile=r}return e.prototype.getDatafile=function(){return this.datafile},e.getAudiences=function(e){var t=[],r=[];return(e.typedAudiences||[]).forEach((function(e){t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name}),r.push(e.id)})),(e.audiences||[]).forEach((function(e){-1===r.indexOf(e.id)&&"$opt_dummy_audience"!=e.id&&t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name})})),t},e.getSerializedAudiences=function(t,r){var n="";if(t){var i="";t.forEach((function(t){var o="";if(t instanceof Array)o="("+(o=e.getSerializedAudiences(t,r))+")";else if(k.indexOf(t)>-1)i=t.toUpperCase();else{var a=r[t]?r[t].name:t;n||"NOT"===i?(i=""===i?"OR":i,n=""===n?i+' "'+r[t].name+'"':n.concat(" "+i+' "'+a+'"')):n='"'+a+'"'}""!==o&&(""!==n||"NOT"===i?(i=""===i?"OR":i,n=""===n?i+" "+o:n.concat(" "+i+" "+o)):n=n.concat(o))}))}return n},e.getExperimentAudiences=function(t,r){return t.audienceConditions?e.getSerializedAudiences(t.audienceConditions,r.audiencesById):""},e.mergeFeatureVariables=function(e,t,r,n,i){var o=(e[r]||[]).reduce((function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e}),{});return(n||[]).forEach((function(e){var r=t[e.id],n={id:e.id,key:r.key,type:r.type,value:i?e.value:r.defaultValue};o[r.key]=n})),o},e.getVariationsMap=function(t,r,n,i){return t.reduce((function(t,o){var a=e.mergeFeatureVariables(r,n,i,o.variables,o.featureEnabled);return t[o.key]={id:o.id,key:o.key,featureEnabled:o.featureEnabled,variablesMap:a},t}),{})},e.getVariableIdMap=function(e){return(e.featureFlags||[]).reduce((function(e,t){return t.variables.forEach((function(t){e[t.id]=t})),e}),{})},e.getDeliveryRules=function(t,r,n,i){var o=e.getVariableIdMap(t);return i.map((function(i){return{id:i.id,key:i.key,audiences:e.getExperimentAudiences(i,t),variationsMap:e.getVariationsMap(i.variations,r,o,n)}}))},e.getRolloutExperimentIds=function(e){var t=[];return(e||[]).forEach((function(e){e.experiments.forEach((function(e){t.push(e.id)}))})),t},e.getExperimentsMapById=function(t,r){var n=e.getVariableIdMap(t),i=this.getRolloutExperimentIds(t.rollouts);return(t.experiments||[]).reduce((function(o,a){if(-1===i.indexOf(a.id)){var s=t.experimentFeatureMap[a.id],l="";s&&s.length>0&&(l=s[0]);var u=e.getVariationsMap(a.variations,r,n,l.toString());o[a.id]={id:a.id,key:a.key,audiences:e.getExperimentAudiences(a,t),variationsMap:u}}return o}),{})},e.getExperimentsKeyMap=function(e){var t={};for(var r in e){var n=e[r];t[n.key]=n}return t},e.getFeaturesMap=function(t,r,n){var i={};return t.featureFlags.forEach((function(o){var a={},s=[];o.experimentIds.forEach((function(e){var t=n[e];t&&(a[t.key]=t),s.push(n[e])}));var l=(o.variables||[]).reduce((function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e}),{}),u=[],c=t.rolloutIdMap[o.rolloutId];c&&(u=e.getDeliveryRules(t,r,o.id,c.experiments)),i[o.key]={id:o.id,key:o.key,experimentRules:s,deliveryRules:u,experimentsMap:a,variablesMap:l}})),i},e}(),F=Math.pow(2,53),j={assign:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!e)return{};if("function"==typeof Object.assign)return Object.assign.apply(Object,c([e],t));for(var n=Object(e),i=0;i<t.length;i++){var o=t[i];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])}return n},currentTimestamp:function(){return Math.round((new Date).getTime())},isSafeInteger:function(e){return"number"==typeof e&&Math.abs(e)<=F},keyBy:function(e,t){return e?a.keyBy(e,(function(e){return e[t]})):{}},uuid:a.generateUUID,isNumber:function(e){return"number"==typeof e}},B="PROJECT_CONFIG",$=function(e,t){void 0===t&&(t=null);var r,n,i,o,s=(r=e,(o=j.assign({},r)).audiences=(r.audiences||[]).map((function(e){return j.assign({},e)})),o.experiments=(r.experiments||[]).map((function(e){return j.assign({},e)})),o.featureFlags=(r.featureFlags||[]).map((function(e){return j.assign({},e)})),o.groups=(r.groups||[]).map((function(e){var t=j.assign({},e);return t.experiments=(e.experiments||[]).map((function(e){return j.assign({},e)})),t})),o.rollouts=(r.rollouts||[]).map((function(e){var t=j.assign({},e);return t.experiments=(e.experiments||[]).map((function(e){return j.assign({},e)})),t})),o.environmentKey=null!==(n=r.environmentKey)&&void 0!==n?n:"",o.sdkKey=null!==(i=r.sdkKey)&&void 0!==i?i:"",o);return s.__datafileStr=null===t?JSON.stringify(e):t,(s.audiences||[]).forEach((function(e){e.conditions=JSON.parse(e.conditions)})),s.audiencesById=j.keyBy(s.audiences,"id"),j.assign(s.audiencesById,j.keyBy(s.typedAudiences,"id")),s.attributeKeyMap=j.keyBy(s.attributes,"key"),s.eventKeyMap=j.keyBy(s.events,"key"),s.groupIdMap=j.keyBy(s.groups,"id"),Object.keys(s.groupIdMap||{}).forEach((function(e){(s.groupIdMap[e].experiments||[]).forEach((function(t){s.experiments.push(j.assign(t,{groupId:e}))}))})),s.rolloutIdMap=j.keyBy(s.rollouts||[],"id"),a.objectValues(s.rolloutIdMap||{}).forEach((function(e){(e.experiments||[]).forEach((function(e){s.experiments.push(e),e.variationKeyMap=j.keyBy(e.variations,"key")}))})),s.experimentKeyMap=j.keyBy(s.experiments,"key"),s.experimentIdMap=j.keyBy(s.experiments,"id"),s.variationIdMap={},s.variationVariableUsageMap={},(s.experiments||[]).forEach((function(e){e.variationKeyMap=j.keyBy(e.variations,"key"),j.assign(s.variationIdMap,j.keyBy(e.variations,"id")),a.objectValues(e.variationKeyMap||{}).forEach((function(e){e.variables&&(s.variationVariableUsageMap[e.id]=j.keyBy(e.variables,"id"))}))})),s.experimentFeatureMap={},s.featureKeyMap=j.keyBy(s.featureFlags||[],"key"),a.objectValues(s.featureKeyMap||{}).forEach((function(e){e.variables.forEach((function(e){e.type===m.STRING&&e.subType===m.JSON&&(e.type=m.JSON,delete e.subType)})),e.variableKeyMap=j.keyBy(e.variables,"key"),(e.experimentIds||[]).forEach((function(t){s.experimentFeatureMap[t]?s.experimentFeatureMap[t].push(e.id):s.experimentFeatureMap[t]=[e.id]}))})),s.flagRulesMap={},(s.featureFlags||[]).forEach((function(e){var t=[];e.experimentIds.forEach((function(e){var r=s.experimentIdMap[e];r&&t.push(r)}));var r=s.rolloutIdMap[e.rolloutId];r&&t.push.apply(t,r.experiments),s.flagRulesMap[e.key]=t})),s.flagVariationsMap={},a.objectEntries(s.flagRulesMap||{}).forEach((function(e){var t=e[0],r=e[1],n=[];r.forEach((function(e){e.variations.forEach((function(e){a.find(n,(function(t){return t.id===e.id}))||n.push(e)}))})),s.flagVariationsMap[t]=n})),s},K=function(e,t){var r=e.experimentIdMap[t];if(!r)throw new Error(a.sprintf(f.INVALID_EXPERIMENT_ID,B,t));return r.layerId},G=function(e,t,r){var n=e.attributeKeyMap[t],i=0===t.indexOf("$opt_");return n?(i&&r.log(d.WARNING,"Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",t,"$opt_"),n.id):i?t:(r.log(d.DEBUG,f.UNRECOGNIZED_ATTRIBUTE,B,t),null)},H=function(e,t){var r=e.eventKeyMap[t];return r?r.id:null},z=function(e,t){var r=e.experimentKeyMap[t];if(!r)throw new Error(a.sprintf(f.INVALID_EXPERIMENT_KEY,B,t));return r.status},W=function(e,t){return e.variationIdMap.hasOwnProperty(t)?e.variationIdMap[t].key:null},Y=function(e,t){if(e.experimentKeyMap.hasOwnProperty(t)){var r=e.experimentKeyMap[t];if(r)return r}throw new Error(a.sprintf(f.EXPERIMENT_KEY_NOT_IN_DATAFILE,B,t))},q=function(e,t){var r=e.experimentIdMap[t];if(!r)throw new Error(a.sprintf(f.INVALID_EXPERIMENT_ID,B,t));return r.trafficAllocation},X=function(e,t,r){if(e.experimentIdMap.hasOwnProperty(t)){var n=e.experimentIdMap[t];if(n)return n}return r.log(d.ERROR,f.INVALID_EXPERIMENT_ID,B,t),null},Z=function(e,t,r){if(e.featureKeyMap.hasOwnProperty(t)){var n=e.featureKeyMap[t];if(n)return n}return r.log(d.ERROR,f.FEATURE_NOT_IN_DATAFILE,B,t),null},J=function(e){return e.__datafileStr},Q=function(e){var t;try{t=function(e){if(!e)throw new Error(a.sprintf(f.NO_DATAFILE_SPECIFIED,O));if("string"==typeof e)try{e=JSON.parse(e)}catch(e){throw new Error(a.sprintf(f.INVALID_DATAFILE_MALFORMED,O))}if("object"==typeof e&&!Array.isArray(e)&&null!==e&&-1===N.indexOf(e.version))throw new Error(a.sprintf(f.INVALID_DATAFILE_VERSION,O,e.version));return e}(e.datafile)}catch(e){return{configObj:null,error:e}}if(e.jsonSchemaValidator)try{e.jsonSchemaValidator.validate(t),e.logger.log(d.INFO,p.VALID_DATAFILE,B)}catch(e){return{configObj:null,error:e}}else e.logger.log(d.INFO,p.SKIPPING_JSON_VALIDATION,B);var r=[t];return"string"==typeof e.datafile&&r.push(e.datafile),{configObj:$.apply(void 0,r),error:null}},ee=function(e){return!!e.sendFlagDecisions},te=i.getLogger();function re(e,t){return e instanceof Error?e.message:t||"Unknown error"}var ne=function(){function e(e){this.updateListeners=[],this.configObj=null,this.optimizelyConfigObj=null,this.datafileManager=null;try{if(this.jsonSchemaValidator=e.jsonSchemaValidator,!e.datafile&&!e.sdkKey){var t=new Error(a.sprintf(f.DATAFILE_AND_SDK_KEY_MISSING,"PROJECT_CONFIG_MANAGER"));return this.readyPromise=Promise.resolve({success:!1,reason:re(t)}),void te.error(t)}var r=null;e.datafile&&(r=this.handleNewDatafile(e.datafile)),e.sdkKey&&e.datafileManager?(this.datafileManager=e.datafileManager,this.datafileManager.start(),this.readyPromise=this.datafileManager.onReady().then(this.onDatafileManagerReadyFulfill.bind(this),this.onDatafileManagerReadyReject.bind(this)),this.datafileManager.on("update",this.onDatafileManagerUpdate.bind(this))):this.configObj?this.readyPromise=Promise.resolve({success:!0}):this.readyPromise=Promise.resolve({success:!1,reason:re(r,"Invalid datafile")})}catch(e){te.error(e),this.readyPromise=Promise.resolve({success:!1,reason:re(e,"Error in initialize")})}}return e.prototype.onDatafileManagerReadyFulfill=function(){if(this.datafileManager){var e=this.handleNewDatafile(this.datafileManager.get());return e?{success:!1,reason:re(e)}:{success:!0}}return{success:!1,reason:re(null,"Datafile manager is not provided")}},e.prototype.onDatafileManagerReadyReject=function(e){return{success:!1,reason:re(e,"Failed to become ready")}},e.prototype.onDatafileManagerUpdate=function(){this.datafileManager&&this.handleNewDatafile(this.datafileManager.get())},e.prototype.handleNewDatafile=function(e){var t=Q({datafile:e,jsonSchemaValidator:this.jsonSchemaValidator,logger:te}),r=t.configObj,n=t.error;if(n)te.error(n);else{var i=this.configObj?this.configObj.revision:"null";r&&i!==r.revision&&(this.configObj=r,this.optimizelyConfigObj=null,this.updateListeners.forEach((function(e){return e(r)})))}return n},e.prototype.getConfig=function(){return this.configObj},e.prototype.getOptimizelyConfig=function(){var e,t;return!this.optimizelyConfigObj&&this.configObj&&(this.optimizelyConfigObj=(e=this.configObj,t=J(this.configObj),new V(e,t))),this.optimizelyConfigObj},e.prototype.onReady=function(){return this.readyPromise},e.prototype.onUpdate=function(e){var t=this;return this.updateListeners.push(e),function(){var r=t.updateListeners.indexOf(e);r>-1&&t.updateListeners.splice(r,1)}},e.prototype.stop=function(){this.datafileManager&&this.datafileManager.stop(),this.updateListeners=[]},e}(),ie=Math.pow(2,32),oe=function(e){var t=[],r=e.experimentIdMap[e.experimentId].groupId;if(r){var n=e.groupIdMap[r];if(!n)throw new Error(a.sprintf(f.INVALID_GROUP_ID,"BUCKETER",r));if("random"===n.policy){var i=ae(n,e.bucketingId,e.userId,e.logger);if(null===i)return e.logger.log(d.INFO,p.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,r),t.push([p.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,r]),{result:null,reasons:t};if(i!==e.experimentId)return e.logger.log(d.INFO,p.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r),t.push([p.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r]),{result:null,reasons:t};e.logger.log(d.INFO,p.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r),t.push([p.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r])}}var o=""+e.bucketingId+e.experimentId,s=le(o);e.logger.log(d.DEBUG,p.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",s,e.userId),t.push([p.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",s,e.userId]);var l=se(s,e.trafficAllocationConfig);return null===l||e.variationIdMap[l]?{result:l,reasons:t}:(l&&(e.logger.log(d.WARNING,p.INVALID_VARIATION_ID,"BUCKETER"),t.push([p.INVALID_VARIATION_ID,"BUCKETER"])),{result:null,reasons:t})},ae=function(e,t,r,n){var i=""+t+e.id,o=le(i);n.log(d.DEBUG,p.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",o,r);var a=e.trafficAllocation;return se(o,a)},se=function(e,t){for(var r=0;r<t.length;r++)if(e<t[r].endOfRange)return t[r].entityId;return null},le=function(e){try{var t=s.v3(e,1)/ie;return Math.floor(1e4*t)}catch(t){throw new Error(a.sprintf(f.INVALID_BUCKETING_ID,"BUCKETER",e,t.message))}},ue=i.getLogger();function ce(e){return/^\d+$/.test(e)}function de(e){var t=e.indexOf("-"),r=e.indexOf("+");return!(t<0)&&(r<0||t<r)}function fe(e){var t=e.indexOf("-"),r=e.indexOf("+");return!(r<0)&&(t<0||r<t)}function pe(e){var t=e,r="";if(function(e){return/\s/.test(e)}(e))return ue.warn(p.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;if(de(e)?(t=e.substring(0,e.indexOf("-")),r=e.substring(e.indexOf("-")+1)):fe(e)&&(t=e.substring(0,e.indexOf("+")),r=e.substring(e.indexOf("+")+1)),"string"!=typeof t||"string"!=typeof r)return null;var n=t.split(".").length-1;if(n>2)return ue.warn(p.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;var i=t.split(".");if(i.length!=n+1)return ue.warn(p.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;for(var o=0,a=i;o<a.length;o++)if(!ce(a[o]))return ue.warn(p.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;return r&&i.push(r),i}var he="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",ve=i.getLogger(),ge=["exact","exists","gt","ge","lt","le","substring","semver_eq","semver_lt","semver_le","semver_gt","semver_ge"],_e={};function ye(e){return"string"==typeof e||"boolean"==typeof e||j.isNumber(e)}function me(e,t){var r=e.value,n=typeof r,i=e.name,o=t[i],a=typeof o;return!ye(r)||j.isNumber(r)&&!j.isSafeInteger(r)?(ve.warn(p.UNEXPECTED_CONDITION_VALUE,he,JSON.stringify(e)),null):null===o?(ve.debug(p.UNEXPECTED_TYPE_NULL,he,JSON.stringify(e),i),null):ye(o)&&n===a?j.isNumber(o)&&!j.isSafeInteger(o)?(ve.warn(p.OUT_OF_BOUNDS,he,JSON.stringify(e),i),null):r===o:(ve.warn(p.UNEXPECTED_TYPE,he,JSON.stringify(e),a,i),null)}function Ee(e,t){var r=e.name,n=t[r],i=typeof n,o=e.value;return null!==o&&j.isSafeInteger(o)?null===n?(ve.debug(p.UNEXPECTED_TYPE_NULL,he,JSON.stringify(e),r),!1):j.isNumber(n)?!!j.isSafeInteger(n)||(ve.warn(p.OUT_OF_BOUNDS,he,JSON.stringify(e),r),!1):(ve.warn(p.UNEXPECTED_TYPE,he,JSON.stringify(e),i,r),!1):(ve.warn(p.UNEXPECTED_CONDITION_VALUE,he,JSON.stringify(e)),!1)}function be(e,t){var r=e.name,n=t[r],i=typeof n,o=e.value;return"string"!=typeof o?(ve.warn(p.UNEXPECTED_CONDITION_VALUE,he,JSON.stringify(e)),null):null===n?(ve.debug(p.UNEXPECTED_TYPE_NULL,he,JSON.stringify(e),r),null):"string"!=typeof n?(ve.warn(p.UNEXPECTED_TYPE,he,JSON.stringify(e),i,r),null):function(e,t){var r=pe(t),n=pe(e);if(!r||!n)return null;for(var i=r.length,o=0;o<n.length;o++){if(i<=o)return de(e)||fe(e)?1:-1;if(ce(r[o])){var a=parseInt(r[o]),s=parseInt(n[o]);if(a>s)return 1;if(a<s)return-1}else{if(r[o]<n[o])return de(e)&&!de(t)?1:-1;if(r[o]>n[o])return!de(e)&&de(t)?-1:1}}return de(t)&&!de(e)?-1:0}(o,n)}_e.exact=me,_e.exists=function(e,t){return null!=t[e.name]},_e.gt=function(e,t){var r=t[e.name],n=e.value;return Ee(e,t)&&null!==n?r>n:null},_e.ge=function(e,t){var r=t[e.name],n=e.value;return Ee(e,t)&&null!==n?r>=n:null},_e.lt=function(e,t){var r=t[e.name],n=e.value;return Ee(e,t)&&null!==n?r<n:null},_e.le=function(e,t){var r=t[e.name],n=e.value;return Ee(e,t)&&null!==n?r<=n:null},_e.substring=function(e,t){var r=e.name,n=t[e.name],i=typeof n,o=e.value;return"string"!=typeof o?(ve.warn(p.UNEXPECTED_CONDITION_VALUE,he,JSON.stringify(e)),null):null===n?(ve.debug(p.UNEXPECTED_TYPE_NULL,he,JSON.stringify(e),r),null):"string"!=typeof n?(ve.warn(p.UNEXPECTED_TYPE,he,JSON.stringify(e),i,r),null):-1!==n.indexOf(o)},_e.semver_eq=function(e,t){var r=be(e,t);return null===r?null:0===r},_e.semver_gt=function(e,t){var r=be(e,t);return null===r?null:r>0},_e.semver_ge=function(e,t){var r=be(e,t);return null===r?null:r>=0},_e.semver_lt=function(e,t){var r=be(e,t);return null===r?null:r<0},_e.semver_le=function(e,t){var r=be(e,t);return null===r?null:r<=0};var Ie=Object.freeze({__proto__:null,evaluate:function(e,t){var r=e.match;if(void 0!==r&&-1===ge.indexOf(r))return ve.warn(p.UNKNOWN_MATCH_TYPE,he,JSON.stringify(e)),null;var n=e.name;return t.hasOwnProperty(n)||"exists"==r?(r&&_e[r]||me)(e,t):(ve.debug(p.MISSING_ATTRIBUTE_VALUE,he,JSON.stringify(e),n),null)}}),Oe=i.getLogger(),Ne=function(){function e(e){this.typeToEvaluatorMap=j.assign({},e,{custom_attribute:Ie})}return e.prototype.evaluate=function(e,t,r){var n=this;return void 0===r&&(r={}),!e||0===e.length||!!U(e,(function(e){var i=t[e];if(i){Oe.log(d.DEBUG,p.EVALUATING_AUDIENCE,"AUDIENCE_EVALUATOR",e,JSON.stringify(i.conditions));var o=U(i.conditions,n.evaluateConditionWithUserAttributes.bind(n,r)),a=null===o?"UNKNOWN":o.toString().toUpperCase();return Oe.log(d.DEBUG,p.AUDIENCE_EVALUATION_RESULT,"AUDIENCE_EVALUATOR",e,a),o}return null}))},e.prototype.evaluateConditionWithUserAttributes=function(e,t){var r=this.typeToEvaluatorMap[t.type];if(!r)return Oe.log(d.WARNING,p.UNKNOWN_CONDITION_TYPE,"AUDIENCE_EVALUATOR",JSON.stringify(t)),null;try{return r.evaluate(t,e)}catch(e){Oe.log(d.ERROR,f.CONDITION_EVALUATOR_ERROR,"AUDIENCE_EVALUATOR",t.type,e.message)}return null},e}();function Re(e){return"string"==typeof e&&""!==e}var Te="DECISION_SERVICE",Se=function(){function e(e){var t;this.audienceEvaluator=(t=e.UNSTABLE_conditionEvaluators,new Ne(t)),this.forcedVariationMap={},this.logger=e.logger,this.userProfileService=e.userProfileService||null}return e.prototype.getVariation=function(e,r,n,i){void 0===i&&(i={});var o=n.getUserId(),a=n.getAttributes(),s=this.getBucketingId(o,a),l=[],u=r.key;if(!this.checkIfExperimentIsActive(e,u))return this.logger.log(d.INFO,p.EXPERIMENT_NOT_RUNNING,Te,u),l.push([p.EXPERIMENT_NOT_RUNNING,Te,u]),{result:null,reasons:l};var c=this.getForcedVariation(e,u,o);l.push.apply(l,c.reasons);var f=c.result;if(f)return{result:f,reasons:l};var h=this.getWhitelistedVariation(r,o);l.push.apply(l,h.reasons);var v=h.result;if(v)return{result:v.key,reasons:l};var g=i[t.OptimizelyDecideOption.IGNORE_USER_PROFILE_SERVICE],_=this.resolveExperimentBucketMap(o,a);if(!g&&(v=this.getStoredVariation(e,r,o,_)))return this.logger.log(d.INFO,p.RETURNING_STORED_VARIATION,Te,v.key,u,o),l.push([p.RETURNING_STORED_VARIATION,Te,v.key,u,o]),{result:v.key,reasons:l};var m=this.checkIfUserIsInAudience(e,r,y.EXPERIMENT,a,"");if(l.push.apply(l,m.reasons),!m.result)return this.logger.log(d.INFO,p.USER_NOT_IN_EXPERIMENT,Te,o,u),l.push([p.USER_NOT_IN_EXPERIMENT,Te,o,u]),{result:null,reasons:l};var E=this.buildBucketerParams(e,r,s,o),b=oe(E);l.push.apply(l,b.reasons);var I=b.result;return I&&(v=e.variationIdMap[I]),v?(this.logger.log(d.INFO,p.USER_HAS_VARIATION,Te,o,v.key,u),l.push([p.USER_HAS_VARIATION,Te,o,v.key,u]),g||this.saveUserProfile(r,v,o,_),{result:v.key,reasons:l}):(this.logger.log(d.DEBUG,p.USER_HAS_NO_VARIATION,Te,o,u),l.push([p.USER_HAS_NO_VARIATION,Te,o,u]),{result:null,reasons:l})},e.prototype.resolveExperimentBucketMap=function(e,t){t=t||{};var r=this.getUserProfile(e)||{},n=t[h.STICKY_BUCKETING_KEY];return j.assign({},r.experiment_bucket_map,n)},e.prototype.checkIfExperimentIsActive=function(e,t){return function(e,t){return"Running"===z(e,t)}(e,t)},e.prototype.getWhitelistedVariation=function(e,t){var r=[];if(e.forcedVariations&&e.forcedVariations.hasOwnProperty(t)){var n=e.forcedVariations[t];return e.variationKeyMap.hasOwnProperty(n)?(this.logger.log(d.INFO,p.USER_FORCED_IN_VARIATION,Te,t,n),r.push([p.USER_FORCED_IN_VARIATION,Te,t,n]),{result:e.variationKeyMap[n],reasons:r}):(this.logger.log(d.ERROR,p.FORCED_BUCKETING_FAILED,Te,n,t),r.push([p.FORCED_BUCKETING_FAILED,Te,n,t]),{result:null,reasons:r})}return{result:null,reasons:r}},e.prototype.checkIfUserIsInAudience=function(e,t,r,n,i){var o=[],s=function(e,t){var r=e.experimentIdMap[t];if(!r)throw new Error(a.sprintf(f.INVALID_EXPERIMENT_ID,B,t));return r.audienceConditions||r.audienceIds}(e,t.id),l=e.audiencesById;this.logger.log(d.DEBUG,p.EVALUATING_AUDIENCES_COMBINED,Te,r,i||t.key,JSON.stringify(s)),o.push([p.EVALUATING_AUDIENCES_COMBINED,Te,r,i||t.key,JSON.stringify(s)]);var u=this.audienceEvaluator.evaluate(s,l,n);return this.logger.log(d.INFO,p.AUDIENCE_EVALUATION_RESULT_COMBINED,Te,r,i||t.key,u.toString().toUpperCase()),o.push([p.AUDIENCE_EVALUATION_RESULT_COMBINED,Te,r,i||t.key,u.toString().toUpperCase()]),{result:u,reasons:o}},e.prototype.buildBucketerParams=function(e,t,r,n){return{bucketingId:r,experimentId:t.id,experimentKey:t.key,experimentIdMap:e.experimentIdMap,experimentKeyMap:e.experimentKeyMap,groupIdMap:e.groupIdMap,logger:this.logger,trafficAllocationConfig:q(e,t.id),userId:n,variationIdMap:e.variationIdMap}},e.prototype.getStoredVariation=function(e,t,r,n){if(n.hasOwnProperty(t.id)){var i=n[t.id],o=i.variation_id;if(e.variationIdMap.hasOwnProperty(o))return e.variationIdMap[i.variation_id];this.logger.log(d.INFO,p.SAVED_VARIATION_NOT_FOUND,Te,r,o,t.key)}return null},e.prototype.getUserProfile=function(e){var t={user_id:e,experiment_bucket_map:{}};if(!this.userProfileService)return t;try{return this.userProfileService.lookup(e)}catch(t){this.logger.log(d.ERROR,f.USER_PROFILE_LOOKUP_ERROR,Te,e,t.message)}return null},e.prototype.saveUserProfile=function(e,t,r,n){if(this.userProfileService)try{n[e.id]={variation_id:t.id},this.userProfileService.save({user_id:r,experiment_bucket_map:n}),this.logger.log(d.INFO,p.SAVED_VARIATION,Te,t.key,e.key,r)}catch(e){this.logger.log(d.ERROR,f.USER_PROFILE_SAVE_ERROR,Te,r,e.message)}},e.prototype.getVariationForFeature=function(e,t,r,n){void 0===n&&(n={});var i=[],o=this.getVariationForFeatureExperiment(e,t,r,n);i.push.apply(i,o.reasons);var a=o.result;if(null!==a.variation)return{result:a,reasons:i};var s=this.getVariationForRollout(e,t,r);i.push.apply(i,s.reasons);var l=s.result,u=r.getUserId();return l.variation?(this.logger.log(d.DEBUG,p.USER_IN_ROLLOUT,Te,u,t.key),i.push([p.USER_IN_ROLLOUT,Te,u,t.key]),{result:l,reasons:i}):(this.logger.log(d.DEBUG,p.USER_NOT_IN_ROLLOUT,Te,u,t.key),i.push([p.USER_NOT_IN_ROLLOUT,Te,u,t.key]),{result:l,reasons:i})},e.prototype.getVariationForFeatureExperiment=function(e,t,r,n){void 0===n&&(n={});var i,o,a=[],s=null;if(t.experimentIds.length>0)for(o=0;o<t.experimentIds.length;o++){var l=X(e,t.experimentIds[o],this.logger);if(l&&(i=this.getVariationFromExperimentRule(e,t.key,l,r,n),a.push.apply(a,i.reasons),s=i.result))return{result:{experiment:l,variation:l.variationKeyMap[s],decisionSource:_.FEATURE_TEST},reasons:a}}else this.logger.log(d.DEBUG,p.FEATURE_HAS_NO_EXPERIMENTS,Te,t.key),a.push([p.FEATURE_HAS_NO_EXPERIMENTS,Te,t.key]);return{result:{experiment:null,variation:null,decisionSource:_.FEATURE_TEST},reasons:a}},e.prototype.getVariationForRollout=function(e,t,r){var n=[];if(!t.rolloutId)return this.logger.log(d.DEBUG,p.NO_ROLLOUT_EXISTS,Te,t.key),n.push([p.NO_ROLLOUT_EXISTS,Te,t.key]),{result:{experiment:null,variation:null,decisionSource:_.ROLLOUT},reasons:n};var i=e.rolloutIdMap[t.rolloutId];if(!i)return this.logger.log(d.ERROR,f.INVALID_ROLLOUT_ID,Te,t.rolloutId,t.key),n.push([f.INVALID_ROLLOUT_ID,Te,t.rolloutId,t.key]),{result:{experiment:null,variation:null,decisionSource:_.ROLLOUT},reasons:n};var o,a,s,l=i.experiments;if(0===l.length)return this.logger.log(d.ERROR,p.ROLLOUT_HAS_NO_EXPERIMENTS,Te,t.rolloutId),n.push([p.ROLLOUT_HAS_NO_EXPERIMENTS,Te,t.rolloutId]),{result:{experiment:null,variation:null,decisionSource:_.ROLLOUT},reasons:n};for(var u=0;u<l.length;){if(o=this.getVariationFromDeliveryRule(e,t.key,l,u,r),n.push.apply(n,o.reasons),s=o.result,a=o.skipToEveryoneElse,s)return{result:{experiment:e.experimentIdMap[l[u].id],variation:s,decisionSource:_.ROLLOUT},reasons:n};u=a?l.length-1:u+1}return{result:{experiment:null,variation:null,decisionSource:_.ROLLOUT},reasons:n}},e.prototype.getBucketingId=function(e,t){var r=e;return null!=t&&"object"==typeof t&&t.hasOwnProperty(h.BUCKETING_ID)&&("string"==typeof t[h.BUCKETING_ID]?(r=t[h.BUCKETING_ID],this.logger.log(d.DEBUG,p.VALID_BUCKETING_ID,Te,r)):this.logger.log(d.WARNING,p.BUCKETING_ID_NOT_STRING,Te)),r},e.prototype.removeForcedVariation=function(e,t,r){if(!e)throw new Error(a.sprintf(f.INVALID_USER_ID,Te));if(!this.forcedVariationMap.hasOwnProperty(e))throw new Error(a.sprintf(f.USER_NOT_IN_FORCED_VARIATION,Te,e));delete this.forcedVariationMap[e][t],this.logger.log(d.DEBUG,p.VARIATION_REMOVED_FOR_USER,Te,r,e)},e.prototype.setInForcedVariationMap=function(e,t,r){this.forcedVariationMap.hasOwnProperty(e)||(this.forcedVariationMap[e]={}),this.forcedVariationMap[e][t]=r,this.logger.log(d.DEBUG,p.USER_MAPPED_TO_FORCED_VARIATION,Te,r,t,e)},e.prototype.getForcedVariation=function(e,t,r){var n,i=[],o=this.forcedVariationMap[r];if(!o)return this.logger.log(d.DEBUG,p.USER_HAS_NO_FORCED_VARIATION,Te,r),{result:null,reasons:i};try{var a=Y(e,t);if(!a.hasOwnProperty("id"))return this.logger.log(d.ERROR,f.IMPROPERLY_FORMATTED_EXPERIMENT,Te,t),i.push([f.IMPROPERLY_FORMATTED_EXPERIMENT,Te,t]),{result:null,reasons:i};n=a.id}catch(e){return this.logger.log(d.ERROR,e.message),i.push(e.message),{result:null,reasons:i}}var s=o[n];if(!s)return this.logger.log(d.DEBUG,p.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,Te,t,r),{result:null,reasons:i};var l=W(e,s);return l?(this.logger.log(d.DEBUG,p.USER_HAS_FORCED_VARIATION,Te,l,t,r),i.push([p.USER_HAS_FORCED_VARIATION,Te,l,t,r])):this.logger.log(d.DEBUG,p.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,Te,t,r),{result:l,reasons:i}},e.prototype.setForcedVariation=function(e,t,r,n){if(null!=n&&!Re(n))return this.logger.log(d.ERROR,f.INVALID_VARIATION_KEY,Te),!1;var i;try{var o=Y(e,t);if(!o.hasOwnProperty("id"))return this.logger.log(d.ERROR,f.IMPROPERLY_FORMATTED_EXPERIMENT,Te,t),!1;i=o.id}catch(e){return this.logger.log(d.ERROR,e.message),!1}if(null==n)try{return this.removeForcedVariation(r,i,t),!0}catch(e){return this.logger.log(d.ERROR,e.message),!1}var a=function(e,t,r){var n=e.experimentKeyMap[t];return n.variationKeyMap.hasOwnProperty(r)?n.variationKeyMap[r].id:null}(e,t,n);if(!a)return this.logger.log(d.ERROR,f.NO_VARIATION_FOR_EXPERIMENT_KEY,Te,n,t),!1;try{return this.setInForcedVariationMap(r,i,a),!0}catch(e){return this.logger.log(d.ERROR,e.message),!1}},e.prototype.getVariationFromExperimentRule=function(e,t,r,n,i){void 0===i&&(i={});var o=[],a=n.findValidatedForcedDecision(t,r.key);o.push.apply(o,a.reasons);var s=a.result;if(s)return{result:s.key,reasons:o};var l=this.getVariation(e,r,n,i);return o.push.apply(o,l.reasons),{result:l.result,reasons:o}},e.prototype.getVariationFromDeliveryRule=function(e,t,r,n,i){var o=[],a=!1,s=r[n],l=i.findValidatedForcedDecision(t,s.key);o.push.apply(o,l.reasons);var u=l.result;if(u)return{result:u,reasons:o,skipToEveryoneElse:a};var c,f,h,v,g,_=i.getUserId(),m=i.getAttributes(),E=this.getBucketingId(_,m),b=n===r.length-1,I=b?"Everyone Else":n+1,O=null,N=this.checkIfUserIsInAudience(e,s,y.RULE,m,I);return o.push.apply(o,N.reasons),N.result?(this.logger.log(d.DEBUG,p.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,Te,_,I),o.push([p.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,Te,_,I]),f=this.buildBucketerParams(e,s,E,_),h=oe(f),o.push.apply(o,h.reasons),(c=h.result)&&(g=c,O=(v=e).variationIdMap.hasOwnProperty(g)?v.variationIdMap[g]:null),O?(this.logger.log(d.DEBUG,p.USER_BUCKETED_INTO_TARGETING_RULE,Te,_,I),o.push([p.USER_BUCKETED_INTO_TARGETING_RULE,Te,_,I])):b||(this.logger.log(d.DEBUG,p.USER_NOT_BUCKETED_INTO_TARGETING_RULE,Te,_,I),o.push([p.USER_NOT_BUCKETED_INTO_TARGETING_RULE,Te,_,I]),a=!0)):(this.logger.log(d.DEBUG,p.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,Te,_,I),o.push([p.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,Te,_,I])),{result:O,reasons:o,skipToEveryoneElse:a}},e}();function Ae(e,t){if(e.hasOwnProperty("revenue")){var r=e.revenue,n=void 0;return"string"==typeof r?(n=parseInt(r),isNaN(n)?(t.log(d.INFO,p.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",r),null):(t.log(d.INFO,p.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",n),n)):"number"==typeof r?(n=r,t.log(d.INFO,p.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",n),n):null}return null}function Le(e,t){if(e.hasOwnProperty("value")){var r=e.value,n=void 0;return"string"==typeof r?(n=parseFloat(r),isNaN(n)?(t.log(d.INFO,p.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",r),null):(t.log(d.INFO,p.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",n),n)):"number"==typeof r?(n=r,t.log(d.INFO,p.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",n),n):null}return null}function Pe(e,t){return"string"==typeof e&&("string"==typeof t||"boolean"==typeof t||j.isNumber(t)&&j.isSafeInteger(t))}var xe="https://logx.optimizely.com/v1/events";function Me(e){var t=e.attributes,r=e.userId,n=e.clientEngine,i=e.clientVersion,o=e.configObj,a=e.logger,s=!!o.anonymizeIP&&o.anonymizeIP,l=o.botFiltering,u={snapshots:[],visitor_id:r,attributes:[]},c={account_id:o.accountId,project_id:o.projectId,visitors:[u],revision:o.revision,client_name:n,client_version:i,anonymize_ip:s,enrich_decisions:!0};return t&&Object.keys(t||{}).forEach((function(e){if(Pe(e,t[e])){var r=G(o,e,a);r&&c.visitors[0].attributes.push({entity_id:r,key:e,type:"custom",value:t[e]})}})),"boolean"==typeof l&&c.visitors[0].attributes.push({entity_id:h.BOT_FILTERING,key:h.BOT_FILTERING,type:"custom",value:l}),c}function Ce(e){var t,r;return null!==(r=null===(t=e.experiment)||void 0===t?void 0:t.key)&&void 0!==r?r:""}function we(e){var t,r;return null!==(r=null===(t=e.variation)||void 0===t?void 0:t.key)&&void 0!==r?r:""}function De(e){var t,r;return null!==(r=null===(t=e.variation)||void 0===t?void 0:t.featureEnabled)&&void 0!==r&&r}function ke(e){var t,r;return null!==(r=null===(t=e.experiment)||void 0===t?void 0:t.id)&&void 0!==r?r:null}function Ue(e){var t,r;return null!==(r=null===(t=e.variation)||void 0===t?void 0:t.id)&&void 0!==r?r:null}var Ve=i.getLogger("EVENT_BUILDER");function Fe(e,t){var r=[];return t&&Object.keys(t||{}).forEach((function(n){if(Pe(n,t[n])){var i=G(e,n,Ve);i&&r.push({entityId:i,key:n,value:t[n]})}})),r}var je="USER_PROFILE_SERVICE_VALIDATOR",Be=function(){function e(e){var r,n=this,i=e.clientEngine;i||(e.logger.log(d.INFO,p.INVALID_CLIENT_ENGINE,"OPTIMIZELY",i),i="node-sdk"),this.clientEngine=i,this.clientVersion=e.clientVersion||"4.8.0",this.errorHandler=e.errorHandler,this.isOptimizelyConfigValid=e.isValidInstance,this.logger=e.logger;var o=null!==(r=e.defaultDecideOptions)&&void 0!==r?r:[];Array.isArray(o)||(this.logger.log(d.DEBUG,p.INVALID_DEFAULT_DECIDE_OPTIONS,"OPTIMIZELY"),o=[]);var s={};o.forEach((function(e){t.OptimizelyDecideOption[e]?s[e]=!0:n.logger.log(d.WARNING,p.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)})),this.defaultDecideOptions=s,this.projectConfigManager=function(e){return new ne(e)}({datafile:e.datafile,jsonSchemaValidator:e.jsonSchemaValidator,sdkKey:e.sdkKey,datafileManager:e.datafileManager}),this.disposeOnUpdate=this.projectConfigManager.onUpdate((function(e){n.logger.log(d.INFO,p.UPDATED_OPTIMIZELY_CONFIG,"OPTIMIZELY",e.revision,e.projectId),n.notificationCenter.sendNotifications(v.OPTIMIZELY_CONFIG_UPDATE)}));var l,u=this.projectConfigManager.onReady(),c=null;if(e.userProfileService)try{(function(e){if("object"==typeof e&&null!==e){if("function"!=typeof e.lookup)throw new Error(a.sprintf(f.INVALID_USER_PROFILE_SERVICE,je,"Missing function 'lookup'"));if("function"!=typeof e.save)throw new Error(a.sprintf(f.INVALID_USER_PROFILE_SERVICE,je,"Missing function 'save'"));return!0}throw new Error(a.sprintf(f.INVALID_USER_PROFILE_SERVICE,je))})(e.userProfileService)&&(c=e.userProfileService,this.logger.log(d.INFO,p.VALID_USER_PROFILE_SERVICE,"OPTIMIZELY"))}catch(e){this.logger.log(d.WARNING,e.message)}this.decisionService=(l={userProfileService:c,logger:this.logger,UNSTABLE_conditionEvaluators:e.UNSTABLE_conditionEvaluators},new Se(l)),this.notificationCenter=e.notificationCenter,this.eventProcessor=e.eventProcessor;var h=this.eventProcessor.start();this.readyPromise=Promise.all([u,h]).then((function(e){return e[0]})),this.readyTimeouts={},this.nextReadyTimeoutId=0}return e.prototype.isValidInstance=function(){return this.isOptimizelyConfigValid&&!!this.projectConfigManager.getConfig()},e.prototype.activate=function(e,t,r){try{if(!this.isValidInstance())return this.logger.log(d.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","activate"),null;if(!this.validateInputs({experiment_key:e,user_id:t},r))return this.notActivatingExperiment(e,t);var n=this.projectConfigManager.getConfig();if(!n)return null;try{var i=this.getVariation(e,t,r);if(null===i)return this.notActivatingExperiment(e,t);if(!function(e,t){return"Running"===z(e,t)}(n,e))return this.logger.log(d.DEBUG,p.SHOULD_NOT_DISPATCH_ACTIVATE,"OPTIMIZELY",e),i;var o=Y(n,e),a={experiment:o,variation:o.variationKeyMap[i],decisionSource:_.EXPERIMENT};return this.sendImpressionEvent(a,"",t,!0,r),i}catch(r){return this.logger.log(d.ERROR,r.message),this.logger.log(d.INFO,p.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),this.errorHandler.handleError(r),null}}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.sendImpressionEvent=function(e,t,r,n,i){var o=this.projectConfigManager.getConfig();if(o){var a=function(e){var t=e.configObj,r=e.decisionObj,n=e.userId,i=e.flagKey,o=e.enabled,a=e.userAttributes,s=e.clientEngine,l=e.clientVersion,u=r.decisionSource,c=Ce(r),d=ke(r),f=we(r),p=Ue(r),h=null!==d?K(t,d):null;return{type:"impression",timestamp:j.currentTimestamp(),uuid:j.uuid(),user:{id:n,attributes:Fe(t,a)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:s,clientVersion:l,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},layer:{id:h},experiment:{id:d,key:c},variation:{id:p,key:f},ruleKey:c,flagKey:i,ruleType:u,enabled:o}}({decisionObj:e,flagKey:t,enabled:n,userId:r,userAttributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o});this.eventProcessor.process(a),this.emitNotificationCenterActivate(e,t,r,n,i)}},e.prototype.emitNotificationCenterActivate=function(e,t,r,n,i){var o=this.projectConfigManager.getConfig();if(o){var a,s=e.decisionSource,l=Ce(e),u=ke(e),c=we(e),d=Ue(e);null!==u&&""!==c&&(a=o.experimentIdMap[u]);var f,p=function(e){var t,r,n,i,o,a,s,l,u=Me(e),c=(t=e.configObj,n=e.variationId,i=e.ruleKey,o=e.ruleType,a=e.flagKey,s=e.enabled,{decisions:[{campaign_id:l=(r=e.experimentId)?K(t,r):null,experiment_id:r,variation_id:n,metadata:{flag_key:a,rule_key:i,rule_type:o,variation_key:(n?W(t,n):null)||"",enabled:s}}],events:[{entity_id:l,timestamp:j.currentTimestamp(),key:"campaign_activated",uuid:j.uuid()}]});return u.visitors[0].snapshots.push(c),{httpVerb:"POST",url:xe,params:u}}({attributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o,experimentId:u,ruleKey:l,flagKey:t,ruleType:s,userId:r,enabled:n,variationId:d,logger:this.logger});a&&a.variationKeyMap&&""!==c&&(f=a.variationKeyMap[c]),this.notificationCenter.sendNotifications(v.ACTIVATE,{experiment:a,userId:r,attributes:i,variation:f,logEvent:p})}},e.prototype.track=function(e,t,r,n){try{if(!this.isValidInstance())return void this.logger.log(d.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","track");if(!this.validateInputs({user_id:t,event_key:e},r,n))return;var i=this.projectConfigManager.getConfig();if(!i)return;if(!function(e,t){return e.eventKeyMap.hasOwnProperty(t)}(i,e))return this.logger.log(d.WARNING,p.EVENT_KEY_NOT_FOUND,"OPTIMIZELY",e),void this.logger.log(d.WARNING,p.NOT_TRACKING_USER,"OPTIMIZELY",t);var o=function(e){var t=e.configObj,r=e.userId,n=e.userAttributes,i=e.clientEngine,o=e.clientVersion,a=e.eventKey,s=e.eventTags,l=H(t,a),u=s?Ae(s,Ve):null,c=s?Le(s,Ve):null;return{type:"conversion",timestamp:j.currentTimestamp(),uuid:j.uuid(),user:{id:r,attributes:Fe(t,n)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:i,clientVersion:o,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},event:{id:l,key:a},revenue:u,value:c,tags:s}}({eventKey:e,eventTags:n=this.filterEmptyValues(n),userId:t,userAttributes:r,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i});this.logger.log(d.INFO,p.TRACK_EVENT,"OPTIMIZELY",e,t),this.eventProcessor.process(o),this.emitNotificationCenterTrack(e,t,r,n)}catch(e){this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),this.logger.log(d.ERROR,p.NOT_TRACKING_USER,"OPTIMIZELY",t)}},e.prototype.emitNotificationCenterTrack=function(e,t,r,n){try{var i=this.projectConfigManager.getConfig();if(!i)return;var o=function(e){var t=Me(e),r=function(e,t,r,n){var i={events:[]},o={entity_id:H(e,t),timestamp:j.currentTimestamp(),uuid:j.uuid(),key:t};if(n){var a=Ae(n,r);null!==a&&(o.revenue=a);var s=Le(n,r);null!==s&&(o.value=s),o.tags=n}return i.events.push(o),i}(e.configObj,e.eventKey,e.logger,e.eventTags);return t.visitors[0].snapshots=[r],{httpVerb:"POST",url:xe,params:t}}({attributes:r,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i,eventKey:e,eventTags:n,logger:this.logger,userId:t});this.notificationCenter.sendNotifications(v.TRACK,{eventKey:e,userId:t,attributes:r,eventTags:n,logEvent:o})}catch(e){this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.getVariation=function(e,t,r){try{if(!this.isValidInstance())return this.logger.log(d.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getVariation"),null;try{if(!this.validateInputs({experiment_key:e,user_id:t},r))return null;var n=this.projectConfigManager.getConfig();if(!n)return null;var i=n.experimentKeyMap[e];if(!i)return this.logger.log(d.DEBUG,f.INVALID_EXPERIMENT_KEY,"OPTIMIZELY",e),null;var o=this.decisionService.getVariation(n,i,this.createUserContext(t,r)).result,a=(s=n,l=i.id,s.experimentFeatureMap.hasOwnProperty(l)?g.FEATURE_TEST:g.AB_TEST);return this.notificationCenter.sendNotifications(v.DECISION,{type:a,userId:t,attributes:r||{},decisionInfo:{experimentKey:e,variationKey:o}}),o}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}var s,l},e.prototype.setForcedVariation=function(e,t,r){if(!this.validateInputs({experiment_key:e,user_id:t}))return!1;var n=this.projectConfigManager.getConfig();if(!n)return!1;try{return this.decisionService.setForcedVariation(n,e,t,r)}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getForcedVariation=function(e,t){if(!this.validateInputs({experiment_key:e,user_id:t}))return null;var r=this.projectConfigManager.getConfig();if(!r)return null;try{return this.decisionService.getForcedVariation(r,e,t).result}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.validateInputs=function(e,t,r){try{if(e.hasOwnProperty("user_id")){var n=e.user_id;if("string"!=typeof n||null===n||"undefined"===n)throw new Error(a.sprintf(f.INVALID_INPUT_FORMAT,"OPTIMIZELY","user_id"));delete e.user_id}return Object.keys(e).forEach((function(t){if(!Re(e[t]))throw new Error(a.sprintf(f.INVALID_INPUT_FORMAT,"OPTIMIZELY",t))})),t&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(a.sprintf(f.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));Object.keys(e).forEach((function(t){if(void 0===e[t])throw new Error(a.sprintf(f.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",t))}))}(t),r&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(a.sprintf(f.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"))}(r),!0}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.notActivatingExperiment=function(e,t){return this.logger.log(d.INFO,p.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),null},e.prototype.filterEmptyValues=function(e){for(var t in e)!e.hasOwnProperty(t)||null!==e[t]&&void 0!==e[t]||delete e[t];return e},e.prototype.isFeatureEnabled=function(e,t,r){try{if(!this.isValidInstance())return this.logger.log(d.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","isFeatureEnabled"),!1;if(!this.validateInputs({feature_key:e,user_id:t},r))return!1;var n=this.projectConfigManager.getConfig();if(!n)return!1;var i=Z(n,e,this.logger);if(!i)return!1;var o={},a=this.createUserContext(t,r),s=this.decisionService.getVariationForFeature(n,i,a).result,l=s.decisionSource,u=Ce(s),c=we(s),f=De(s);l===_.FEATURE_TEST&&(o={experimentKey:u,variationKey:c}),(l===_.FEATURE_TEST||l===_.ROLLOUT&&ee(n))&&this.sendImpressionEvent(s,i.key,t,f,r),!0===f?this.logger.log(d.INFO,p.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",e,t):(this.logger.log(d.INFO,p.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",e,t),f=!1);var h={featureKey:e,featureEnabled:f,source:s.decisionSource,sourceInfo:o};return this.notificationCenter.sendNotifications(v.DECISION,{type:g.FEATURE,userId:t,attributes:r||{},decisionInfo:h}),f}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getEnabledFeatures=function(e,t){var r=this;try{var n=[];if(!this.isValidInstance())return this.logger.log(d.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getEnabledFeatures"),n;if(!this.validateInputs({user_id:e}))return n;var i=this.projectConfigManager.getConfig();return i?(a.objectValues(i.featureKeyMap).forEach((function(i){r.isFeatureEnabled(i.key,e,t)&&n.push(i.key)})),n):n}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),[]}},e.prototype.getFeatureVariable=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,null,r,n):(this.logger.log(d.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariable"),null)}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableForType=function(e,t,r,n,i){if(!this.validateInputs({feature_key:e,variable_key:t,user_id:n},i))return null;var o=this.projectConfigManager.getConfig();if(!o)return null;var a=Z(o,e,this.logger);if(!a)return null;var s=function(e,t,r,n){var i=e.featureKeyMap[t];return i?i.variableKeyMap[r]||(n.log(d.ERROR,f.VARIABLE_KEY_NOT_IN_DATAFILE,B,r,t),null):(n.log(d.ERROR,f.FEATURE_NOT_IN_DATAFILE,B,t),null)}(o,e,t,this.logger);if(!s)return null;if(r&&s.type!==r)return this.logger.log(d.WARNING,p.VARIABLE_REQUESTED_WITH_WRONG_TYPE,"OPTIMIZELY",r,s.type),null;var l=this.createUserContext(n,i),u=this.decisionService.getVariationForFeature(o,a,l).result,c=De(u),h=this.getFeatureVariableValueFromVariation(e,c,u.variation,s,n),y={};return u.decisionSource===_.FEATURE_TEST&&null!==u.experiment&&null!==u.variation&&(y={experimentKey:u.experiment.key,variationKey:u.variation.key}),this.notificationCenter.sendNotifications(v.DECISION,{type:g.FEATURE_VARIABLE,userId:n,attributes:i||{},decisionInfo:{featureKey:e,featureEnabled:c,source:u.decisionSource,variableKey:t,variableValue:h,variableType:s.type,sourceInfo:y}}),h},e.prototype.getFeatureVariableValueFromVariation=function(e,t,r,n,i){var o=this.projectConfigManager.getConfig();if(!o)return null;var a=n.defaultValue;if(null!==r){var s=function(e,t,r,n){if(!t||!r)return null;if(!e.variationVariableUsageMap.hasOwnProperty(r.id))return n.log(d.ERROR,f.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,B,r.id),null;var i=e.variationVariableUsageMap[r.id][t.id];return i?i.value:null}(o,n,r,this.logger);null!==s?t?(a=s,this.logger.log(d.INFO,p.USER_RECEIVED_VARIABLE_VALUE,"OPTIMIZELY",a,n.key,e)):this.logger.log(d.INFO,p.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",e,i,a):this.logger.log(d.INFO,p.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",n.key,r.key)}else this.logger.log(d.INFO,p.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",i,n.key,e);return function(e,t,r){var n;switch(t){case m.BOOLEAN:"true"!==e&&"false"!==e?(r.log(d.ERROR,f.UNABLE_TO_CAST_VALUE,B,e,t),n=null):n="true"===e;break;case m.INTEGER:n=parseInt(e,10),isNaN(n)&&(r.log(d.ERROR,f.UNABLE_TO_CAST_VALUE,B,e,t),n=null);break;case m.DOUBLE:n=parseFloat(e),isNaN(n)&&(r.log(d.ERROR,f.UNABLE_TO_CAST_VALUE,B,e,t),n=null);break;case m.JSON:try{n=JSON.parse(e)}catch(i){r.log(d.ERROR,f.UNABLE_TO_CAST_VALUE,B,e,t),n=null}break;default:n=e}return n}(a,n.type,this.logger)},e.prototype.getFeatureVariableBoolean=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,m.BOOLEAN,r,n):(this.logger.log(d.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableBoolean"),null)}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableDouble=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,m.DOUBLE,r,n):(this.logger.log(d.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableDouble"),null)}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableInteger=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,m.INTEGER,r,n):(this.logger.log(d.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableInteger"),null)}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableString=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,m.STRING,r,n):(this.logger.log(d.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableString"),null)}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableJSON=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,m.JSON,r,n):(this.logger.log(d.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableJSON"),null)}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getAllFeatureVariables=function(e,t,r){var n=this;try{if(!this.isValidInstance())return this.logger.log(d.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","getAllFeatureVariables"),null;if(!this.validateInputs({feature_key:e,user_id:t},r))return null;var i=this.projectConfigManager.getConfig();if(!i)return null;var o=Z(i,e,this.logger);if(!o)return null;var a=this.createUserContext(t,r),s=this.decisionService.getVariationForFeature(i,o,a).result,l=De(s),u={};o.variables.forEach((function(r){u[r.key]=n.getFeatureVariableValueFromVariation(e,l,s.variation,r,t)}));var c={};return s.decisionSource===_.FEATURE_TEST&&null!==s.experiment&&null!==s.variation&&(c={experimentKey:s.experiment.key,variationKey:s.variation.key}),this.notificationCenter.sendNotifications(v.DECISION,{type:g.ALL_FEATURE_VARIABLES,userId:t,attributes:r||{},decisionInfo:{featureKey:e,featureEnabled:l,source:s.decisionSource,variableValues:u,sourceInfo:c}}),u}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getOptimizelyConfig=function(){try{return this.projectConfigManager.getConfig()?this.projectConfigManager.getOptimizelyConfig():null}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.close=function(){var e=this;try{var t=this.eventProcessor.stop();return this.disposeOnUpdate&&(this.disposeOnUpdate(),this.disposeOnUpdate=null),this.projectConfigManager&&this.projectConfigManager.stop(),Object.keys(this.readyTimeouts).forEach((function(t){var r=e.readyTimeouts[t];clearTimeout(r.readyTimeout),r.onClose()})),this.readyTimeouts={},t.then((function(){return{success:!0}}),(function(e){return{success:!1,reason:String(e)}}))}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),Promise.resolve({success:!1,reason:String(e)})}},e.prototype.onReady=function(e){var t,r,n=this;"object"==typeof e&&null!==e&&void 0!==e.timeout&&(t=e.timeout),j.isSafeInteger(t)||(t=3e4);var i=new Promise((function(e){r=e})),o=this.nextReadyTimeoutId;this.nextReadyTimeoutId++;var s=setTimeout((function(){delete n.readyTimeouts[o],r({success:!1,reason:a.sprintf("onReady timeout expired after %s ms",t)})}),t);return this.readyTimeouts[o]={readyTimeout:s,onClose:function(){r({success:!1,reason:"Instance closed"})}},this.readyPromise.then((function(){clearTimeout(s),delete n.readyTimeouts[o],r({success:!0})})),Promise.race([this.readyPromise,i])},e.prototype.createUserContext=function(e,t){return this.validateInputs({user_id:e},t)?new D({optimizely:this,userId:e,attributes:t}):null},e.prototype.decide=function(e,r,n){var i,o,s,l,u=this;void 0===n&&(n=[]);var h,y=e.getUserId(),m=e.getAttributes(),E=this.projectConfigManager.getConfig(),I=[];if(!this.isValidInstance()||!E)return this.logger.log(d.INFO,p.INVALID_OBJECT,"OPTIMIZELY","decide"),C(r,e,[b.SDK_NOT_READY]);var O=E.featureKeyMap[r];if(!O)return this.logger.log(d.ERROR,f.FEATURE_NOT_IN_DATAFILE,"OPTIMIZELY",r),C(r,e,[a.sprintf(b.FLAG_KEY_INVALID,r)]);var N=this.getAllDecideOptions(n),R=e.findValidatedForcedDecision(r);I.push.apply(I,R.reasons);var T=R.result;if(T)h={experiment:null,variation:T,decisionSource:_.FEATURE_TEST};else{var S=this.decisionService.getVariationForFeature(E,O,e,N);I.push.apply(I,S.reasons),h=S.result}var A=h.decisionSource,L=null!==(o=null===(i=h.experiment)||void 0===i?void 0:i.key)&&void 0!==o?o:null,P=null!==(l=null===(s=h.variation)||void 0===s?void 0:s.key)&&void 0!==l?l:null,x=De(h);!0===x?this.logger.log(d.INFO,p.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",r,y):this.logger.log(d.INFO,p.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",r,y);var M={},w=!1;N[t.OptimizelyDecideOption.EXCLUDE_VARIABLES]||O.variables.forEach((function(e){M[e.key]=u.getFeatureVariableValueFromVariation(r,x,h.variation,e,y)})),!N[t.OptimizelyDecideOption.DISABLE_DECISION_EVENT]&&(A===_.FEATURE_TEST||A===_.ROLLOUT&&ee(E))&&(this.sendImpressionEvent(h,r,y,x,m),w=!0);var D=[];N[t.OptimizelyDecideOption.INCLUDE_REASONS]&&(D=I.map((function(e){return a.sprintf.apply(void 0,c([e[0]],e.slice(1)))})));var k={flagKey:r,enabled:x,variationKey:P,ruleKey:L,variables:M,reasons:D,decisionEventDispatched:w};return this.notificationCenter.sendNotifications(v.DECISION,{type:g.FLAG,userId:y,attributes:m,decisionInfo:k}),{variationKey:P,enabled:x,variables:M,ruleKey:L,flagKey:r,userContext:e,reasons:D}},e.prototype.getAllDecideOptions=function(e){var r=this,n=u({},this.defaultDecideOptions);return Array.isArray(e)?e.forEach((function(e){t.OptimizelyDecideOption[e]?n[e]=!0:r.logger.log(d.WARNING,p.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)})):this.logger.log(d.DEBUG,p.INVALID_DECIDE_OPTIONS,"OPTIMIZELY"),n},e.prototype.decideForKeys=function(e,r,n){var i=this;void 0===n&&(n=[]);var o={};if(!this.isValidInstance())return this.logger.log(d.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","decideForKeys"),o;if(0===r.length)return o;var a=this.getAllDecideOptions(n);return r.forEach((function(r){var s=i.decide(e,r,n);a[t.OptimizelyDecideOption.ENABLED_FLAGS_ONLY]&&!s.enabled||(o[r]=s)})),o},e.prototype.decideAll=function(e,t){void 0===t&&(t=[]);var r=this.projectConfigManager.getConfig();if(!this.isValidInstance()||!r)return this.logger.log(d.ERROR,p.INVALID_OBJECT,"OPTIMIZELY","decideAll"),{};var n=Object.keys(r.featureKeyMap);return this.decideForKeys(e,n,t)},e.prototype.getFlagVariationByKey=function(e,t){var r=this.projectConfigManager.getConfig();if(!r)return null;var n=r.flagVariationsMap[e],i=a.find(n,(function(e){return e.key===t}));return i||null},e}(),$e=function(){function e(e){var t=this;this.logger=e.logger,this.errorHandler=e.errorHandler,this.notificationListeners={},a.objectValues(v).forEach((function(e){t.notificationListeners[e]=[]})),this.listenerId=1}return e.prototype.addNotificationListener=function(e,t){try{if(!(a.objectValues(v).indexOf(e)>-1))return-1;this.notificationListeners[e]||(this.notificationListeners[e]=[]);var r=!1;if((this.notificationListeners[e]||[]).forEach((function(e){e.callback!==t||(r=!0)})),r)return-1;this.notificationListeners[e].push({id:this.listenerId,callback:t});var n=this.listenerId;return this.listenerId+=1,n}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),-1}},e.prototype.removeNotificationListener=function(e){var t=this;try{var r,n;if(Object.keys(this.notificationListeners).some((function(i){return(t.notificationListeners[i]||[]).every((function(t,o){return t.id!==e||(r=o,n=i,!1)})),void 0!==r&&void 0!==n})),void 0!==r&&void 0!==n)return this.notificationListeners[n].splice(r,1),!0}catch(e){this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e)}return!1},e.prototype.clearAllNotificationListeners=function(){var e=this;try{a.objectValues(v).forEach((function(t){e.notificationListeners[t]=[]}))}catch(e){this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.clearNotificationListeners=function(e){try{this.notificationListeners[e]=[]}catch(e){this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.sendNotifications=function(e,t){var r=this;try{(this.notificationListeners[e]||[]).forEach((function(n){var i=n.callback;try{i(t)}catch(t){r.logger.log(d.ERROR,p.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,t.message)}}))}catch(e){this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e)}},e}(),Ke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(o.LogTierV1EventProcessor.bind.apply(o.LogTierV1EventProcessor,c([void 0],e)))};function Ge(e,t,r,n){var i={sdkKey:e};if((void 0===n||"object"==typeof n&&null!==n)&&j.assign(i,n),r){var o=Q({datafile:r,jsonSchemaValidator:void 0,logger:t}),a=o.configObj,s=o.error;s&&t.error(s),a&&(i.datafile=J(a))}return new l.HttpPollingDatafileManager(i)}o.LocalStoragePendingEventsDispatcher;var He=i.getLogger();i.setLogHandler(L()),i.setLogLevel(i.LogLevel.INFO);var ze=!1,We=function(e){try{e.errorHandler&&i.setErrorHandler(e.errorHandler),e.logger&&(i.setLogHandler(e.logger),i.setLogLevel(i.LogLevel.NOTSET)),void 0!==e.logLevel&&i.setLogLevel(e.logLevel);try{R(e),e.isValidInstance=!0}catch(t){He.error(t),e.isValidInstance=!1}var t=void 0;null==e.eventDispatcher?(t=new o.LocalStoragePendingEventsDispatcher({eventDispatcher:S}),ze||(t.sendPendingEvents(),ze=!0)):t=e.eventDispatcher;var r=e.eventBatchSize,n=e.eventFlushInterval;(function(e){return!("number"!=typeof e||!j.isSafeInteger(e))&&e>=1})(e.eventBatchSize)||(He.warn("Invalid eventBatchSize %s, defaulting to %s",e.eventBatchSize,10),r=10),function(e){return!("number"!=typeof e||!j.isSafeInteger(e))&&e>0}(e.eventFlushInterval)||(He.warn("Invalid eventFlushInterval %s, defaulting to %s",e.eventFlushInterval,1e3),n=1e3);var a=i.getErrorHandler(),s=new $e({logger:He,errorHandler:a}),l={dispatcher:t,flushInterval:n,batchSize:r,maxQueueSize:e.eventMaxQueueSize||1e4,notificationCenter:s},c=u(u({clientEngine:"javascript-sdk"},e),{eventProcessor:Ke(l),logger:He,errorHandler:a,datafileManager:e.sdkKey?Ge(e.sdkKey,He,e.datafile,e.datafileOptions):void 0,notificationCenter:s}),d=new Be(c);try{if("function"==typeof window.addEventListener){var f="onpagehide"in window?"pagehide":"unload";window.addEventListener(f,(function(){d.close()}),!1)}}catch(e){He.error(p.UNABLE_TO_ATTACH_UNLOAD,"INDEX_BROWSER",e.message)}return d}catch(e){return He.error(e),null}},Ye=function(){ze=!1},qe={logging:M,errorHandler:T,eventDispatcher:S,enums:I,setLogger:i.setLogHandler,setLogLevel:i.setLogLevel,createInstance:We,__internalResetRetryState:Ye,OptimizelyDecideOption:t.OptimizelyDecideOption};Object.defineProperty(t,"setLogLevel",{enumerable:!0,get:function(){return i.setLogLevel}}),Object.defineProperty(t,"setLogger",{enumerable:!0,get:function(){return i.setLogHandler}}),t.__internalResetRetryState=Ye,t.createInstance=We,t.default=qe,t.enums=I,t.errorHandler=T,t.eventDispatcher=S,t.logging=M},7215:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8219),i=function(){function e(){this.errorCount=0}return e.prototype.getDelay=function(){return 0===this.errorCount?0:1e3*n.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT[Math.min(n.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1,this.errorCount)]+Math.round(1e3*Math.random())},e.prototype.countError=function(){this.errorCount<n.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1&&this.errorCount++},e.prototype.reset=function(){this.errorCount=0},e}();t.default=i},5975:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(3784),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.makeGetRequest=function(e,t){return a.makeGetRequest(e,t)},t.prototype.getConfigDefaults=function(){return{autoUpdate:!1}},t}(o(r(5800)).default);t.default=s},3784:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8219),i=r(6910).getLogger("DatafileManager");t.makeGetRequest=function(e,t){var r=new XMLHttpRequest,o=new Promise((function(o,a){r.open("GET",e,!0),function(e,t){Object.keys(e).forEach((function(r){var n=e[r];t.setRequestHeader(r,n)}))}(t,r),r.onreadystatechange=function(){if(4===r.readyState){if(0===r.status)return void a(new Error("Request error"));var e=function(e){var t=e.getAllResponseHeaders();if(null===t)return{};var r=t.split("\r\n"),n={};return r.forEach((function(e){var t=e.indexOf(": ");if(t>-1){var r=e.slice(0,t),i=e.slice(t+2);i.length>0&&(n[r]=i)}})),n}(r),t={statusCode:r.status,body:r.responseText,headers:e};o(t)}},r.timeout=n.REQUEST_TIMEOUT_MS,r.ontimeout=function(){i.error("Request timed out")},r.send()}));return{responsePromise:o,abort:function(){r.abort()}}}},8219:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_UPDATE_INTERVAL=3e5,t.MIN_UPDATE_INTERVAL=1e3,t.DEFAULT_URL_TEMPLATE="https://cdn.optimizely.com/datafiles/%s.json",t.DEFAULT_AUTHENTICATED_URL_TEMPLATE="https://config.optimizely.com/datafiles/auth/%s.json",t.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT=[0,8,16,32,64,128,256,512],t.REQUEST_TIMEOUT_MS=6e4},1823:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.listeners={},this.listenerId=1}return e.prototype.on=function(e,t){var r=this;this.listeners[e]||(this.listeners[e]={});var n=String(this.listenerId);return this.listenerId++,this.listeners[e][n]=t,function(){r.listeners[e]&&delete r.listeners[e][n]}},e.prototype.emit=function(e,t){var r=this.listeners[e];r&&Object.keys(r).forEach((function(e){(0,r[e])(t)}))},e.prototype.removeAllListeners=function(){this.listeners={}},e}();t.default=r},5800:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(6910),a=r(1105),s=i(r(1823)),l=r(8219),u=i(r(7215)),c=o.getLogger("DatafileManager");function d(e){return e>=200&&e<400}var f={get:function(){return Promise.resolve("")},set:function(){return Promise.resolve()},contains:function(){return Promise.resolve(!1)},remove:function(){return Promise.resolve()}},p=function(){function e(e){var t=this,r=n(n({},this.getConfigDefaults()),e),i=r.datafile,o=r.autoUpdate,d=void 0!==o&&o,p=r.sdkKey,h=r.updateInterval,v=void 0===h?l.DEFAULT_UPDATE_INTERVAL:h,g=r.urlTemplate,_=void 0===g?l.DEFAULT_URL_TEMPLATE:g,y=r.cache,m=void 0===y?f:y;this.cache=m,this.cacheKey="opt-datafile-"+p,this.isReadyPromiseSettled=!1,this.readyPromiseResolver=function(){},this.readyPromiseRejecter=function(){},this.readyPromise=new Promise((function(e,r){t.readyPromiseResolver=e,t.readyPromiseRejecter=r})),i?(this.currentDatafile=i,p||this.resolveReadyPromise()):this.currentDatafile="",this.isStarted=!1,this.datafileUrl=a.sprintf(_,p),this.emitter=new s.default,this.autoUpdate=d,function(e){return e>=l.MIN_UPDATE_INTERVAL}(v)?this.updateInterval=v:(c.warn("Invalid updateInterval %s, defaulting to %s",v,l.DEFAULT_UPDATE_INTERVAL),this.updateInterval=l.DEFAULT_UPDATE_INTERVAL),this.currentTimeout=null,this.currentRequest=null,this.backoffController=new u.default,this.syncOnCurrentRequestComplete=!1}return e.prototype.get=function(){return this.currentDatafile},e.prototype.start=function(){this.isStarted||(c.debug("Datafile manager started"),this.isStarted=!0,this.backoffController.reset(),this.setDatafileFromCacheIfAvailable(),this.syncDatafile())},e.prototype.stop=function(){return c.debug("Datafile manager stopped"),this.isStarted=!1,this.currentTimeout&&(clearTimeout(this.currentTimeout),this.currentTimeout=null),this.emitter.removeAllListeners(),this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),Promise.resolve()},e.prototype.onReady=function(){return this.readyPromise},e.prototype.on=function(e,t){return this.emitter.on(e,t)},e.prototype.onRequestRejected=function(e){this.isStarted&&(this.backoffController.countError(),e instanceof Error?c.error("Error fetching datafile: %s",e.message,e):"string"==typeof e?c.error("Error fetching datafile: %s",e):c.error("Error fetching datafile"))},e.prototype.onRequestResolved=function(e){if(this.isStarted){void 0!==e.statusCode&&d(e.statusCode)?this.backoffController.reset():this.backoffController.countError(),this.trySavingLastModified(e.headers);var t=this.getNextDatafileFromResponse(e);if(""!==t)if(c.info("Updating datafile from response"),this.currentDatafile=t,this.cache.set(this.cacheKey,t),this.isReadyPromiseSettled){var r={datafile:t};this.emitter.emit("update",r)}else this.resolveReadyPromise()}},e.prototype.onRequestComplete=function(){this.isStarted&&(this.currentRequest=null,this.isReadyPromiseSettled||this.autoUpdate||this.rejectReadyPromise(new Error("Failed to become ready")),this.autoUpdate&&this.syncOnCurrentRequestComplete&&this.syncDatafile(),this.syncOnCurrentRequestComplete=!1)},e.prototype.syncDatafile=function(){var e=this,t={};this.lastResponseLastModified&&(t["if-modified-since"]=this.lastResponseLastModified),c.debug("Making datafile request to url %s with headers: %s",this.datafileUrl,(function(){return JSON.stringify(t)})),this.currentRequest=this.makeGetRequest(this.datafileUrl,t);var r=function(){e.onRequestComplete()};this.currentRequest.responsePromise.then((function(t){e.onRequestResolved(t)}),(function(t){e.onRequestRejected(t)})).then(r,r),this.autoUpdate&&this.scheduleNextUpdate()},e.prototype.resolveReadyPromise=function(){this.readyPromiseResolver(),this.isReadyPromiseSettled=!0},e.prototype.rejectReadyPromise=function(e){this.readyPromiseRejecter(e),this.isReadyPromiseSettled=!0},e.prototype.scheduleNextUpdate=function(){var e=this,t=this.backoffController.getDelay(),r=Math.max(t,this.updateInterval);c.debug("Scheduling sync in %s ms",r),this.currentTimeout=setTimeout((function(){e.currentRequest?e.syncOnCurrentRequestComplete=!0:e.syncDatafile()}),r)},e.prototype.getNextDatafileFromResponse=function(e){return c.debug("Response status code: %s",e.statusCode),void 0===e.statusCode||304===e.statusCode?"":d(e.statusCode)?e.body:""},e.prototype.trySavingLastModified=function(e){var t=e["last-modified"]||e["Last-Modified"];void 0!==t&&(this.lastResponseLastModified=t,c.debug("Saved last modified header value from response: %s",this.lastResponseLastModified))},e.prototype.setDatafileFromCacheIfAvailable=function(){var e=this;this.cache.get(this.cacheKey).then((function(t){e.isStarted&&!e.isReadyPromiseSettled&&""!==t&&(c.debug("Using datafile from cache"),e.currentDatafile=t,e.resolveReadyPromise())}))},e}();t.default=p},6494:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5975);t.HttpPollingDatafileManager=n.default},1305:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7031:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendEventNotification=t.getQueue=t.validateAndGetBatchSize=t.validateAndGetFlushInterval=t.DEFAULT_BATCH_SIZE=t.DEFAULT_FLUSH_INTERVAL=void 0;var n=r(8782),i=r(6910),o=r(1105);t.DEFAULT_FLUSH_INTERVAL=3e4,t.DEFAULT_BATCH_SIZE=10;var a=i.getLogger("EventProcessor");t.validateAndGetFlushInterval=function(e){return e<=0&&(a.warn("Invalid flushInterval "+e+", defaulting to "+t.DEFAULT_FLUSH_INTERVAL),e=t.DEFAULT_FLUSH_INTERVAL),e},t.validateAndGetBatchSize=function(e){return(e=Math.floor(e))<1&&(a.warn("Invalid batchSize "+e+", defaulting to "+t.DEFAULT_BATCH_SIZE),e=t.DEFAULT_BATCH_SIZE),Math.max(1,e)},t.getQueue=function(e,t,r,i){return e>1?new n.DefaultEventQueue({flushInterval:t,maxQueueSize:e,sink:r,batchComparator:i}):new n.SingleEventQueue({sink:r})},t.sendEventNotification=function(e,t){e&&e.sendNotifications(o.NOTIFICATION_TYPES.LOG_EVENT,t)}},8782:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultEventQueue=t.SingleEventQueue=void 0;var n=r(6910).getLogger("EventProcessor"),i=function(){function e(e){var t=e.timeout,r=e.callback;this.timeout=Math.max(t,0),this.callback=r}return e.prototype.start=function(){this.timeoutId=setTimeout(this.callback,this.timeout)},e.prototype.refresh=function(){this.stop(),this.start()},e.prototype.stop=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e}(),o=function(){function e(e){var t=e.sink;this.sink=t}return e.prototype.start=function(){},e.prototype.stop=function(){return Promise.resolve()},e.prototype.enqueue=function(e){this.sink([e])},e}();t.SingleEventQueue=o;var a=function(){function e(e){var t=e.flushInterval,r=e.maxQueueSize,n=e.sink,o=e.batchComparator;this.buffer=[],this.maxQueueSize=Math.max(r,1),this.sink=n,this.batchComparator=o,this.timer=new i({callback:this.flush.bind(this),timeout:t}),this.started=!1}return e.prototype.start=function(){this.started=!0},e.prototype.stop=function(){this.started=!1;var e=this.sink(this.buffer);return this.buffer=[],this.timer.stop(),e},e.prototype.enqueue=function(e){if(this.started){var t=this.buffer[0];t&&!this.batchComparator(t,e)&&this.flush(),0===this.buffer.length&&this.timer.refresh(),this.buffer.push(e),this.buffer.length>=this.maxQueueSize&&this.flush()}else n.warn("Queue is stopped, not accepting event")},e.prototype.flush=function(){this.sink(this.buffer),this.buffer=[],this.timer.stop()},e}();t.DefaultEventQueue=a},3701:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areEventContextsEqual=void 0,t.areEventContextsEqual=function(e,t){var r=e.context,n=t.context;return r.accountId===n.accountId&&r.projectId===n.projectId&&r.clientName===n.clientName&&r.clientVersion===n.clientVersion&&r.revision===n.revision&&r.anonymizeIP===n.anonymizeIP&&r.botFiltering===n.botFiltering}},3440:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3701),t),i(r(7031),t),i(r(1305),t),i(r(1888),t),i(r(8282),t),i(r(2769),t),i(r(521),t)},1888:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8282:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStoragePendingEventsDispatcher=t.PendingEventsDispatcher=void 0;var o=r(6910),a=r(2718),s=r(1105),l=o.getLogger("EventProcessor"),u=function(){function e(e){var t=e.eventDispatcher,r=e.store;this.dispatcher=t,this.store=r}return e.prototype.dispatchEvent=function(e,t){this.send({uuid:s.generateUUID(),timestamp:s.getTimestamp(),request:e},t)},e.prototype.sendPendingEvents=function(){var e=this,t=this.store.values();l.debug("Sending %s pending events from previous page",t.length),t.forEach((function(t){try{e.send(t,(function(){}))}catch(e){}}))},e.prototype.send=function(e,t){var r=this;this.store.set(e.uuid,e),this.dispatcher.dispatchEvent(e.request,(function(n){r.store.remove(e.uuid),t(n)}))},e}();t.PendingEventsDispatcher=u;var c=function(e){function t(t){var r=t.eventDispatcher;return e.call(this,{eventDispatcher:r,store:new a.LocalStorageStore({maxValues:100,key:"fs_optly_pending_events"})})||this}return i(t,e),t}(u);t.LocalStoragePendingEventsDispatcher=c},2718:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageStore=void 0;var n=r(1105),i=r(6910).getLogger("EventProcessor"),o=function(){function e(e){var t=e.key,r=e.maxValues,n=void 0===r?1e3:r;this.LS_KEY=t,this.maxValues=n}return e.prototype.get=function(e){return this.getMap()[e]||null},e.prototype.set=function(e,t){var r=this.getMap();r[e]=t,this.replace(r)},e.prototype.remove=function(e){var t=this.getMap();delete t[e],this.replace(t)},e.prototype.values=function(){return n.objectValues(this.getMap())},e.prototype.clear=function(){this.replace({})},e.prototype.replace=function(e){try{window.localStorage&&localStorage.setItem(this.LS_KEY,JSON.stringify(e)),this.clean()}catch(e){i.error(e)}},e.prototype.clean=function(){var e=this.getMap(),t=Object.keys(e),r=t.length-this.maxValues;if(!(r<1)){var n=t.map((function(t){return{key:t,value:e[t]}}));n.sort((function(e,t){return e.value.timestamp-t.value.timestamp}));for(var i=0;i<r;i++)delete e[n[i].key];this.replace(e)}},e.prototype.getMap=function(){try{var e=window.localStorage&&localStorage.getItem(this.LS_KEY);if(e)return JSON.parse(e)||{}}catch(e){i.error(e)}return{}},e}();t.LocalStorageStore=o},2266:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.reqsInFlightCount=0,this.reqsCompleteResolvers=[]}return e.prototype.trackRequest=function(e){var t=this;this.reqsInFlightCount++;var r=function(){t.reqsInFlightCount--,0===t.reqsInFlightCount&&(t.reqsCompleteResolvers.forEach((function(e){return e()})),t.reqsCompleteResolvers=[])};e.then(r,r)},e.prototype.onRequestsComplete=function(){var e=this;return new Promise((function(t){0===e.reqsInFlightCount?t():e.reqsCompleteResolvers.push(t)}))},e}();t.default=r},2769:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.formatEvents=t.buildConversionEventV1=t.buildImpressionEventV1=t.makeBatchedEventV1=void 0;var n="$opt_bot_filtering";function i(e){var t=[],r=e[0];return e.forEach((function(e){if("conversion"===e.type||"impression"===e.type){var r=s(e);"impression"===e.type?r.snapshots.push(a(e)):"conversion"===e.type&&r.snapshots.push(o(e)),t.push(r)}})),{client_name:r.context.clientName,client_version:r.context.clientVersion,account_id:r.context.accountId,project_id:r.context.projectId,revision:r.context.revision,anonymize_ip:r.context.anonymizeIP,enrich_decisions:!0,visitors:t}}function o(e){var t=r({},e.tags);delete t.revenue,delete t.value;var n={entity_id:e.event.id,key:e.event.key,timestamp:e.timestamp,uuid:e.uuid};return e.tags&&(n.tags=e.tags),null!=e.value&&(n.value=e.value),null!=e.revenue&&(n.revenue=e.revenue),{events:[n]}}function a(e){var t,r,n=e.layer,i=e.experiment,o=e.variation,a=e.ruleKey,s=e.flagKey,l=e.ruleType,u=e.enabled,c=n?n.id:null;return{decisions:[{campaign_id:c,experiment_id:null!==(t=null==i?void 0:i.id)&&void 0!==t?t:"",variation_id:null!==(r=null==o?void 0:o.id)&&void 0!==r?r:"",metadata:{flag_key:s,rule_key:a,rule_type:l,variation_key:o?o.key:"",enabled:u}}],events:[{entity_id:c,timestamp:e.timestamp,key:"campaign_activated",uuid:e.uuid}]}}function s(e){var t={snapshots:[],visitor_id:e.user.id,attributes:[]};return e.user.attributes.forEach((function(e){t.attributes.push({entity_id:e.entityId,key:e.key,type:"custom",value:e.value})})),"boolean"==typeof e.context.botFiltering&&t.attributes.push({entity_id:n,key:n,type:"custom",value:e.context.botFiltering}),t}t.makeBatchedEventV1=i,t.buildImpressionEventV1=function(e){var t=s(e);return t.snapshots.push(a(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.buildConversionEventV1=function(e){var t=s(e);return t.snapshots.push(o(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.formatEvents=function(e){return{url:"https://logx.optimizely.com/v1/events",httpVerb:"POST",params:i(e)}}},521:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogTierV1EventProcessor=void 0;var a=r(6910),s=r(7031),l=o(r(2266)),u=r(3701),c=r(2769),d=a.getLogger("LogTierV1EventProcessor"),f=function(){function e(e){var t=e.dispatcher,r=e.flushInterval,n=void 0===r?s.DEFAULT_FLUSH_INTERVAL:r,i=e.batchSize,o=void 0===i?s.DEFAULT_BATCH_SIZE:i,a=e.notificationCenter;this.dispatcher=t,this.notificationCenter=a,this.requestTracker=new l.default,n=s.validateAndGetFlushInterval(n),o=s.validateAndGetBatchSize(o),this.queue=s.getQueue(o,n,this.drainQueue.bind(this),u.areEventContextsEqual)}return e.prototype.drainQueue=function(e){var t=this,r=new Promise((function(r){if(d.debug("draining queue with %s events",e.length),0!==e.length){var n=c.formatEvents(e);t.dispatcher.dispatchEvent(n,(function(){r()})),s.sendEventNotification(t.notificationCenter,n)}else r()}));return this.requestTracker.trackRequest(r),r},e.prototype.process=function(e){this.queue.enqueue(e)},e.prototype.stop=function(){try{return this.queue.stop(),this.requestTracker.onRequestsComplete()}catch(e){d.error('Error stopping EventProcessor: "%s"',e.message,e)}return Promise.resolve()},e.prototype.start=function(){return n(this,void 0,void 0,(function(){return i(this,(function(e){return this.queue.start(),[2]}))}))},e}();t.LogTierV1EventProcessor=f},5826:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.handleError=function(e){},e}();t.NoopErrorHandler=r;var n=new r;t.setErrorHandler=function(e){n=e},t.getErrorHandler=function(){return n},t.resetErrorHandler=function(){n=new r}},6910:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(5826)),n(r(6524)),n(r(90))},90:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n};Object.defineProperty(t,"__esModule",{value:!0});var i=r(5826),o=r(1105),a=r(6524),s={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4};function l(e){return"string"!=typeof e?e:("WARN"===(e=e.toUpperCase())&&(e="WARNING"),s[e]?s[e]:e)}var u=function(){function e(){this.defaultLoggerFacade=new p,this.loggers={}}return e.prototype.getLogger=function(e){return e?(this.loggers[e]||(this.loggers[e]=new p({messagePrefix:e})),this.loggers[e]):this.defaultLoggerFacade},e}(),c=function(){function e(e){void 0===e&&(e={}),this.logLevel=a.LogLevel.NOTSET,void 0!==e.logLevel&&o.isValidEnum(a.LogLevel,e.logLevel)&&this.setLogLevel(e.logLevel),this.logToConsole=void 0===e.logToConsole||!!e.logToConsole,this.prefix=void 0!==e.prefix?e.prefix:"[OPTIMIZELY]"}return e.prototype.log=function(e,t){if(this.shouldLog(e)&&this.logToConsole){var r=this.prefix+" - "+this.getLogLevelName(e)+" "+this.getTime()+" "+t;this.consoleLog(e,[r])}},e.prototype.setLogLevel=function(e){e=l(e),o.isValidEnum(a.LogLevel,e)&&void 0!==e?this.logLevel=e:this.logLevel=a.LogLevel.ERROR},e.prototype.getTime=function(){return(new Date).toISOString()},e.prototype.shouldLog=function(e){return e>=this.logLevel},e.prototype.getLogLevelName=function(e){switch(e){case a.LogLevel.DEBUG:return"DEBUG";case a.LogLevel.INFO:return"INFO ";case a.LogLevel.WARNING:return"WARN ";case a.LogLevel.ERROR:return"ERROR";default:return"NOTSET"}},e.prototype.consoleLog=function(e,t){switch(e){case a.LogLevel.DEBUG:console.log.apply(console,t);break;case a.LogLevel.INFO:console.info.apply(console,t);break;case a.LogLevel.WARNING:console.warn.apply(console,t);break;case a.LogLevel.ERROR:console.error.apply(console,t);break;default:console.log.apply(console,t)}},e}();t.ConsoleLogHandler=c;var d=a.LogLevel.NOTSET,f=null,p=function(){function e(e){void 0===e&&(e={}),this.messagePrefix="",e.messagePrefix&&(this.messagePrefix=e.messagePrefix)}return e.prototype.log=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this.internalLog(l(e),{message:t,splat:r})},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.namedLog(a.LogLevel.INFO,e,t)},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.namedLog(a.LogLevel.DEBUG,e,t)},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.namedLog(a.LogLevel.WARNING,e,t)},e.prototype.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.namedLog(a.LogLevel.ERROR,e,t)},e.prototype.format=function(e){return(this.messagePrefix?this.messagePrefix+": ":"")+o.sprintf.apply(void 0,n([e.message],e.splat))},e.prototype.internalLog=function(e,t){f&&(e<d||(f.log(e,this.format(t)),t.error&&t.error instanceof Error&&i.getErrorHandler().handleError(t.error)))},e.prototype.namedLog=function(e,t,r){var n;if(t instanceof Error)return t=(n=t).message,void this.internalLog(e,{error:n,message:t,splat:r});if(0!==r.length){var i=r[r.length-1];i instanceof Error&&(n=i,r.splice(-1)),this.internalLog(e,{message:t,error:n,splat:r})}else this.internalLog(e,{message:t,splat:r})},e}(),h=new u;t.getLogger=function(e){return h.getLogger(e)},t.setLogHandler=function(e){f=e},t.setLogLevel=function(e){e=l(e),d=o.isValidEnum(a.LogLevel,e)&&void 0!==e?e:a.LogLevel.ERROR},t.getLogLevel=function(){return d},t.resetLogger=function(){h=new u,d=a.LogLevel.NOTSET}},6524:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.LogLevel||(t.LogLevel={}))[r.NOTSET=0]="NOTSET",r[r.DEBUG=1]="DEBUG",r[r.INFO=2]="INFO",r[r.WARNING=3]="WARNING",r[r.ERROR=4]="ERROR"},1105:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(8556);function o(e){return Object.keys(e).map((function(t){return e[t]}))}t.generateUUID=function(){return i.v4()},t.getTimestamp=function(){return(new Date).getTime()},t.isValidEnum=function(e,t){for(var r=!1,n=Object.keys(e),i=0;i<n.length;i++)if(t===e[n[i]]){r=!0;break}return r},t.groupBy=function(e,t){var r={};return e.forEach((function(e){var n=t(e);r[n]=r[n]||[],r[n].push(e)})),o(r)},t.objectValues=o,t.objectEntries=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))},t.find=function(e,t){for(var r,n=0,i=e;n<i.length;n++){var o=i[n];if(t(o)){r=o;break}}return r},t.keyBy=function(e,t){var r={};return e.forEach((function(e){var n=t(e);r[n]=e})),r},t.sprintf=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=0;return e.replace(/%s/g,(function(){var e=t[n++],r=typeof e;return"function"===r?e():"string"===r?e:String(e)}))},(n=t.NOTIFICATION_TYPES||(t.NOTIFICATION_TYPES={})).ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",n.DECISION="DECISION:type, userId, attributes, decisionInfo",n.LOG_EVENT="LOG_EVENT:logEvent",n.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",n.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"},6750:(e,t,r)=>{"use strict";var n=r(1121),i=r(6288),o=(r(7191),r(3435));var a=n.createContext({optimizely:null,isServerSide:!1,timeout:0}),s=(a.Consumer,a.Provider),l=function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},l(e,t)};var u=function(){return u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)};function c(e){return"object"==typeof e&&null!==e?e:{}}function d(e,t){var r=c(e),n=c(t),i=Object.keys(r),o=Object.keys(n);return i.length===o.length&&i.every((function(e){return e in n&&r[e]===n[e]}))}function f(e,t,r){return{enabled:!1,flagKey:e,ruleKey:null,variationKey:null,variables:{},reasons:[t],userContext:{id:r.id,attributes:r.attributes}}}var p,h=i.getLogger("<OptimizelyProvider>"),v=function(e){function t(t){var r=e.call(this,t)||this,n=t.optimizely,i=t.userId,o=t.userAttributes,a=t.user,s=null;return a?"then"in a?a.then((function(e){n.setUser(e)})):s={id:a.id,attributes:a.attributes||{}}:i&&(s={id:i,attributes:o||{}},h.warn("Passing userId and userAttributes as props is deprecated, please switch to using `user` prop")),s&&n.setUser(s),r}return function(e,t){function r(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.componentDidUpdate=function(e){if(!e.isServerSide){var t=this.props.optimizely;this.props.user&&"id"in this.props.user&&(t.user.id&&function(e,t){if(e.id!==t.id)return!1;var r=Object.keys(e.attributes||{}),n=Object.keys(t.attributes||{});r.sort(),n.sort();var i=e.attributes||{},o=t.attributes||{};if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++){var s=r[a],l=n[a];if(s!==l)return!1;if(i[s]!==o[l])return!1}return!0}({id:t.user.id,attributes:t.user.attributes||{}},{id:this.props.user.id,attributes:this.props.user.attributes||{}})||t.setUser(this.props.user))}},t.prototype.render=function(){var e=this.props,t=e.optimizely,r=e.children,i=e.timeout,o={optimizely:t,isServerSide:!!this.props.isServerSide,timeout:i};return n.createElement(s,{value:o},r)},t}(n.Component),g=function(e,t,r,n,i){var a="re-evaluating "+t+'="'+r+'" for user="'+e.user.id+'"',s=e.notificationCenter.addNotificationListener(o.enums.NOTIFICATION_TYPES.OPTIMIZELY_CONFIG_UPDATE,(function(){n.info(o.enums.NOTIFICATION_TYPES.OPTIMIZELY_CONFIG_UPDATE+", "+a),i()})),l=e.onUserUpdate((function(){n.info("User update, "+a),i()}));return function(){e.notificationCenter.removeNotificationListener(s),l()}},_=i.getLogger("ReactSDK");function y(e,t){return e.entityKey===t.entityKey&&e.overrideUserId===t.overrideUserId&&d(e.overrideAttributes,t.overrideAttributes)}function m(e,t,r){e.onReady({timeout:t}).then((function(e){if(e.success)return _.info("Client became ready"),void r({clientReady:!0,didTimeout:!1});_.info("Client did not become ready before timeout of "+t+'ms, reason="'+(e.reason||"")+'"'),r({clientReady:!1,didTimeout:!0}),e.dataReadyPromise.then((function(){_.info("Client became ready after timeout already elapsed"),r({clientReady:!0,didTimeout:!0})}))})).catch((function(){_.error("Error initializing client. The core client or user promise(s) rejected.")}))}function E(e){var t=n.useRef();return d(e,t.current)||(t.current=e),t.current}!function(e){e.EXPERIMENT="Experiment",e.FEATURE="Feature"}(p||(p={}));var b=i.getLogger("ReactSDK"),I=function(){function e(e){var t=this;this.user={id:null,attributes:{}},this.isUserPromiseResolved=!1,this.onUserUpdateHandlers=[],this.onForcedVariationsUpdateHandlers=[],this.dataReadyPromiseFulfilled=!1,this.initialConfig=e,this.userPromiseResovler=function(){};var r=u({},e,{clientEngine:"react-sdk",clientVersion:"2.7.0"});this._client=o.createInstance(r),this.userPromise=new Promise((function(e){t.userPromiseResovler=e})).then((function(){return{success:!0}})),this.dataReadyPromise=Promise.all([this.userPromise,this._client.onReady()]).then((function(){return t.dataReadyPromiseFulfilled=!0,{success:!0,reason:"datafile and user resolved"}}))}return e.prototype.onReady=function(e){var t,r=this;void 0===e&&(e={});var n=5e3;e&&void 0!==e.timeout&&(n=e.timeout);var i=new Promise((function(e){t=setTimeout((function(){e({success:!1,reason:"failed to initialize onReady before timeout, either the datafile or user info was not set before the timeout",dataReadyPromise:r.dataReadyPromise})}),n)}));return Promise.race([this.dataReadyPromise,i]).then((function(e){return clearTimeout(t),e}))},e.prototype.setUser=function(e){var t=this;e.id&&(this.user.id=e.id),e.attributes&&(this.user.attributes=e.attributes),this.isUserPromiseResolved||(this.userPromiseResovler(this.user),this.isUserPromiseResolved=!0),this.onUserUpdateHandlers.forEach((function(e){return e(t.user)}))},e.prototype.onUserUpdate=function(e){var t=this;return this.onUserUpdateHandlers.push(e),function(){var r=t.onUserUpdateHandlers.indexOf(e);r>-1&&t.onUserUpdateHandlers.splice(r,1)}},e.prototype.onForcedVariationsUpdate=function(e){var t=this;return this.onForcedVariationsUpdateHandlers.push(e),function(){var r=t.onForcedVariationsUpdateHandlers.indexOf(e);r>-1&&t.onForcedVariationsUpdateHandlers.splice(r,1)}},e.prototype.isReady=function(){return this.dataReadyPromiseFulfilled},e.prototype.activate=function(e,t,r){var n=this.getUserContextWithOverrides(t,r);return null===n.id?(b.info('Not activating experiment "%s" because userId is not set',e),null):this._client.activate(e,n.id,n.attributes)},e.prototype.decide=function(e,t,r,n){void 0===t&&(t=[]);var i=this.getUserContextWithOverrides(r,n);if(null===i.id)return b.info('Not Evaluating feature "%s" because userId is not set',e),f(e,"Not Evaluating flag "+e+" because userId is not set",i);var o=this._client.createUserContext(i.id,i.attributes);return o?u({},o.decide(e,t),{userContext:{id:i.id,attributes:i.attributes}}):f(e,"Not Evaluating flag "+e+" because user id or attributes are not valid",i)},e.prototype.decideForKeys=function(e,t,r,n){void 0===t&&(t=[]);var i=this.getUserContextWithOverrides(r,n);if(null===i.id)return b.info("Not Evaluating features because userId is not set"),{};var o=this._client.createUserContext(i.id,i.attributes);return o?Object.entries(o.decideForKeys(e,t)).reduce((function(e,t){var r=t[0],n=t[1];return e[r]=u({},n,{userContext:{id:i.id||"",attributes:i.attributes}}),e}),{}):{}},e.prototype.decideAll=function(e,t,r){void 0===e&&(e=[]);var n=this.getUserContextWithOverrides(t,r);if(null===n.id)return b.info("Not Evaluating features because userId is not set"),{};var i=this._client.createUserContext(n.id,n.attributes);return i?Object.entries(i.decideAll(e)).reduce((function(e,t){var r=t[0],i=t[1];return e[r]=u({},i,{userContext:{id:n.id||"",attributes:n.attributes}}),e}),{}):{}},e.prototype.getVariation=function(e,t,r){var n=this.getUserContextWithOverrides(t,r);return null===n.id?(b.info('getVariation returned null for experiment "%s" because userId is not set',e),null):this._client.getVariation(e,n.id,n.attributes)},e.prototype.track=function(e,t,r,n){void 0!==t&&"string"!=typeof t&&(n=t,t=void 0,r=void 0);var i=this.getUserContextWithOverrides(t,r);if(null!==i.id)return this._client.track(e,i.id,i.attributes,n);b.info('track for event "%s" not being sent because userId is not set',e)},e.prototype.isFeatureEnabled=function(e,t,r){var n=this.getUserContextWithOverrides(t,r);return null===n.id?(b.info('isFeatureEnabled returning false for feature "%s" because userId is not set',e),!1):this._client.isFeatureEnabled(e,n.id,n.attributes)},e.prototype.getFeatureVariables=function(e,t,r){var n=this,i=this.getUserContextWithOverrides(t,r),o=i.id;if(null===o)return b.info('getFeatureVariables returning `{}` for feature "%s" because userId is not set',e),{};var a=i.attributes,s={},l=this._client.getOptimizelyConfig();if(!l)return{};var u=l.featuresMap[e];return u?(Object.keys(u.variablesMap).forEach((function(t){var r=u.variablesMap[t];s[r.key]=n._client.getFeatureVariable(e,r.key,o,a)})),s):{}},e.prototype.getFeatureVariableString=function(e,t,r,n){var i=this.getUserContextWithOverrides(r,n);return null===i.id?null:this._client.getFeatureVariableString(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableBoolean=function(e,t,r,n){var i=this.getUserContextWithOverrides(r,n);return null===i.id?null:this._client.getFeatureVariableBoolean(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableInteger=function(e,t,r,n){var i=this.getUserContextWithOverrides(r,n);return null===i.id?null:this._client.getFeatureVariableInteger(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableDouble=function(e,t,r,n){var i=this.getUserContextWithOverrides(r,n);return null===i.id?null:this._client.getFeatureVariableDouble(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableJSON=function(e,t,r,n){var i=this.getUserContextWithOverrides(r,n);return null===i.id?null:this._client.getFeatureVariableJSON(e,t,i.id,i.attributes)},e.prototype.getFeatureVariable=function(e,t,r,n){var i=this.getUserContextWithOverrides(r,n);return null===i.id?null:this._client.getFeatureVariable(e,t,i.id,i.attributes)},e.prototype.getAllFeatureVariables=function(e,t,r){var n=this.getUserContextWithOverrides(t,r);return null===n.id?{}:this._client.getAllFeatureVariables(e,n.id,n.attributes)},e.prototype.getEnabledFeatures=function(e,t){var r=this.getUserContextWithOverrides(e,t);return null===r.id?[]:this._client.getEnabledFeatures(r.id,r.attributes)},e.prototype.getForcedVariation=function(e,t){var r=this.getUserContextWithOverrides(t);return null===r.id?null:this._client.getForcedVariation(e,r.id)},e.prototype.setForcedVariation=function(e,t,r){var n=null,i=null;if(2===arguments.length)i=t,n=this.getUserContextWithOverrides().id;else if(3===arguments.length){if(n=this.getUserContextWithOverrides(t).id,void 0===r)return!1;i=r}if(null===n)return!1;var o=this._client.setForcedVariation(e,n,i);return this.onForcedVariationsUpdateHandlers.forEach((function(e){return e()})),o},e.prototype.getOptimizelyConfig=function(){return this._client.getOptimizelyConfig()},e.prototype.close=function(){return this._client.close()},Object.defineProperty(e.prototype,"client",{get:function(){return this._client},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notificationCenter",{get:function(){return this._client.notificationCenter},enumerable:!0,configurable:!0}),e.prototype.getUserContextWithOverrides=function(e,t){return{id:void 0===e?this.user.id:e,attributes:void 0===t?this.user.attributes:t}},e}();i.getLogger("ReactSDK");Object.defineProperty(t,"kE",{enumerable:!0,get:function(){return o.enums}}),t.hl=a,t.dH=v,t.Fs=function(e){return new I(e)},t.rm=function(e,t,r){void 0===t&&(t={}),void 0===r&&(r={});var i=n.useContext(a),o=i.optimizely,s=i.isServerSide,l=i.timeout;if(!o)throw new Error("optimizely prop must be supplied via a parent <OptimizelyProvider>");var c=E(r.overrideAttributes),d=n.useCallback((function(){return{decision:o.decide(e,t.decideOptions,r.overrideUserId,c)}}),[o,e,r.overrideUserId,c,t.decideOptions]),h=s||o.isReady(),v=n.useState((function(){var t=h?d():{decision:f(e,"Optimizely SDK not configured properly yet.",{id:r.overrideUserId||null,attributes:c})};return u({},t,{clientReady:h,didTimeout:!1})})),b=v[0],I=v[1],O={entityKey:e,overrideUserId:r.overrideUserId,overrideAttributes:r.overrideAttributes},N=n.useState(O),R=N[0],T=N[1];y(R,O)||(T(O),I((function(e){return u({},e,d())})));var S=void 0!==t.timeout?t.timeout:l;return n.useEffect((function(){h||m(o,S,(function(e){I(u({},d(),e))}))}),[h,S,d,o]),n.useEffect((function(){return t.autoUpdate?g(o,p.FEATURE,e,_,(function(){I((function(e){return u({},e,d())}))})):function(){}}),[h,t.autoUpdate,o,e,d]),[b.decision,b.clientReady,b.didTimeout]}},3854:e=>{var t=.1,r="function"==typeof Float32Array;function n(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function o(e){return 3*e}function a(e,t,r){return((n(t,r)*e+i(t,r))*e+o(t))*e}function s(e,t,r){return 3*n(t,r)*e*e+2*i(t,r)*e+o(t)}function l(e){return e}e.exports=function(e,n,i,o){if(!(0<=e&&e<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===n&&i===o)return l;for(var u=r?new Float32Array(11):new Array(11),c=0;c<11;++c)u[c]=a(c*t,e,i);return function(r){return 0===r?0:1===r?1:a(function(r){for(var n=0,o=1;10!==o&&u[o]<=r;++o)n+=t;--o;var l=n+(r-u[o])/(u[o+1]-u[o])*t,c=s(l,e,i);return c>=.001?function(e,t,r,n){for(var i=0;i<4;++i){var o=s(t,r,n);if(0===o)return t;t-=(a(t,r,n)-e)/o}return t}(r,l,e,i):0===c?l:function(e,t,r,n,i){var o,s,l=0;do{(o=a(s=t+(r-t)/2,n,i)-e)>0?r=s:t=s}while(Math.abs(o)>1e-7&&++l<10);return s}(r,n,n+t,e,i)}(r),n,o)}}},863:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=i.apply(null,r);a&&e.push(a)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},4588:(e,t,r)=>{var n=r(1564),i={};for(var o in n)n.hasOwnProperty(o)&&(i[n[o]]=o);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var l=a[s].channels,u=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:l}),Object.defineProperty(a[s],"labels",{value:u})}a.rgb.hsl=function(e){var t,r,n=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(n,i,o),s=Math.max(n,i,o),l=s-a;return s===a?t=0:n===s?t=(i-o)/l:i===s?t=2+(o-n)/l:o===s&&(t=4+(n-i)/l),(t=Math.min(60*t,360))<0&&(t+=360),r=(a+s)/2,[t,100*(s===a?0:r<=.5?l/(s+a):l/(2-s-a)),100*r]},a.rgb.hsv=function(e){var t,r,n,i,o,a=e[0]/255,s=e[1]/255,l=e[2]/255,u=Math.max(a,s,l),c=u-Math.min(a,s,l),d=function(e){return(u-e)/6/c+.5};return 0===c?i=o=0:(o=c/u,t=d(a),r=d(s),n=d(l),a===u?i=n-r:s===u?i=1/3+t-n:l===u&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*u]},a.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2];return[a.rgb.hsl(e)[0],1/255*Math.min(t,Math.min(r,n))*100,100*(n=1-1/255*Math.max(t,Math.max(r,n)))]},a.rgb.cmyk=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-n,1-i)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},a.rgb.keyword=function(e){var t=i[e];if(t)return t;var r,o,a,s=1/0;for(var l in n)if(n.hasOwnProperty(l)){var u=(o=e,a=n[l],Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));u<s&&(s=u,r=l)}return r},a.keyword.rgb=function(e){return n[e]},a.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},a.rgb.lab=function(e){var t=a.rgb.xyz(e),r=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(e){var t,r,n,i,o,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0===s)return[o=255*l,o,o];t=2*l-(r=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var u=0;u<3;u++)(n=a+1/3*-(u-1))<0&&n++,n>1&&n--,o=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,i[u]=255*o;return i},a.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=r,o=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,i*=o<=1?o:2-o,[t,100*(0===n?2*i/(o+i):2*r/(n+r)),(n+r)/2*100]},a.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),a=255*n*(1-r),s=255*n*(1-r*o),l=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,l,a];case 1:return[s,n,a];case 2:return[a,n,l];case 3:return[a,s,n];case 4:return[l,a,n];case 5:return[n,a,s]}},a.hsv.hsl=function(e){var t,r,n,i=e[0],o=e[1]/100,a=e[2]/100,s=Math.max(a,.01);return n=(2-o)*a,r=o*s,[i,100*(r=(r/=(t=(2-o)*s)<=1?t:2-t)||0),100*(n/=2)]},a.hwb.rgb=function(e){var t,r,n,i,o,a,s,l=e[0]/360,u=e[1]/100,c=e[2]/100,d=u+c;switch(d>1&&(u/=d,c/=d),n=6*l-(t=Math.floor(6*l)),0!=(1&t)&&(n=1-n),i=u+n*((r=1-c)-u),t){default:case 6:case 0:o=r,a=i,s=u;break;case 1:o=i,a=r,s=u;break;case 2:o=u,a=r,s=i;break;case 3:o=u,a=i,s=r;break;case 4:o=i,a=u,s=r;break;case 5:o=r,a=u,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},a.xyz.rgb=function(e){var t,r,n,i=e[0]/100,o=e[1]/100,a=e[2]/100;return r=-.9689*i+1.8758*o+.0415*a,n=.0557*i+-.204*o+1.057*a,t=(t=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},a.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2];return r/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},a.lab.xyz=function(e){var t,r,n,i=e[0];t=e[1]/500+(r=(i+16)/116),n=r-e[2]/200;var o=Math.pow(r,3),a=Math.pow(t,3),s=Math.pow(n,3);return r=o>.008856?o:(r-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,n=s>.008856?s:(n-16/116)/7.787,[t*=95.047,r*=100,n*=108.883]},a.lab.lch=function(e){var t,r=e[0],n=e[1],i=e[2];return(t=360*Math.atan2(i,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+i*i),t]},a.lch.lab=function(e){var t,r=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[r,n*Math.cos(t),n*Math.sin(t)]},a.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],i=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},a.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map((function(e){return e+e})).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},a.rgb.hcg=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255,o=Math.max(Math.max(r,n),i),a=Math.min(Math.min(r,n),i),s=o-a;return t=s<=0?0:o===r?(n-i)/s%6:o===n?2+(i-r)/s:4+(r-n)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(e){var t,r=e[1]/100,n=e[2]/100,i=0;return(t=n<.5?2*r*n:2*r*(1-n))<1&&(i=(n-.5*t)/(1-t)),[e[0],100*t,100*i]},a.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},a.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var i,o=[0,0,0],a=t%1*6,s=a%1,l=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=l,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=l,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=l}return i=(1-r)*n,[255*(r*o[0]+i),255*(r*o[1]+i),255*(r*o[2]+i)]},a.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},a.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},a.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},a.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,n=r-t,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]},a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},a.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},6845:(e,t,r)=>{var n=r(4588),i=r(1294),o={};Object.keys(n).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:n[e].channels}),Object.defineProperty(o[e],"labels",{value:n[e].labels});var t=i(e);Object.keys(t).forEach((function(r){var n=t[r];o[e][r]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"==typeof r)for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(n),o[e][r].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)}))})),e.exports=o},1294:(e,t,r)=>{var n=r(4588);function i(e,t){return function(r){return t(e(r))}}function o(e,t){for(var r=[t[e].parent,e],o=n[t[e].parent][e],a=t[e].parent;t[a].parent;)r.unshift(t[a].parent),o=i(n[t[a].parent][a],o),a=t[a].parent;return o.conversion=r,o}e.exports=function(e){for(var t=function(e){var t=function(){for(var e={},t=Object.keys(n),r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var i=r.pop(),o=Object.keys(n[i]),a=o.length,s=0;s<a;s++){var l=o[s],u=t[l];-1===u.distance&&(u.distance=t[i].distance+1,u.parent=i,r.unshift(l))}return t}(e),r={},i=Object.keys(t),a=i.length,s=0;s<a;s++){var l=i[s];null!==t[l].parent&&(r[l]=o(l,t))}return r}},1564:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4481:(e,t,r)=>{var n=r(1564),i=r(2221),o=Object.hasOwnProperty,a={};for(var s in n)o.call(n,s)&&(a[n[s]]=s);var l=e.exports={to:{},get:{}};function u(e,t,r){return Math.min(Math.max(t,e),r)}function c(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}l.get=function(e){var t,r;switch(e.substring(0,3).toLowerCase()){case"hsl":t=l.get.hsl(e),r="hsl";break;case"hwb":t=l.get.hwb(e),r="hwb";break;default:t=l.get.rgb(e),r="rgb"}return t?{model:r,value:t}:null},l.get.rgb=function(e){if(!e)return null;var t,r,i,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],r=0;r<3;r++){var s=2*r;a[r]=parseInt(t.slice(s,s+2),16)}i&&(a[3]=parseInt(i,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],r=0;r<3;r++)a[r]=parseInt(t[r]+t[r],16);i&&(a[3]=parseInt(i+i,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(r=0;r<3;r++)a[r]=parseInt(t[r+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:o.call(n,t[1])?((a=n[t[1]])[3]=1,a):null:null;for(r=0;r<3;r++)a[r]=Math.round(2.55*parseFloat(t[r+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(r=0;r<3;r++)a[r]=u(a[r],0,255);return a[3]=u(a[3],0,1),a},l.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(r)?1:r,0,1)]}return null},l.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(r)?1:r,0,1)]}return null},l.to.hex=function(){var e=i(arguments);return"#"+c(e[0])+c(e[1])+c(e[2])+(e[3]<1?c(Math.round(255*e[3])):"")},l.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},l.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"},l.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},l.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},l.to.keyword=function(e){return a[e.slice(0,3)]}},4021:(e,t,r)=>{"use strict";var n=r(4481),i=r(6845),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(i).forEach((function(e){s[o.call(i[e].labels).sort().join("")]=e}));var l={};function u(e,t){if(!(this instanceof u))return new u(e,t);if(t&&t in a&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var r,c;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof u)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var d=n.get(e);if(null===d)throw new Error("Unable to parse color from string: "+e);this.model=d.model,c=i[this.model].channels,this.color=d.value.slice(0,c),this.valpha="number"==typeof d.value[c]?d.value[c]:1}else if(e.length){this.model=t||"rgb",c=i[this.model].channels;var f=o.call(e,0,c);this.color=p(f,c),this.valpha="number"==typeof e[c]?e[c]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var h=Object.keys(e);"alpha"in e&&(h.splice(h.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var v=h.sort().join("");if(!(v in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[v];var g=i[this.model].labels,_=[];for(r=0;r<g.length;r++)_.push(e[g[r]]);this.color=p(_)}if(l[this.model])for(c=i[this.model].channels,r=0;r<c;r++){var y=l[this.model][r];y&&(this.color[r]=y(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(e,t,r){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(l[e]||(l[e]=[]))[t]=r})),e=e[0],function(n){var i;return arguments.length?(r&&(n=r(n)),(i=this[e]()).color[t]=n,i):(i=this[e]().color[t],r&&(i=r(i)),i)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function f(e){return Array.isArray(e)?e:[e]}function p(e,t){for(var r=0;r<t;r++)"number"!=typeof e[r]&&(e[r]=0);return e}u.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in n.to?this:this.rgb(),r=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return n.to[t.model](r)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),r=1===t.valpha?t.color:t.color.concat(this.valpha);return n.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,r=i[this.model].labels,n=0;n<t;n++)e[r[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new u(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new u(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:c("rgb",0,d(255)),green:c("rgb",1,d(255)),blue:c("rgb",2,d(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:c("hsl",1,d(100)),lightness:c("hsl",2,d(100)),saturationv:c("hsv",1,d(100)),value:c("hsv",2,d(100)),chroma:c("hcg",1,d(100)),gray:c("hcg",2,d(100)),white:c("hwb",1,d(100)),wblack:c("hwb",2,d(100)),cyan:c("cmyk",0,d(100)),magenta:c("cmyk",1,d(100)),yellow:c("cmyk",2,d(100)),black:c("cmyk",3,d(100)),x:c("xyz",0,d(100)),y:c("xyz",1,d(100)),z:c("xyz",2,d(100)),l:c("lab",0,d(100)),a:c("lab",1),b:c("lab",2),keyword:function(e){return arguments.length?new u(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new u(e):n.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return u.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r=(r+e)%360)<0?360+r:r,t.color[0]=r,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var r=e.rgb(),n=this.rgb(),i=void 0===t?.5:t,o=2*i-1,a=r.alpha()-n.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,l=1-s;return u.rgb(s*r.red()+l*n.red(),s*r.green()+l*n.green(),s*r.blue()+l*n.blue(),r.alpha()*i+n.alpha()*(1-i))}},Object.keys(i).forEach((function(e){if(-1===a.indexOf(e)){var t=i[e].channels;u.prototype[e]=function(){if(this.model===e)return new u(this);if(arguments.length)return new u(arguments,e);var r="number"==typeof arguments[t]?t:this.valpha;return new u(f(i[this.model][e].raw(this.color)).concat(r),e)},u[e]=function(r){return"number"==typeof r&&(r=p(o.call(arguments),t)),new u(r,e)}}})),e.exports=u},3792:()=>{},1115:()=>{},4768:()=>{},9940:()=>{},3958:()=>{},242:()=>{},3438:()=>{},4409:()=>{},9237:()=>{},1133:()=>{},8332:()=>{},700:()=>{},3090:()=>{},9323:()=>{},9761:()=>{},1135:()=>{},4191:()=>{},2474:()=>{},7041:()=>{},4491:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={h1:"pub__h1",h2:"pub__h2",h3:"pub__h3",h4:"pub__h4",h5:"pub__h5",h6:"pub__h6"}},7191:(e,t,r)=>{"use strict";var n=r(5336),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var i=p(r);i&&i!==h&&e(t,i,n)}var a=c(r);d&&(a=a.concat(d(r)));for(var s=l(t),v=l(r),g=0;g<a.length;++g){var _=a[g];if(!(o[_]||n&&n[_]||v&&v[_]||s&&s[_])){var y=f(r,_);try{u(t,_,y)}catch(e){}}}}return t}},5159:e=>{"use strict";e.exports=function(){throw new Error('Using the "css" tag in runtime is not supported. Make sure you have set up the Babel plugin correctly.')}},2955:e=>{"use strict";e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}},8438:(e,t,r)=>{"use strict";t.css=r(5159),t.cx=r(2955)},5750:(e,t,r)=>{"use strict";t.styled=r(359)},359:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}r(4141);var i=r(1121),o=r(7437).default,a=r(8438).cx;e.exports=function(e){return function(t){var r=function(r,s){var l,u=r.as,c=void 0===u?e:u,d=r.class,f=n(r,["as","class"]);if("string"==typeof c&&-1===c.indexOf("-"))for(var p in l={},f)("as"===p||o(p))&&(l[p]=f[p]);else l=f;l.ref=s,l.className=a(l.className||d,t.class);var h=t.vars;if(h){var v={};for(var g in h){var _=h[g],y=_[0],m=_[1],E=void 0===m?"":m,b="function"==typeof y?y(r):y;t.name,v["--"+g]=""+b+E}l.style=Object.assign(v,l.style)}return e.__linaria&&e!==c?(l.as=c,i.createElement(e,l)):i.createElement(c,l)},s=i.forwardRef?i.forwardRef(r):function(e){var t=e.innerRef,i=n(e,["innerRef"]);return r(i,t)};return s.displayName=t.name,s.__linaria={className:t.class,extends:e},s}}},9935:(e,t,r)=>{var n=r(9263),i=r(1474),o=r(3012),a=n.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a function")}},944:(e,t,r)=>{var n=r(9263),i=r(6609),o=n.String,a=n.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not an object")}},5668:(e,t,r)=>{var n=r(6709),i=r(166),o=r(1080),a=function(e){return function(t,r,a){var s,l=n(t),u=o(l),c=i(a,u);if(e&&r!=r){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3201:(e,t,r)=>{"use strict";var n=r(5830);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},2736:(e,t,r)=>{var n=r(9569),i=n({}.toString),o=n("".slice);e.exports=function(e){return o(i(e),8,-1)}},7450:(e,t,r)=>{var n=r(1273),i=r(8670),o=r(1342),a=r(72);e.exports=function(e,t,r){for(var s=i(t),l=a.f,u=o.f,c=0;c<s.length;c++){var d=s[c];n(e,d)||r&&n(r,d)||l(e,d,u(t,d))}}},4339:(e,t,r)=>{var n=r(3373),i=r(72),o=r(3765);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},3765:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},3373:(e,t,r)=>{var n=r(5830);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},237:(e,t,r)=>{var n=r(9263),i=r(6609),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},3928:(e,t,r)=>{var n=r(6316);e.exports=n("navigator","userAgent")||""},6249:(e,t,r)=>{var n,i,o=r(9263),a=r(3928),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(i=(n=c.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},7404:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8689:(e,t,r)=>{var n=r(9263),i=r(1342).f,o=r(4339),a=r(4327),s=r(7058),l=r(7450),u=r(6451);e.exports=function(e,t){var r,c,d,f,p,h=e.target,v=e.global,g=e.stat;if(r=v?n:g?n[h]||s(h,{}):(n[h]||{}).prototype)for(c in t){if(f=t[c],d=e.noTargetGet?(p=i(r,c))&&p.value:r[c],!u(v?c:h+(g?".":"#")+c,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),a(r,c,f,e)}}},5830:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9856:e=>{var t=Function.prototype.call;e.exports=t.bind?t.bind(t):function(){return t.apply(t,arguments)}},1746:(e,t,r)=>{var n=r(3373),i=r(1273),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!n||n&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},9569:e=>{var t=Function.prototype,r=t.bind,n=t.call,i=r&&r.bind(n,n);e.exports=r?function(e){return e&&i(e)}:function(e){return e&&function(){return n.apply(e,arguments)}}},6316:(e,t,r)=>{var n=r(9263),i=r(1474),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e]):n[e]&&n[e][t]}},1558:(e,t,r)=>{var n=r(9935);e.exports=function(e,t){var r=e[t];return null==r?void 0:n(r)}},9263:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},1273:(e,t,r)=>{var n=r(9569),i=r(5126),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},5241:e=>{e.exports={}},3285:(e,t,r)=>{var n=r(3373),i=r(5830),o=r(237);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},9327:(e,t,r)=>{var n=r(9263),i=r(9569),o=r(5830),a=r(2736),s=n.Object,l=i("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?l(e,""):s(e)}:s},2146:(e,t,r)=>{var n=r(9569),i=r(1474),o=r(5567),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},6436:(e,t,r)=>{var n,i,o,a=r(1489),s=r(9263),l=r(9569),u=r(6609),c=r(4339),d=r(1273),f=r(5567),p=r(9125),h=r(5241),v="Object already initialized",g=s.TypeError,_=s.WeakMap;if(a||f.state){var y=f.state||(f.state=new _),m=l(y.get),E=l(y.has),b=l(y.set);n=function(e,t){if(E(y,e))throw new g(v);return t.facade=e,b(y,e,t),t},i=function(e){return m(y,e)||{}},o=function(e){return E(y,e)}}else{var I=p("state");h[I]=!0,n=function(e,t){if(d(e,I))throw new g(v);return t.facade=e,c(e,I,t),t},i=function(e){return d(e,I)?e[I]:{}},o=function(e){return d(e,I)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return r}}}},1474:e=>{e.exports=function(e){return"function"==typeof e}},6451:(e,t,r)=>{var n=r(5830),i=r(1474),o=/#|\.prototype\./,a=function(e,t){var r=l[s(e)];return r==c||r!=u&&(i(t)?n(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},6609:(e,t,r)=>{var n=r(1474);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},4111:e=>{e.exports=!1},1875:(e,t,r)=>{var n=r(9263),i=r(6316),o=r(1474),a=r(2660),s=r(8916),l=n.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&a(t.prototype,l(e))}},1080:(e,t,r)=>{var n=r(2313);e.exports=function(e){return n(e.length)}},2786:(e,t,r)=>{var n=r(6249),i=r(5830);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},1489:(e,t,r)=>{var n=r(9263),i=r(1474),o=r(2146),a=n.WeakMap;e.exports=i(a)&&/native code/.test(o(a))},72:(e,t,r)=>{var n=r(9263),i=r(3373),o=r(3285),a=r(1444),s=r(944),l=r(2731),u=n.TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor;t.f=i?a?function(e,t,r){if(s(e),t=l(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&"writable"in r&&!r.writable){var n=d(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(s(e),t=l(t),s(r),o)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},1342:(e,t,r)=>{var n=r(3373),i=r(9856),o=r(5428),a=r(3765),s=r(6709),l=r(2731),u=r(1273),c=r(3285),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=s(e),t=l(t),c)try{return d(e,t)}catch(e){}if(u(e,t))return a(!i(o.f,e,t),e[t])}},5723:(e,t,r)=>{var n=r(1715),i=r(7404).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},4681:(e,t)=>{t.f=Object.getOwnPropertySymbols},2660:(e,t,r)=>{var n=r(9569);e.exports=n({}.isPrototypeOf)},1715:(e,t,r)=>{var n=r(9569),i=r(1273),o=r(6709),a=r(5668).indexOf,s=r(5241),l=n([].push);e.exports=function(e,t){var r,n=o(e),u=0,c=[];for(r in n)!i(s,r)&&i(n,r)&&l(c,r);for(;t.length>u;)i(n,r=t[u++])&&(~a(c,r)||l(c,r));return c}},5428:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},3988:(e,t,r)=>{var n=r(9263),i=r(9856),o=r(1474),a=r(6609),s=n.TypeError;e.exports=function(e,t){var r,n;if("string"===t&&o(r=e.toString)&&!a(n=i(r,e)))return n;if(o(r=e.valueOf)&&!a(n=i(r,e)))return n;if("string"!==t&&o(r=e.toString)&&!a(n=i(r,e)))return n;throw s("Can't convert object to primitive value")}},8670:(e,t,r)=>{var n=r(6316),i=r(9569),o=r(5723),a=r(4681),s=r(944),l=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(s(e)),r=a.f;return r?l(t,r(e)):t}},4327:(e,t,r)=>{var n=r(9263),i=r(1474),o=r(1273),a=r(4339),s=r(7058),l=r(2146),u=r(6436),c=r(1746).CONFIGURABLE,d=u.get,f=u.enforce,p=String(String).split("String");(e.exports=function(e,t,r,l){var u,d=!!l&&!!l.unsafe,h=!!l&&!!l.enumerable,v=!!l&&!!l.noTargetGet,g=l&&void 0!==l.name?l.name:t;i(r)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(r,"name")||c&&r.name!==g)&&a(r,"name",g),(u=f(r)).source||(u.source=p.join("string"==typeof g?g:""))),e!==n?(d?!v&&e[t]&&(h=!0):delete e[t],h?e[t]=r:a(e,t,r)):h?e[t]=r:s(t,r)})(Function.prototype,"toString",(function(){return i(this)&&d(this).source||l(this)}))},301:(e,t,r)=>{var n=r(9263).TypeError;e.exports=function(e){if(null==e)throw n("Can't call method on "+e);return e}},7058:(e,t,r)=>{var n=r(9263),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},9125:(e,t,r)=>{var n=r(1889),i=r(3453),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5567:(e,t,r)=>{var n=r(9263),i=r(7058),o="__core-js_shared__",a=n[o]||i(o,{});e.exports=a},1889:(e,t,r)=>{var n=r(4111),i=r(5567);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.2",mode:n?"pure":"global",copyright:"Â© 2022 Denis Pushkarev (zloirock.ru)"})},166:(e,t,r)=>{var n=r(4222),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},6709:(e,t,r)=>{var n=r(9327),i=r(301);e.exports=function(e){return n(i(e))}},4222:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){var n=+e;return n!=n||0===n?0:(n>0?r:t)(n)}},2313:(e,t,r)=>{var n=r(4222),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},5126:(e,t,r)=>{var n=r(9263),i=r(301),o=n.Object;e.exports=function(e){return o(i(e))}},6082:(e,t,r)=>{var n=r(9263),i=r(9856),o=r(6609),a=r(1875),s=r(1558),l=r(3988),u=r(2871),c=n.TypeError,d=u("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var r,n=s(e,d);if(n){if(void 0===t&&(t="default"),r=i(n,e,t),!o(r)||a(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},2731:(e,t,r)=>{var n=r(6082),i=r(1875);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},3012:(e,t,r)=>{var n=r(9263).String;e.exports=function(e){try{return n(e)}catch(e){return"Object"}}},3453:(e,t,r)=>{var n=r(9569),i=0,o=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},8916:(e,t,r)=>{var n=r(2786);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},1444:(e,t,r)=>{var n=r(3373),i=r(5830);e.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2871:(e,t,r)=>{var n=r(9263),i=r(1889),o=r(1273),a=r(3453),s=r(2786),l=r(8916),u=i("wks"),c=n.Symbol,d=c&&c.for,f=l?c:c&&c.withoutSetter||a;e.exports=function(e){if(!o(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&o(c,e)?u[e]=c[e]:u[e]=l&&d?d(t):f(t)}return u[e]}},4141:(e,t,r)=>{"use strict";var n=r(8689),i=r(9569),o=r(5668).indexOf,a=r(3201),s=i([].indexOf),l=!!s&&1/s([1],1,-0)<0,u=a("indexOf");n({target:"Array",proto:!0,forced:l||!u},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?s(this,e,t)||0:o(this,e,t)}})},1398:(e,t,r)=>{e.exports=r(5750)},2689:e=>{!function(){function t(e,t){var r,n,i,o,a,s,l,u;for(r=3&e.length,n=e.length-r,i=t,a=3432918353,s=461845907,u=0;u<n;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}var r=t;r.v2=function(e,t){for(var r,n=e.length,i=t^n,o=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0},r.v3=t,e.exports=r}()},1121:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Children:()=>ve,Component:()=>y,Fragment:()=>_,PureComponent:()=>ce,Suspense:()=>ye,SuspenseList:()=>be,cloneElement:()=>Ue,createContext:()=>k,createElement:()=>h,createFactory:()=>De,createPortal:()=>Re,createRef:()=>g,default:()=>Be,findDOMNode:()=>Fe,forwardRef:()=>pe,hydrate:()=>Le,isValidElement:()=>ke,lazy:()=>Ee,memo:()=>de,render:()=>Ae,unmountComponentAtNode:()=>Ve,unstable_batchedUpdates:()=>je,useCallback:()=>Q,useContext:()=>ee,useDebugValue:()=>te,useEffect:()=>Y,useErrorBoundary:()=>re,useImperativeHandle:()=>Z,useLayoutEffect:()=>q,useMemo:()=>J,useReducer:()=>W,useRef:()=>X,useState:()=>z,version:()=>we});var n,i,o,a,s,l,u={},c=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function f(e,t){for(var r in t)e[r]=t[r];return e}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,r){var n,i=arguments,o={};for(n in t)"key"!==n&&"ref"!==n&&(o[n]=t[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(i[n]);if(null!=r&&(o.children=r),"function"==typeof e&&null!=e.defaultProps)for(n in e.defaultProps)void 0===o[n]&&(o[n]=e.defaultProps[n]);return v(e,o,t&&t.key,t&&t.ref)}function v(e,t,r,i){var o={type:e,props:t,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return n.vnode&&n.vnode(o),o}function g(){return{}}function _(e){return e.children}function y(e,t){this.props=e,this.context=t}function m(e,t){if(null==t)return e.__?m(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?m(e):null}function E(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return E(e)}}function b(e){(!e.__d&&(e.__d=!0)&&1===i.push(e)||a!==n.debounceRendering)&&((a=n.debounceRendering)||o)(I)}function I(){var e,t,r,n,o,a,s;for(i.sort((function(e,t){return t.__v.__b-e.__v.__b}));e=i.pop();)e.__d&&(r=void 0,n=void 0,a=(o=(t=e).__v).__e,(s=t.__P)&&(r=[],n=A(s,o,f({},o),t.__n,void 0!==s.ownerSVGElement,null,r,null==a?m(o):a),L(r,o),n!=a&&E(o)))}function O(e,t,r,n,i,o,a,s,l){var d,f,h,v,g,_,y,E=r&&r.__k||c,b=E.length;if(s==u&&(s=null!=o?o[0]:b?m(r,0):null),d=0,t.__k=N(t.__k,(function(r){if(null!=r){if(r.__=t,r.__b=t.__b+1,null===(h=E[d])||h&&r.key==h.key&&r.type===h.type)E[d]=void 0;else for(f=0;f<b;f++){if((h=E[f])&&r.key==h.key&&r.type===h.type){E[f]=void 0;break}h=null}if(v=A(e,r,h=h||u,n,i,o,a,s,l),(f=r.ref)&&h.ref!=f&&(y||(y=[]),h.ref&&y.push(h.ref,null,r),y.push(f,r.__c||v,r)),null!=v){var c;if(null==_&&(_=v),void 0!==r.__d)c=r.__d,r.__d=void 0;else if(o==h||v!=s||null==v.parentNode){e:if(null==s||s.parentNode!==e)e.appendChild(v),c=null;else{for(g=s,f=0;(g=g.nextSibling)&&f<b;f+=2)if(g==v)break e;e.insertBefore(v,s),c=s}"option"==t.type&&(e.value="")}s=void 0!==c?c:v.nextSibling,"function"==typeof t.type&&(t.__d=s)}}return d++,r})),t.__e=_,null!=o&&"function"!=typeof t.type)for(d=o.length;d--;)null!=o[d]&&p(o[d]);for(d=b;d--;)null!=E[d]&&M(E[d],E[d]);if(y)for(d=0;d<y.length;d++)x(y[d],y[++d],y[++d])}function N(e,t,r){if(null==r&&(r=[]),null==e||"boolean"==typeof e)t&&r.push(t(null));else if(Array.isArray(e))for(var n=0;n<e.length;n++)N(e[n],t,r);else r.push(t?t("string"==typeof e||"number"==typeof e?v(null,e,null,null):null!=e.__e||null!=e.__c?v(e.type,e.props,e.key,null):e):e);return r}function R(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]="number"==typeof r&&!1===d.test(t)?r+"px":null==r?"":r}function T(e,t,r,n,i){var o,a,s,l,u;if(i?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(o=e.style,"string"==typeof r)o.cssText=r;else{if("string"==typeof n&&(o.cssText="",n=null),n)for(a in n)r&&a in r||R(o,a,"");if(r)for(s in r)n&&r[s]===n[s]||R(o,s,r[s])}else"o"===t[0]&&"n"===t[1]?(l=t!==(t=t.replace(/Capture$/,"")),u=t.toLowerCase(),t=(u in e?u:t).slice(2),r?(n||e.addEventListener(t,S,l),(e.l||(e.l={}))[t]=r):e.removeEventListener(t,S,l)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!i&&t in e?e[t]=null==r?"":r:"function"!=typeof r&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==r||!1===r?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):null==r||!1===r&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,r))}function S(e){this.l[e.type](n.event?n.event(e):e)}function A(e,t,r,i,o,a,s,l,u){var c,d,p,h,v,g,m,E,b,I,N=t.type;if(void 0!==t.constructor)return null;(c=n.__b)&&c(t);try{e:if("function"==typeof N){if(E=t.props,b=(c=N.contextType)&&i[c.__c],I=c?b?b.props.value:c.__:i,r.__c?m=(d=t.__c=r.__c).__=d.__E:("prototype"in N&&N.prototype.render?t.__c=d=new N(E,I):(t.__c=d=new y(E,I),d.constructor=N,d.render=C),b&&b.sub(d),d.props=E,d.state||(d.state={}),d.context=I,d.__n=i,p=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=N.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=f({},d.__s)),f(d.__s,N.getDerivedStateFromProps(E,d.__s))),h=d.props,v=d.state,p)null==N.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==N.getDerivedStateFromProps&&E!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(E,I),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(E,d.__s,I)){for(d.props=E,d.state=d.__s,d.__d=!1,d.__v=t,t.__e=r.__e,t.__k=r.__k,d.__h.length&&s.push(d),c=0;c<t.__k.length;c++)t.__k[c]&&(t.__k[c].__=t);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(E,d.__s,I),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(h,v,g)}))}d.context=I,d.props=E,d.state=d.__s,(c=n.__r)&&c(t),d.__d=!1,d.__v=t,d.__P=e,c=d.render(d.props,d.state,d.context),t.__k=null!=c&&c.type==_&&null==c.key?c.props.children:c,null!=d.getChildContext&&(i=f(f({},i),d.getChildContext())),p||null==d.getSnapshotBeforeUpdate||(g=d.getSnapshotBeforeUpdate(h,v)),O(e,t,r,i,o,a,s,l,u),d.base=t.__e,d.__h.length&&s.push(d),m&&(d.__E=d.__=null),d.__e=!1}else t.__e=P(r.__e,t,r,i,o,a,s,u);(c=n.diffed)&&c(t)}catch(e){n.__e(e,t,r)}return t.__e}function L(e,t){n.__c&&n.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){n.__e(e,t.__v)}}))}function P(e,t,r,n,i,o,a,s){var l,d,f,p,h,v=r.props,g=t.props;if(i="svg"===t.type||i,null==e&&null!=o)for(l=0;l<o.length;l++)if(null!=(d=o[l])&&(null===t.type?3===d.nodeType:d.localName===t.type)){e=d,o[l]=null;break}if(null==e){if(null===t.type)return document.createTextNode(g);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,g.is&&{is:g.is}),o=null}if(null===t.type)null!=o&&(o[o.indexOf(e)]=null),v!==g&&e.data!=g&&(e.data=g);else if(t!==r){if(null!=o&&(o[o.indexOf(e)]=null,o=c.slice.call(e.childNodes)),f=(v=r.props||u).dangerouslySetInnerHTML,p=g.dangerouslySetInnerHTML,!s){if(v===u)for(v={},h=0;h<e.attributes.length;h++)v[e.attributes[h].name]=e.attributes[h].value;(p||f)&&(p&&f&&p.__html==f.__html||(e.innerHTML=p&&p.__html||""))}(function(e,t,r,n,i){var o;for(o in r)o in t||T(e,o,null,r[o],n);for(o in t)i&&"function"!=typeof t[o]||"value"===o||"checked"===o||r[o]===t[o]||T(e,o,t[o],r[o],n)})(e,g,v,i,s),t.__k=t.props.children,p||O(e,t,r,n,"foreignObject"!==t.type&&i,o,a,u,s),s||("value"in g&&void 0!==g.value&&g.value!==e.value&&(e.value=null==g.value?"":g.value),"checked"in g&&void 0!==g.checked&&g.checked!==e.checked&&(e.checked=g.checked))}return e}function x(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,r)}}function M(e,t,r){var i,o,a;if(n.unmount&&n.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||x(i,null,t)),r||"function"==typeof e.type||(r=null!=(o=e.__e)),e.__e=e.__d=void 0,null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){n.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(a=0;a<i.length;a++)i[a]&&M(i[a],t,r);null!=o&&p(o)}function C(e,t,r){return this.constructor(e,r)}function w(e,t,r){var i,o,a;n.__&&n.__(e,t),o=(i=r===s)?null:r&&r.__k||t.__k,e=h(_,null,[e]),a=[],A(t,(i?t:r||t).__k=e,o||u,u,void 0!==t.ownerSVGElement,r&&!i?[r]:o?null:c.slice.call(t.childNodes),a,r||u,i),L(a,e)}function D(e,t){return t=f(f({},e.props),t),arguments.length>2&&(t.children=c.slice.call(arguments,2)),v(e.type,t,t.key||e.key,t.ref||e.ref)}function k(e){var t={},r={__c:"__cC"+l++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,i=this;return this.getChildContext||(n=[],this.getChildContext=function(){return t[r.__c]=i,t},this.shouldComponentUpdate=function(t){e.value!==t.value&&n.some((function(e){e.context=t.value,b(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return r.Consumer.contextType=r,r}n={__e:function(e,t){for(var r,n;t=t.__;)if((r=t.__c)&&!r.__)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(e))),null!=r.componentDidCatch&&(n=!0,r.componentDidCatch(e)),n)return b(r.__E=r)}catch(t){e=t}throw e}},y.prototype.setState=function(e,t){var r;r=this.__s!==this.state?this.__s:this.__s=f({},this.state),"function"==typeof e&&(e=e(r,this.props)),e&&f(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),b(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),b(this))},y.prototype.render=_,i=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,s=u,l=0;var U,V,F,j=[],B=n.__r,$=n.diffed,K=n.__c,G=n.unmount;function H(e){n.__h&&n.__h(V);var t=V.__H||(V.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function z(e){return W(se,e)}function W(e,t,r){var n=H(U++);return n.__c||(n.__c=V,n.__=[r?r(t):se(void 0,t),function(t){var r=e(n.__[0],t);n.__[0]!==r&&(n.__[0]=r,n.__c.setState({}))}]),n.__}function Y(e,t){var r=H(U++);ae(r.__H,t)&&(r.__=e,r.__H=t,V.__H.__h.push(r))}function q(e,t){var r=H(U++);ae(r.__H,t)&&(r.__=e,r.__H=t,V.__h.push(r))}function X(e){return J((function(){return{current:e}}),[])}function Z(e,t,r){q((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==r?r:r.concat(e))}function J(e,t){var r=H(U++);return ae(r.__H,t)?(r.__H=t,r.__h=e,r.__=e()):r.__}function Q(e,t){return J((function(){return e}),t)}function ee(e){var t=V.context[e.__c];if(!t)return e.__;var r=H(U++);return null==r.__&&(r.__=!0,t.sub(V)),t.props.value}function te(e,t){n.useDebugValue&&n.useDebugValue(t?t(e):e)}function re(e){var t=H(U++),r=z();return t.__=e,V.componentDidCatch||(V.componentDidCatch=function(e){t.__&&t.__(e),r[1](e)}),[r[0],function(){r[1](void 0)}]}function ne(){j.some((function(e){if(e.__P)try{e.__H.__h.forEach(ie),e.__H.__h.forEach(oe),e.__H.__h=[]}catch(t){return n.__e(t,e.__v),!0}})),j=[]}function ie(e){e.t&&e.t()}function oe(e){var t=e.__();"function"==typeof t&&(e.t=t)}function ae(e,t){return!e||t.some((function(t,r){return t!==e[r]}))}function se(e,t){return"function"==typeof t?t(e):t}function le(e,t){for(var r in t)e[r]=t[r];return e}function ue(e,t){for(var r in e)if("__source"!==r&&!(r in t))return!0;for(var n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}n.__r=function(e){B&&B(e),U=0,(V=e.__c).__H&&(V.__H.__h.forEach(ie),V.__H.__h.forEach(oe),V.__H.__h=[])},n.diffed=function(e){$&&$(e);var t=e.__c;if(t){var r=t.__H;r&&r.__h.length&&(1!==j.push(t)&&F===n.requestAnimationFrame||((F=n.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(n),cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);"undefined"!=typeof window&&(t=requestAnimationFrame(r))})(ne))}},n.__c=function(e,t){t.some((function(e){try{e.__h.forEach(ie),e.__h=e.__h.filter((function(e){return!e.__||oe(e)}))}catch(r){t.some((function(e){e.__h&&(e.__h=[])})),t=[],n.__e(r,e.__v)}})),K&&K(e,t)},n.unmount=function(e){G&&G(e);var t=e.__c;if(t){var r=t.__H;if(r)try{r.__.forEach((function(e){return e.t&&e.t()}))}catch(e){n.__e(e,t.__v)}}};var ce=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).isPureReactComponent=!0,r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.shouldComponentUpdate=function(e,t){return ue(this.props,e)||ue(this.state,t)},n}(y);function de(e,t){function r(e){var r=this.props.ref,n=r==e.ref;return!n&&r&&(r.call?r(null):r.current=null),t?!t(this.props,e)||!n:ue(this.props,e)}function n(t){return this.shouldComponentUpdate=r,h(e,le({},t))}return n.prototype.isReactComponent=!0,n.displayName="Memo("+(e.displayName||e.name)+")",n.t=!0,n}var fe=n.vnode;function pe(e){function t(t){var r=le({},t);return delete r.ref,e(r,t.ref)}return t.prototype.isReactComponent=!0,t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}n.vnode=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),fe&&fe(e)};var he=function(e,t){return e?N(e).reduce((function(e,r,n){return e.concat(t(r,n))}),[]):null},ve={map:he,forEach:he,count:function(e){return e?N(e).length:0},only:function(e){if(1!==(e=N(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:N},ge=n.__e;function _e(e){return e&&((e=le({},e)).__c=null,e.__k=e.__k&&e.__k.map(_e)),e}function ye(e){this.__u=0,this.o=null,this.__b=null}function me(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function Ee(e){var t,r,n;function i(i){if(t||(t=e()).then((function(e){r=e.default||e}),(function(e){n=e})),n)throw n;if(!r)throw t;return h(r,i)}return i.displayName="Lazy",i.t=!0,i}function be(){this.i=null,this.l=null}n.__e=function(e,t,r){if(e.then)for(var n,i=t;i=i.__;)if((n=i.__c)&&n.__c)return n.__c(e,t.__c);ge(e,t,r)},(ye.prototype=new y).__c=function(e,t){var r=this;null==r.o&&(r.o=[]),r.o.push(t);var n=me(r.__v),i=!1,o=function(){i||(i=!0,n?n(a):a())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){o(),t.__c&&t.__c()};var a=function(){var e;if(!--r.__u)for(r.__v.__k[0]=r.state.u,r.setState({u:r.__b=null});e=r.o.pop();)e.forceUpdate()};r.__u++||r.setState({u:r.__b=r.__v.__k[0]}),e.then(o,o)},ye.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=_e(this.__b),this.__b=null),[h(y,null,t.u?null:e.children),t.u&&e.fallback]};var Ie=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};(be.prototype=new y).u=function(e){var t=this,r=me(t.__v),n=t.l.get(e);return n[0]++,function(i){var o=function(){t.props.revealOrder?(n.push(i),Ie(t,e,n)):i()};r?r(o):o()}},be.prototype.render=function(e){this.i=null,this.l=new Map;var t=N(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},be.prototype.componentDidUpdate=be.prototype.componentDidMount=function(){var e=this;e.l.forEach((function(t,r){Ie(e,r,t)}))};var Oe=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(e){return e.children},e}();function Ne(e){var t=this,r=e.container,n=h(Oe,{context:t.context},e.vnode);return t.s&&t.s!==r&&(t.h.parentNode&&t.s.removeChild(t.h),M(t.v),t.p=!1),e.vnode?t.p?(r.__k=t.__k,w(n,r),t.__k=r.__k):(t.h=document.createTextNode(""),w("",r,s),r.appendChild(t.h),t.p=!0,t.s=r,w(n,r,t.h),t.__k=this.h.__k):t.p&&(t.h.parentNode&&t.s.removeChild(t.h),M(t.v)),t.v=n,t.componentWillUnmount=function(){t.h.parentNode&&t.s.removeChild(t.h),M(t.v)},null}function Re(e,t){return h(Ne,{vnode:e,container:t})}var Te=/^(?:accent|alignment|arabic|baseline|cap|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/;y.prototype.isReactComponent={};var Se="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function Ae(e,t,r){if(null==t.__k)for(;t.firstChild;)t.removeChild(t.firstChild);return Le(e,t,r)}function Le(e,t,r){return w(e,t),"function"==typeof r&&r(),e?e.__c:null}var Pe=n.event;function xe(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}n.event=function(e){return Pe&&(e=Pe(e)),e.persist=function(){},e.nativeEvent=e};var Me={configurable:!0,get:function(){return this.class}},Ce=n.vnode;n.vnode=function(e){e.$$typeof=Se;var t=e.type,r=e.props;if(r.class!=r.className&&(Me.enumerable="className"in r,null!=r.className&&(r.class=r.className),Object.defineProperty(r,"className",Me)),"function"!=typeof t){var n,i,o;for(o in r.defaultValue&&(r.value||0===r.value||(r.value=r.defaultValue),delete r.defaultValue),Array.isArray(r.value)&&r.multiple&&"select"===t&&(N(r.children).forEach((function(e){-1!=r.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete r.value),r)if(n=Te.test(o))break;if(n)for(o in i=e.props={},r)i[Te.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=r[o]}!function(t){var r=e.type,n=e.props;if(n&&"string"==typeof r){var i={};for(var o in n)/^on(Ani|Tra|Tou)/.test(o)&&(n[o.toLowerCase()]=n[o],delete n[o]),i[o.toLowerCase()]=o;if(i.ondoubleclick&&(n.ondblclick=n[i.ondoubleclick],delete n[i.ondoubleclick]),i.onbeforeinput&&(n.onbeforeinput=n[i.onbeforeinput],delete n[i.onbeforeinput]),i.onchange&&("textarea"===r||"input"===r.toLowerCase()&&!/^fil|che|ra/i.test(n.type))){var a=i.oninput||"oninput";n[a]||(n[a]=n[i.onchange],delete n[i.onchange])}}}(),"function"==typeof t&&!t.m&&t.prototype&&(xe(t.prototype,"componentWillMount"),xe(t.prototype,"componentWillReceiveProps"),xe(t.prototype,"componentWillUpdate"),t.m=!0),Ce&&Ce(e)};var we="16.8.0";function De(e){return h.bind(null,e)}function ke(e){return!!e&&e.$$typeof===Se}function Ue(e){return ke(e)?D.apply(null,arguments):e}function Ve(e){return!!e.__k&&(w(null,e),!0)}function Fe(e){return e&&(e.base||1===e.nodeType&&e)||null}var je=function(e,t){return e(t)};const Be={useState:z,useReducer:W,useEffect:Y,useLayoutEffect:q,useRef:X,useImperativeHandle:Z,useMemo:J,useCallback:Q,useContext:ee,useDebugValue:te,version:"16.8.0",Children:ve,render:Ae,hydrate:Ae,unmountComponentAtNode:Ve,createPortal:Re,createElement:h,createContext:k,createFactory:De,cloneElement:Ue,createRef:g,Fragment:_,isValidElement:ke,findDOMNode:Fe,Component:y,PureComponent:ce,memo:de,forwardRef:pe,unstable_batchedUpdates:je,Suspense:ye,SuspenseList:be,lazy:Ee}},3723:(e,t,r)=>{"use strict";var n=r(9649);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},7721:(e,t,r)=>{e.exports=r(3723)()},9649:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5366:(e,t,r)=>{var n;(n="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)||"undefined"!=typeof navigator&&"ReactNative"===navigator.product?r.g:self).Proxy||(n.Proxy=function(){function e(){return null}function t(e){return!!e&&("object"==typeof e||"function"==typeof e)}function r(e){if(null!==e&&!t(e))throw new TypeError("Object prototype may only be an Object or null: "+e)}var n=null,i=Object,o=!(!i.create&&{__proto__:null}instanceof i),a=i.create||(o?function(e){return r(e),{__proto__:e}}:function(e){function t(){}if(r(e),null===e)throw new SyntaxError("Native Object.create is required to create objects with null prototype");return t.prototype=e,new t}),s=i.getPrototypeOf||([].__proto__===Array.prototype?function(e){return t(e=e.__proto__)?e:null}:e),l=function(u,c){function d(){}if(void 0===(this&&this instanceof l?this.constructor:void 0))throw new TypeError("Constructor Proxy requires 'new'");if(!t(u)||!t(c))throw new TypeError("Cannot create proxy with a non-object as target or handler");n=function(){u=null,d=function(e){throw new TypeError("Cannot perform '"+e+"' on a proxy that has been revoked")}},setTimeout((function(){n=null}),0);var f=c;for(var p in c={get:null,set:null,apply:null,construct:null},f){if(!(p in c))throw new TypeError("Proxy polyfill does not support trap '"+p+"'");c[p]=f[p]}"function"==typeof f&&(c.apply=f.apply.bind(f)),f=s(u);var h=!1,v=!1;if("function"==typeof u){var g=function(){var e=this&&this.constructor===g,t=Array.prototype.slice.call(arguments);return d(e?"construct":"apply"),e&&c.construct?c.construct.call(this,u,t):!e&&c.apply?c.apply(u,this,t):e?(t.unshift(u),new(u.bind.apply(u,t))):u.apply(this,t)};h=!0}else u instanceof Array?(g=[],v=!0):g=o||null!==f?a(f):{};var _=c.get?function(e){return d("get"),c.get(this,e,g)}:function(e){return d("get"),this[e]},y=c.set?function(e,t){d("set"),c.set(this,e,t,g)}:function(e,t){d("set"),this[e]=t},m={};if(i.getOwnPropertyNames(u).forEach((function(e){if(!h&&!v||!(e in g)){var t=i.getOwnPropertyDescriptor(u,e);i.defineProperty(g,e,{enumerable:!!t.enumerable,get:_.bind(u,e),set:y.bind(u,e)}),m[e]=!0}})),p=!0,h||v){var E=i.setPrototypeOf||([].__proto__===Array.prototype?function(e,t){return r(t),e.__proto__=t,e}:e);f&&E(g,f)||(p=!1)}if(c.get||!p)for(var b in u)m[b]||i.defineProperty(g,b,{get:_.bind(u,b)});return i.seal(u),i.seal(g),g};return l.revocable=function(e,t){return{proxy:new l(e,t),revoke:n}},l}(),n.Proxy.revocable=n.Proxy.revocable)},2001:(e,t,r)=>{"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.r(t),r.d(t,{AutoFocusInside:()=>me,FocusLockUI:()=>I,FreeFocusInside:()=>Ne,InFocusGuard:()=>d,MoveFocusInside:()=>Ie,default:()=>Re,useFocusInside:()=>Ee});var i=r(1121),o="data-focus-lock",a="data-focus-lock-disabled",s="data-no-focus-lock",l="data-autofocus-inside";var u={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},c=function(e){var t=e.children;return i.createElement(i.Fragment,null,i.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:u}),t,t&&i.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:u}))};c.propTypes={},c.defaultProps={children:null};const d=c;var f=function(){return f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f.apply(this,arguments)};function p(e){return e}function h(e,t){void 0===t&&(t=p);var r=[],n=!1;return{read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var i=t(e,n);return r.push(i),function(){r=r.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var i=r;r=[],i.forEach(e),t=r}var o=function(){var r=t;t=[],r.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),r={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),r}}}}}function v(e,t){return void 0===t&&(t=p),h(e,t)}var g=v({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),_=v(),y=v(),m=function(e){void 0===e&&(e={});var t=h(null);return t.options=f({async:!0,ssr:!1},e),t}({async:!0}),E=[],b=i.forwardRef((function(e,t){var r,s=i.useState(),l=s[0],c=s[1],d=i.useRef(),f=i.useRef(!1),p=i.useRef(null),h=e.children,v=e.disabled,y=e.noFocusGuards,b=e.persistentFocus,I=e.crossFrame,O=e.autoFocus,N=(e.allowTextSelection,e.group),R=e.className,T=e.whiteList,S=e.shards,A=void 0===S?E:S,L=e.as,P=void 0===L?"div":L,x=e.lockProps,M=void 0===x?{}:x,C=e.sideCar,w=e.returnFocus,D=e.focusOptions,k=e.onActivation,U=e.onDeactivation,V=i.useState({})[0],F=i.useCallback((function(){p.current=p.current||document&&document.activeElement,d.current&&k&&k(d.current),f.current=!0}),[k]),j=i.useCallback((function(){f.current=!1,U&&U(d.current)}),[U]);(0,i.useEffect)((function(){v||(p.current=null)}),[]);var B,$,K,G,H,z=i.useCallback((function(e){var t=p.current;if(t&&t.focus){var r="function"==typeof w?w(t):w;if(Boolean(r)){var n="object"==typeof r?r:void 0;p.current=null,e?Promise.resolve().then((function(){return t.focus(n)})):t.focus(n)}}}),[w]),W=i.useCallback((function(e){f.current&&g.useMedium(e)}),[]),Y=_.useMedium,q=i.useCallback((function(e){d.current!==e&&(d.current=e,c(e))}),[]),X=n(((r={})[a]=v&&"disabled",r[o]=N,r),M),Z=!0!==y,J=Z&&"tail"!==y,Q=(B=[t,q],K=$,G=function(e){return B.forEach((function(t){return function(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}(t,e)}))},(H=(0,i.useState)((function(){return{value:K,callback:G,facade:{get current(){return H.value},set current(e){var t=H.value;t!==e&&(H.value=e,H.callback(e,t))}}}}))[0]).callback=G,H.facade);return i.createElement(i.Fragment,null,Z&&[i.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:v?-1:0,style:u}),i.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:v?-1:1,style:u})],!v&&i.createElement(C,{id:V,sideCar:m,observed:l,disabled:v,persistentFocus:b,crossFrame:I,autoFocus:O,whiteList:T,shards:A,onActivation:F,onDeactivation:j,returnFocus:z,focusOptions:D}),i.createElement(P,n({ref:Q},X,{className:R,onBlur:Y,onFocus:W}),h),J&&i.createElement("div",{"data-focus-guard":!0,tabIndex:v?-1:0,style:u}))}));b.propTypes={},b.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const I=b;function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}var N=function(e){return"INPUT"===e.tagName&&"radio"===e.type},R=function(e,t){return N(e)&&e.name?function(e,t){return t.filter(N).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e,t):e},T=function(e){return e[0]&&e.length>1?R(e[0],e):e[0]},S=function(e,t){return e.length>1?e.indexOf(R(e[t],e)):t},A=function(e,t){var r=e.get(t);if(void 0!==r)return r;var n=function(e,t){return!e||e===document||e&&e.nodeType===Node.DOCUMENT_NODE||!function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!(!t||!t.getPropertyValue||"none"!==t.getPropertyValue("display")&&"hidden"!==t.getPropertyValue("visibility"))}(e)&&t(e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode)}(t,A.bind(void 0,e));return e.set(t,n),n},L=function(e){return Boolean(e&&e.dataset&&e.dataset.focusGuard)},P=function(e){return!L(e)},x=function(e){return Boolean(e)},M="NEW_FOCUS",C=function(e){for(var t=Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t},w=function(e){return Array.isArray(e)?e:[e]},D=function(e){return e.parentNode?D(e.parentNode):e},k=function(e){return w(e).filter(Boolean).reduce((function(e,t){var r=t.getAttribute(o);return e.push.apply(e,r?function(e){for(var t=new Set,r=e.length,n=0;n<r;n+=1)for(var i=n+1;i<r;i+=1){var o=e[n].compareDocumentPosition(e[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(n)}return e.filter((function(e,r){return!t.has(r)}))}(C(D(t).querySelectorAll('[data-focus-lock="'+r+'"]:not(['+a+'="disabled"])'))):[t]),e}),[])},U=function(e,t){var r=e.tabIndex-t.tabIndex,n=e.index-t.index;if(r){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return r||n},V=function(e,t,r){return C(e).map((function(e,t){return{node:e,index:t,tabIndex:r&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}})).filter((function(e){return!t||e.tabIndex>=0})).sort(U)},F=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(","),j=F+", [data-focus-guard]",B=function(e,t){return e.reduce((function(e,r){return e.concat(C(r.querySelectorAll(t?j:F)),r.parentNode?C(r.parentNode.querySelectorAll(F)).filter((function(e){return e===r})):[])}),[])},$=function(e,t){return C(e).filter((function(e){return A(t,e)})).filter((function(e){return function(e){return!(("INPUT"===e.tagName||"BUTTON"===e.tagName)&&("hidden"===e.type||e.disabled))}(e)}))},K=function(e,t,r){return V($(B(e,r),t),!0,r)},G=function(e,t){return V($(B(e),t),!1)},H=function(e,t){return void 0===t&&(t=[]),t.push(e),e.parentNode&&H(e.parentNode,t),t},z=function(e,t){for(var r=H(e),n=H(t),i=0;i<r.length;i+=1){var o=r[i];if(n.indexOf(o)>=0)return o}return!1},W=function(e,t,r){var n=w(e),i=w(t),o=n[0],a=!1;return i.filter(Boolean).forEach((function(e){a=z(a||e,e)||a,r.filter(Boolean).forEach((function(e){var t=z(o,e);t&&(a=!a||t.contains(a)?t:z(t,a))}))})),a},Y=function(e,t){var r=document&&document.activeElement,n=k(e).filter(P),i=W(r||e,e,n),o=new Map,a=G(n,o),s=K(n,o).filter((function(e){var t=e.node;return P(t)}));if(s[0]||(s=a)[0]){var u,c,d,f,p=G([i],o).map((function(e){return e.node})),h=(u=p,c=s,d=new Map,c.forEach((function(e){return d.set(e.node,e)})),u.map((function(e){return d.get(e)})).filter(x)),v=h.map((function(e){return e.node})),g=function(e,t,r,n){var i=e.length,o=e[0],a=e[i-1],s=L(r);if(!(e.indexOf(r)>=0)){var l,u,c=t.indexOf(r),d=n?t.indexOf(n):c,f=n?e.indexOf(n):-1,p=c-d,h=t.indexOf(o),v=t.indexOf(a),g=(l=t,u=new Set,l.forEach((function(e){return u.add(R(e,l))})),l.filter((function(e){return u.has(e)}))),_=g.indexOf(r)-(n?g.indexOf(n):c),y=S(e,0),m=S(e,i-1);return-1===c||-1===f?M:!p&&f>=0?f:c<=h&&s&&Math.abs(p)>1?m:c>=v&&s&&Math.abs(p)>1?y:p&&Math.abs(_)>1?f:c<=h?m:c>v?y:p?Math.abs(p)>1?f:(i+f+p)%i:void 0}}(v,p,r,t);if(g===M){var _=a.map((function(e){return e.node})).filter((f=function(e,t){return e.reduce((function(e,r){return e.concat(function(e,t){return $((r=e.querySelectorAll("["+l+"]"),C(r).map((function(e){return B([e])})).reduce((function(e,t){return e.concat(t)}),[])),t);var r}(r,t))}),[])}(n,o),function(e){return e.autofocus||e.dataset&&!!e.dataset.autofocus||f.indexOf(e)>=0}));return{node:_&&_.length?T(_):T(v)}}return void 0===g?g:h[g]}},q=0,X=!1;const Z=function(e,t,r){void 0===r&&(r={});var n,i,o=Y(e,t);if(!X&&o){if(q>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),X=!0,void setTimeout((function(){X=!1}),1);q++,n=o.node,i=r.focusOptions,n.focus(i),"contentWindow"in n&&n.contentWindow&&n.contentWindow.focus(),q--}};var J=function(e){var t=document&&document.activeElement;return!(!t||t.dataset&&t.dataset.focusGuard)&&k(e).reduce((function(e,r){return e||r.contains(t)||function(e){return Boolean(C(e.querySelectorAll("iframe")).some((function(e){return e===document.activeElement})))}(r)}),!1)};function Q(e){var t=window.setImmediate;void 0!==t?t(e):setTimeout(e,1)}var ee=function(e,t){var r={};return r[e]=t,r},te=null,re=null,ne=null,ie=!1,oe=function(){return!0};function ae(e,t,r,n){var i=null,o=e;do{var a=n[o];if(a.guard)a.node.dataset.focusAutoGuard&&(i=a);else{if(!a.lockItem)break;if(o!==e)return;i=null}}while((o+=r)!==t);i&&(i.node.tabIndex=0)}var se=function(e){return e&&"current"in e?e.current:e},le=function(){var e,t,r,n,i,o,a,l=!1;if(te){var u=te,c=u.observed,d=u.persistentFocus,f=u.autoFocus,p=u.shards,h=u.crossFrame,v=u.focusOptions,g=c||ne&&ne.portaledElement,_=document&&document.activeElement;if(g){var y=[g].concat(p.map(se).filter(Boolean));if(_&&!function(e){return(te.whiteList||oe)(e)}(_)||(d||(h?Boolean(ie):"meanwhile"===ie)||!(document&&document.activeElement===document.body||document&&C(document.querySelectorAll("["+s+"]")).some((function(e){return e.contains(document.activeElement)})))||!re&&f)&&(!g||J(y)||(a=_,ne&&ne.portaledElement===a)||(document&&!re&&_&&!f?(_.blur&&_.blur(),document.body.focus()):(l=Z(y,re,{focusOptions:v}),ne={})),ie=!1,re=document&&document.activeElement),document){var m=document&&document.activeElement,E=(t=k(e=y).filter(P),r=W(e,e,t),n=new Map,i=K([r],n,!0),o=K(t,n).filter((function(e){var t=e.node;return P(t)})).map((function(e){return e.node})),i.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:o.indexOf(t)>=0,guard:L(t)}}))),b=E.map((function(e){return e.node})).indexOf(m);b>-1&&(E.filter((function(e){var t=e.guard,r=e.node;return t&&r.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")})),ae(b,E.length,1,E),ae(b,-1,-1,E))}}}return l},ue=function(e){le()&&e&&(e.stopPropagation(),e.preventDefault())},ce=function(){return Q(le)},de=function(){ie="just",setTimeout((function(){ie="meanwhile"}),0)};g.assignSyncMedium((function(e){var t=e.target,r=e.currentTarget;r.contains(t)||(ne={observerNode:r,portaledElement:t})})),_.assignMedium(ce),y.assignMedium((function(e){return e({moveFocusInside:Z,focusInside:J})}));const fe=(pe=function(e){return e.filter((function(e){return!e.disabled}))},he=function(e){var t=e.slice(-1)[0];t&&!te&&(document.addEventListener("focusin",ue),document.addEventListener("focusout",ce),window.addEventListener("blur",de));var r=te,n=r&&t&&t.id===r.id;te=t,r&&!n&&(r.onDeactivation(),e.filter((function(e){return e.id===r.id})).length||r.returnFocus(!t)),t?(re=null,n&&r.observed===t.observed||t.onActivation(),le(),Q(le)):(document.removeEventListener("focusin",ue),document.removeEventListener("focusout",ce),window.removeEventListener("blur",de),re=null)},function(e){var t,r=[];function n(){t=pe(r.map((function(e){return e.props}))),he(t)}var o,a,s,l=function(o){var a,s;function l(){return o.apply(this,arguments)||this}s=o,(a=l).prototype=Object.create(s.prototype),a.prototype.constructor=a,O(a,s),l.peek=function(){return t};var u=l.prototype;return u.componentDidMount=function(){r.push(this),n()},u.componentDidUpdate=function(){n()},u.componentWillUnmount=function(){var e=r.indexOf(this);r.splice(e,1),n()},u.render=function(){return i.default.createElement(e,this.props)},l}(i.PureComponent);return o=l,a="displayName",s="SideEffect("+function(e){return e.displayName||e.name||"Component"}(e)+")",a in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,l})((function(){return null}));var pe,he,ve=i.forwardRef((function(e,t){return i.createElement(I,n({sideCar:fe,ref:t},e))})),ge=I.propTypes||{};ge.sideCar,function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r])}(ge,["sideCar"]),ve.propTypes={};const _e=ve;var ye=function(e){var t=e.disabled,r=e.children,o=e.className;return i.createElement("div",n({},ee(l,!t),{className:o}),r)};ye.propTypes={},ye.defaultProps={disabled:!1,className:void 0};const me=ye;var Ee=function(e){i.useEffect((function(){var t=!0;return y.useMedium((function(r){var n=e&&e.current;t&&n&&(r.focusInside(n)||r.moveFocusInside(n,null))})),function(){t=!1}}),[e])};function be(e){var t=e.disabled,r=e.className,o=e.children,a=i.useRef(null);return Ee(t?void 0:a),i.createElement("div",n({},ee(l,!t),{ref:a,className:r}),o)}be.propTypes={},be.defaultProps={disabled:!1,className:void 0};const Ie=be;var Oe=function(e){var t=e.children,r=e.className;return i.createElement("div",n({},ee(s,!0),{className:r}),t)};Oe.propTypes={},Oe.defaultProps={className:void 0};const Ne=Oe,Re=_e},1787:(e,t)=>{"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,_=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,m=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case g:case v:case l:return e;default:return t}}case i:return t}}}function I(e){return b(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=n,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return I(e)||b(e)===c},t.isConcurrentMode=I,t.isContextConsumer=function(e){return b(e)===u},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return b(e)===f},t.isFragment=function(e){return b(e)===o},t.isLazy=function(e){return b(e)===g},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===a},t.isSuspense=function(e){return b(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===a||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===m||e.$$typeof===E||e.$$typeof===_)},t.typeOf=b},5336:(e,t,r)=>{"use strict";e.exports=r(1787)},2221:(e,t,r)=>{"use strict";var n=r(2276),i=Array.prototype.concat,o=Array.prototype.slice,a=e.exports=function(e){for(var t=[],r=0,a=e.length;r<a;r++){var s=e[r];n(s)?t=i.call(t,o.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},2276:e=>{e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},8556:(e,t,r)=>{var n=r(9052),i=r(2473),o=i;o.v1=n,o.v4=i,e.exports=o},9324:e=>{for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0,i=t;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},5411:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},9052:(e,t,r)=>{var n,i,o=r(5411),a=r(9324),s=0,l=0;e.exports=function(e,t,r){var u=t&&r||0,c=t||[],d=(e=e||{}).node||n,f=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==f){var p=o();null==d&&(d=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:l+1,g=h-s+(v-l)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,l=v,i=f;var _=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;c[u++]=_>>>24&255,c[u++]=_>>>16&255,c[u++]=_>>>8&255,c[u++]=255&_;var y=h/4294967296*1e4&268435455;c[u++]=y>>>8&255,c[u++]=255&y,c[u++]=y>>>24&15|16,c[u++]=y>>>16&255,c[u++]=f>>>8|128,c[u++]=255&f;for(var m=0;m<6;++m)c[u+m]=d[m];return t||a(c)}},2473:(e,t,r)=>{var n=r(5411),i=r(9324);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}}}]);