(()=>{"use strict";var ue={},F=Object.defineProperty,b=Object.defineProperties,M=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,R=(e,t,r)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,B=(e,t)=>{for(var r in t||(t={}))G.call(t,r)&&R(e,r,t[r]);if(T)for(var r of T(t))x.call(t,r)&&R(e,r,t[r]);return e},H=(e,t)=>b(e,M(t)),l;const E=H(B({},{BASE_URL:"https://www.ikea.com",LOCALE:"en-IN",SITEFOLDER:"in/en",ADD_TO_CART_API_URL:"https://rec.ingka.com/services/in-prod/v2/items/addtocart/{product}",ALTERNATIVE_API_URL:"https://rec.ingka.com/services/in-prod/v2/items/alternative/{product}",REPLACEMENT_API_URL:"https://rec.ingka.com/services/in-prod/v2/items/replacements/{product}",BLOB_API_URL:"https://rec.ingka.com/services/in-prod/v2/blobs/{product}/",BTI_PRODUCTS_API_URL:"https://rec.ingka.com/services/in-prod/v2/items/bti/",BUNDLE_PRODUCT_API_URL:"https://rec.ingka.com/services/in-prod/v2/bundles/from-item",BUNDLE_CATEGORY_API_URL:"https://rec.ingka.com/services/in-prod/v2/bundles/from-category",CART_API_URL:"https://rec.ingka.com/services/in-prod/v2/items/cart/",EASY_PICKS_API_URL:"https://rec.ingka.com/services/in-prod/v2/items/easypick/",FAMILY_API_URL:"https://rec.ingka.com/services/in-prod/v2/items/familyprice/",FOR_PRODUCT_LIST_API_URL:"https://rec.ingka.com/services/in-prod/v2/items/for-product-list/",FOR_YOU_API_URL:"https://rec.ingka.com/services/in-prod/v2/items/foryou",FROM_SERIES_API_URL:"https://rec.ingka.com/services/in-prod/v2/items/series/",NEW_PRODUCTS_API_URL:"https://rec.ingka.com/services/in-prod/v2/items/new/",NLP_PRODUCTS_API_URL:"https://rec.ingka.com/services/in-prod/v2/items/nlp/",OTHERS_ALSO_VIEWED_API_URL:"https://rec.ingka.com/services/in-prod/v2/items/others/{product}",POPULAR_API_URL:"https://rec.ingka.com/services/in-prod/v2/items/popular/",SIMILAR_API_URL:"https://rec.ingka.com/services/in-prod/v2/items/similar/{product}",GOES_WELL_WITH_API:"https://rec.ingka.com/services/in-prod/v2/items/goeswellwith/{product}"}),{CART_PAGE_URL:"https://order.ikea.com/in/en/checkout/shoppinglist/",COUNTRY:(l="in/en")==null?void 0:l.split("/")[0],DISABLE_ALL_FRONTEND_ABTEST:!1,DISABLE_CACHED_SIMILAR:!0,DISABLE_PANEL_FOR_YOU:"MISSING_ENV_VAR".DISABLE_PANEL_FOR_YOU==="true",DISABLE_PANEL_STYLE:"MISSING_ENV_VAR".DISABLE_PANEL_STYLE==="true",DISABLE_SHOPPINGCART_EVENT_TRACKING:"MISSING_ENV_VAR".DISABLE_SHOPPINGCART_EVENT_TRACKING==="true",ENABLE_SECOND_CART_PANEL:"MISSING_ENV_VAR".ENABLE_SECOND_CART_PANEL==="true",ENABLE_CART_RECOMMENDATIONS:!0,ENABLE_FAVOURITE_RECOMMENDATIONS:!0,ENABLE_PANELS:!0,ENABLE_PLP_TOP:"MISSING_ENV_VAR".ENABLE_PLP_TOP==="true",ENABLE_RECENTLY_VIEWED_SPA_LINK:!0,EVENTS_SERVICE_URL:"https://rec.ingka.com/services/event-in-prod/api/v1/userevents_form",HIDE_DIRECT_ADD_TO_CART_BUTTON:!0,LANG_DIR:"MISSING_ENV_VAR".LANG_DIR||"ltr",NODE_ENV:"production",SHOPPINGLIST_PAGE_URL:"https://order.ikea.com/in/en/checkout/shoppinglist/",SUPPORTS_POSTAL_CODE:"MISSING_ENV_VAR".SUPPORTS_POSTAL_CODE==="true",VIEW_PIP_CONTAINER_BOTTOM_PANELS:"pip-container-first,pip-container-second,pip-container-third",VIEW_PIP_PRODUCT_BOTTOM_PANELS:"pip-product-first",SIK_SEARCH_API_URL:"MISSING_ENV_VAR".SIK_SEARCH_API_URL||"",LIVLIG_BASE_URL:"MISSING_ENV_VAR".LIVLIG_BASE_URL||""});let p;function K(){try{const e="__some_random_key_you_are_not_going_to_use__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function u(){return p===void 0&&(p=K()),p}const W=e=>{!u()||localStorage.setItem("ikeaBrowserHistory",JSON.stringify(e))},Ie=e=>{if(!u())return;const t=JSON.parse(localStorage.getItem("ikeaBrowserHistory")||"{}"),r={plp:t.plp,pip:(t.pip||[]).map(n=>e===n.id?Object.assign({},n,{missing:Date.now()}):n)};W(r)},j=e=>typeof window.ikea=="object"&&typeof window.ikea.cookieConsent=="object"?window.ikea.cookieConsent.hasConsent(e):!0;var S=(e=>(e[e.STRICTLY_NECESSARY_COOKIES=1]="STRICTLY_NECESSARY_COOKIES",e[e.PERFORMANCE_COOKIES=2]="PERFORMANCE_COOKIES",e[e.FUNCTIONAL_COOKIES=3]="FUNCTIONAL_COOKIES",e[e.TARGETING_COOKIES=4]="TARGETING_COOKIES",e))(S||{});const C=50,g=60;let L=!1;function m(){return new Promise((e,t)=>{if(L||window.ikea.pubsub)return e(window.ikea.pubsub);let n=g;function o(){if(window.ikea&&window.ikea.pubsub)return L=!0,clearTimeout(c),e(window.ikea.pubsub);n--,n===0&&(clearTimeout(c),t(Error(`window.ikea.pubsub was not found after ${n} retries (${g*C} ms)`)))}const c=setTimeout(o,C)})}async function N(e,t){try{(await m()).subscribe(e,t)}catch(r){console.error(r)}}async function de(e,t){try{(await m()).publish(e,t)}catch(r){console.error(r)}}const Oe="CART_CLIENT/ADD_TO_CART",Te="CART_CLIENT/ADD_TO_CART_INITIATE",Y="CART_CLIENT/ADD_TO_CART_SUCCESS",Re="CART_CLIENT/ADD_TO_CART_FAIL",le="FAVOURITE_CLIENT/ADD_TO_FAVOURITES",Se="FAVOURITE_CLIENT/ADD_TO_FAVOURITES_INITIATE",q="FAVOURITE_CLIENT/ADD_TO_FAVOURITES_SUCCESS",Ce="FAVOURITE_CLIENT/REMOVE_FROM_FAVOURITES",ge="FAVOURITE_CLIENT/REMOVE_FROM_FAVOURITES_INITIATE",Le="FAVOURITE_CLIENT/REMOVE_FROM_FAVOURITES_SUCCESS",me="REC/PRODUCT_LOAD",Ne="NAVIGATION/POSTALCODE_SET",Pe="NAVIGATION/STORE_SET",ve="RANGE/STORE_SELECTED";var a=(e=>(e.CATEGORY="cat",e.DETAIL_PAGE="p",e.CHECKOUT="checkout",e.HOME="home",e))(a||{});const $=()=>{const e=new RegExp(/^\/.{2}\/.{2}\/([^/]*)\/.*$/),t=window.location.pathname,r=t.split("/");if(r.includes("shoppingbag")||r.includes("shoppingcart"))return"checkout";const n=e.exec(t),o=n&&n[1];return typeof o=="undefined"?null:o===null?"home":o==="cat"?"cat":o==="p"?"p":null},P=()=>E.SITEFOLDER.split("/").join(""),X=e=>{if(e){const t=/REC-API-PP-SETUP-01-V\d{1,2}:A/,r=e.toUpperCase().match(t);if(r)return r[0];const n=/REC-API-PP-SETUP-\d\d-V\d{1,2}:B/,o=e.toUpperCase().match(n);if(o)return o[0]}return null},J=()=>{var e;if(u()){const t=P();if(t){const r="rec-usergroup-".concat(t),n=(e=localStorage.getItem(r))!=null?e:"";return X(n)}}return null},v=()=>{try{return window.ga.getAll().pop().get("clientId")}catch(e){return null}},fe=()=>{const e=z("_ga")||"",r=new RegExp(/^GA1\.[1-2]\.([0-9]+\.[0-9]+)$/).exec(e)||[];return r&&r[1]?r[1]:null},z=e=>{const t=document.cookie.match("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""},I=e=>e.replace(/^\D+/g,"");var _=(e=>(e.ADD_TO_CART_VIEW="add-to-cart",e.CATEGORY_PAGE_VIEW="category-page-view",e.DETAIL_PAGE_VIEW="detail-page-view",e.SHOPPING_CART_PAGE_VIEW="shopping-cart-page-view",e.HOME_PAGE_VIEW="home-page-view",e.DEFAULT="page-visit",e))(_||{});const Q=e=>e===a.CATEGORY?"category-page-view":e===a.DETAIL_PAGE?"detail-page-view":e===a.CHECKOUT?"shopping-cart-page-view":e===a.HOME?"home-page-view":"page-visit",Z=e=>{if(e==="category-page-view"){const r=Array.from(document.querySelectorAll('[type="application/ld+json"]')).filter(i=>(i==null?void 0:i.innerHTML.indexOf("itemListElement"))>-1&&(i==null?void 0:i.innerHTML.indexOf("BreadcrumbList"))>-1)[0];if(r){let i;try{return i=JSON.parse(r.innerHTML).itemListElement.map(s=>{const Ee=new RegExp(/([^-]*)\/$/);let O;s.item&&(O=Ee.exec(s.item));const k=O&&O[1];return k||null}).filter(s=>!!s),{pageCategories:[{categories:i}]}}catch(s){return null}}const o=new RegExp(/([^-]*)\/$/).exec(window.location.pathname),c=o&&o[1];return c?{pageCategories:[{categories:[c]}]}:null}if(e==="detail-page-view"){const t=(document.querySelector(".js-product-pip[data-product-id]")||{dataset:{productId:null}}).dataset.productId;return t?{productDetails:[{id:I(t)}]}:null}if(e==="shopping-cart-page-view"){if(!(window.Checkout&&window.Checkout.analytics))return null;const t=(window.Checkout.analytics.ecommerceParams||window.Checkout.analytics.persistentParams||{}).items;return t?{productDetails:t.map(n=>({id:I(n.id),quantity:n.quantity}))}:null}return null},ee=()=>{const e=window.crypto||window.msCrypto;function t(r){let n;return r==="y"?(n=["8","9","a","b"],n[Math.floor(Math.random()*n.length)]):(n=new Uint8Array(1),e.getRandomValues(n),(n[0]%16).toString(16))}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t)};var te=Object.defineProperty,f=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,w=(e,t,r)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oe=(e,t)=>{for(var r in t||(t={}))re.call(t,r)&&w(e,r,t[r]);if(f)for(var r of f(t))ne.call(t,r)&&w(e,r,t[r]);return e};const D=({clientId:e,eventPageType:t,productEventDetail:r})=>{var n,o,c;const i=J();return{eventType:t,userInfo:{visitorId:e,userAgent:(n=(navigator!=null?navigator:{}).userAgent)!=null?n:""},eventDetail:oe({uri:(o=window.location.href)!=null?o:"",referrerUri:(c=document.referrer)!=null?c:"",pageViewId:ee()},i&&{experimentIds:[i]}),productEventDetail:r}},A=E.EVENTS_SERVICE_URL,U=e=>{if(A.length===0)return;const t=new Blob(["userEvent="+encodeURIComponent(JSON.stringify(e))],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(A.concat("?synchronous=true"),t)},h=e=>{const t=v();if(!t)return;const r=e.map(o=>({quantity:o.quantity,id:I(o.productNumber)})),n=D({clientId:t,eventPageType:_.ADD_TO_CART_VIEW,productEventDetail:{productDetails:r}});U(n)},ie=e=>{h(e.items)},ce=e=>{h([e])},se=e=>{const t=Q(e),r=Z(t),n=v();if(!n||!r&&t===_.CATEGORY_PAGE_VIEW||!r&&t===_.DETAIL_PAGE_VIEW||t===_.SHOPPING_CART_PAGE_VIEW&&E.DISABLE_SHOPPINGCART_EVENT_TRACKING)return;const o=D({clientId:n,eventPageType:t,productEventDetail:r});if(u()&&(t===_.CATEGORY_PAGE_VIEW||t===_.DETAIL_PAGE_VIEW)){const c=P();if(c){const i="rec-page-counter-".concat(c),s=parseInt(localStorage.getItem(i)||"0");localStorage.setItem(i,String(s+1))}}U(o)};let d=1;const _e=20,y=e=>{if(typeof window.ga!="undefined")e();else{if(d>=_e)return;d=d+1,setTimeout(()=>{y(e)},500)}},ae=()=>{E.ENABLE_FAVOURITE_RECOMMENDATIONS?N(q,ce):N(Y,ie),y(()=>{const e=$();e&&se(e)})},V=()=>{try{if(A.length===0||!navigator||!navigator.sendBeacon||!j(S.PERFORMANCE_COOKIES))return;window.addEventListener("load",ae)}catch(e){console.error(e)}};window.addEventListener("DOMContentLoaded",()=>{var e;((e=window==null?void 0:window.ikea)==null?void 0:e.cookieConsent)&&typeof window.ikea.cookieConsent=="object"&&Object.keys(window.ikea.cookieConsent.status||{}).length===0?document.addEventListener("ikeaCookieConsent",()=>{V()}):V()})})();
